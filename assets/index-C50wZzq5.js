(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function bf(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const bt={},Ts=[],vo=()=>{},ov=()=>!1,wc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wf=e=>e.startsWith("onUpdate:"),tn=Object.assign,kf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Iw=Object.prototype.hasOwnProperty,ft=(e,t)=>Iw.call(e,t),Ue=Array.isArray,Es=e=>fa(e)==="[object Map]",rv=e=>fa(e)==="[object Set]",Kp=e=>fa(e)==="[object Date]",Ye=e=>typeof e=="function",Dt=e=>typeof e=="string",no=e=>typeof e=="symbol",yt=e=>e!==null&&typeof e=="object",sv=e=>(yt(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),iv=Object.prototype.toString,fa=e=>iv.call(e),Lw=e=>fa(e).slice(8,-1),av=e=>fa(e)==="[object Object]",kc=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ki=bf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cc=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Pw=/-\w/g,qn=Cc(e=>e.replace(Pw,t=>t.slice(1).toUpperCase())),Vw=/\B([A-Z])/g,Nr=Cc(e=>e.replace(Vw,"-$1").toLowerCase()),Sc=Cc(e=>e.charAt(0).toUpperCase()+e.slice(1)),ol=Cc(e=>e?`on${Sc(e)}`:""),Cr=(e,t)=>!Object.is(e,t),rl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},lv=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Cf=e=>{const t=parseFloat(e);return isNaN(t)?e:t},cv=e=>{const t=Dt(e)?Number(e):NaN;return isNaN(t)?e:t};let Wp;const xc=()=>Wp||(Wp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ht(e){if(Ue(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=Dt(o)?zw(o):Ht(o);if(r)for(const s in r)t[s]=r[s]}return t}else if(Dt(e)||yt(e))return e}const _w=/;(?![^(]*\))/g,Bw=/:([^]+)/,Hw=/\/\*[^]*?\*\//g;function zw(e){const t={};return e.replace(Hw,"").split(_w).forEach(n=>{if(n){const o=n.split(Bw);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Xe(e){let t="";if(Dt(e))t=e;else if(Ue(e))for(let n=0;n<e.length;n++){const o=Xe(e[n]);o&&(t+=o+" ")}else if(yt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function jr(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Dt(t)&&(e.class=Xe(t)),n&&(e.style=Ht(n)),e}const Fw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jw=bf(Fw);function uv(e){return!!e||e===""}function Uw(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Sf(e[o],t[o]);return n}function Sf(e,t){if(e===t)return!0;let n=Kp(e),o=Kp(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=no(e),o=no(t),n||o)return e===t;if(n=Ue(e),o=Ue(t),n||o)return n&&o?Uw(e,t):!1;if(n=yt(e),o=yt(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!Sf(e[i],t[i]))return!1}}return String(e)===String(t)}const dv=e=>!!(e&&e.__v_isRef===!0),Fe=e=>Dt(e)?e:e==null?"":Ue(e)||yt(e)&&(e.toString===iv||!Ye(e.toString))?dv(e)?Fe(e.value):JSON.stringify(e,fv,2):String(e),fv=(e,t)=>dv(t)?fv(e,t.value):Es(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],s)=>(n[gu(o,s)+" =>"]=r,n),{})}:rv(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>gu(n))}:no(t)?gu(t):yt(t)&&!Ue(t)&&!av(t)?String(t):t,gu=(e,t="")=>{var n;return no(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let $n;class Kw{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=$n,!t&&$n&&(this.index=($n.scopes||($n.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=$n;try{return $n=this,t()}finally{$n=n}}}on(){++this._on===1&&(this.prevScope=$n,$n=this)}off(){this._on>0&&--this._on===0&&($n=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ww(){return $n}let Mt;const vu=new WeakSet;class pv{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$n&&$n.active&&$n.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vu.has(this)&&(vu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||mv(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qp(this),gv(this);const t=Mt,n=Qn;Mt=this,Qn=!0;try{return this.fn()}finally{vv(this),Mt=t,Qn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Mf(t);this.deps=this.depsTail=void 0,qp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fd(this)&&this.run()}get dirty(){return fd(this)}}let hv=0,Ci,Si;function mv(e,t=!1){if(e.flags|=8,t){e.next=Si,Si=e;return}e.next=Ci,Ci=e}function xf(){hv++}function Af(){if(--hv>0)return;if(Si){let t=Si;for(Si=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ci;){let t=Ci;for(Ci=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function gv(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vv(e){let t,n=e.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),Mf(o),qw(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function fd(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yv(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yv(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ki)||(e.globalVersion=Ki,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!fd(e))))return;e.flags|=2;const t=e.dep,n=Mt,o=Qn;Mt=e,Qn=!0;try{gv(e);const r=e.fn(e._value);(t.version===0||Cr(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Mt=n,Qn=o,vv(e),e.flags&=-3}}function Mf(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Mf(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function qw(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Qn=!0;const bv=[];function Uo(){bv.push(Qn),Qn=!1}function Ko(){const e=bv.pop();Qn=e===void 0?!0:e}function qp(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Mt;Mt=void 0;try{t()}finally{Mt=n}}}let Ki=0;class Gw{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ac{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Mt||!Qn||Mt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Mt)n=this.activeLink=new Gw(Mt,this),Mt.deps?(n.prevDep=Mt.depsTail,Mt.depsTail.nextDep=n,Mt.depsTail=n):Mt.deps=Mt.depsTail=n,wv(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Mt.depsTail,n.nextDep=void 0,Mt.depsTail.nextDep=n,Mt.depsTail=n,Mt.deps===n&&(Mt.deps=o)}return n}trigger(t){this.version++,Ki++,this.notify(t)}notify(t){xf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Af()}}}function wv(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)wv(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const yl=new WeakMap,Jr=Symbol(""),pd=Symbol(""),Wi=Symbol("");function mn(e,t,n){if(Qn&&Mt){let o=yl.get(e);o||yl.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new Ac),r.map=o,r.key=n),r.track()}}function Vo(e,t,n,o,r,s){const i=yl.get(e);if(!i){Ki++;return}const a=l=>{l&&l.trigger()};if(xf(),t==="clear")i.forEach(a);else{const l=Ue(e),c=l&&kc(n);if(l&&n==="length"){const u=Number(o);i.forEach((d,f)=>{(f==="length"||f===Wi||!no(f)&&f>=u)&&a(d)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),c&&a(i.get(Wi)),t){case"add":l?c&&a(i.get("length")):(a(i.get(Jr)),Es(e)&&a(i.get(pd)));break;case"delete":l||(a(i.get(Jr)),Es(e)&&a(i.get(pd)));break;case"set":Es(e)&&a(i.get(Jr));break}}Af()}function Jw(e,t){const n=yl.get(e);return n&&n.get(t)}function fs(e){const t=st(e);return t===e?t:(mn(t,"iterate",Wi),Pn(e)?t:t.map(oo))}function Mc(e){return mn(e=st(e),"iterate",Wi),e}function ar(e,t){return Wo(e)?Sr(e)?Vs(oo(t)):Vs(t):oo(t)}const Yw={__proto__:null,[Symbol.iterator](){return yu(this,Symbol.iterator,e=>ar(this,e))},concat(...e){return fs(this).concat(...e.map(t=>Ue(t)?fs(t):t))},entries(){return yu(this,"entries",e=>(e[1]=ar(this,e[1]),e))},every(e,t){return Ao(this,"every",e,t,void 0,arguments)},filter(e,t){return Ao(this,"filter",e,t,n=>n.map(o=>ar(this,o)),arguments)},find(e,t){return Ao(this,"find",e,t,n=>ar(this,n),arguments)},findIndex(e,t){return Ao(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ao(this,"findLast",e,t,n=>ar(this,n),arguments)},findLastIndex(e,t){return Ao(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ao(this,"forEach",e,t,void 0,arguments)},includes(...e){return bu(this,"includes",e)},indexOf(...e){return bu(this,"indexOf",e)},join(e){return fs(this).join(e)},lastIndexOf(...e){return bu(this,"lastIndexOf",e)},map(e,t){return Ao(this,"map",e,t,void 0,arguments)},pop(){return ri(this,"pop")},push(...e){return ri(this,"push",e)},reduce(e,...t){return Gp(this,"reduce",e,t)},reduceRight(e,...t){return Gp(this,"reduceRight",e,t)},shift(){return ri(this,"shift")},some(e,t){return Ao(this,"some",e,t,void 0,arguments)},splice(...e){return ri(this,"splice",e)},toReversed(){return fs(this).toReversed()},toSorted(e){return fs(this).toSorted(e)},toSpliced(...e){return fs(this).toSpliced(...e)},unshift(...e){return ri(this,"unshift",e)},values(){return yu(this,"values",e=>ar(this,e))}};function yu(e,t,n){const o=Mc(e),r=o[t]();return o!==e&&!Pn(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.done||(s.value=n(s.value)),s}),r}const Zw=Array.prototype;function Ao(e,t,n,o,r,s){const i=Mc(e),a=i!==e&&!Pn(e),l=i[t];if(l!==Zw[t]){const d=l.apply(e,s);return a?oo(d):d}let c=n;i!==e&&(a?c=function(d,f){return n.call(this,ar(e,d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=l.call(i,c,o);return a&&r?r(u):u}function Gp(e,t,n,o){const r=Mc(e);let s=n;return r!==e&&(Pn(e)?n.length>3&&(s=function(i,a,l){return n.call(this,i,a,l,e)}):s=function(i,a,l){return n.call(this,i,ar(e,a),l,e)}),r[t](s,...o)}function bu(e,t,n){const o=st(e);mn(o,"iterate",Wi);const r=o[t](...n);return(r===-1||r===!1)&&$c(n[0])?(n[0]=st(n[0]),o[t](...n)):r}function ri(e,t,n=[]){Uo(),xf();const o=st(e)[t].apply(e,n);return Af(),Ko(),o}const Xw=bf("__proto__,__v_isRef,__isVue"),kv=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(no));function Qw(e){no(e)||(e=String(e));const t=st(this);return mn(t,"has",e),t.hasOwnProperty(e)}class Cv{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(r?s?Ev:Tv:s?Mv:Av).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=Ue(t);if(!r){let l;if(i&&(l=Yw[n]))return l;if(n==="hasOwnProperty")return Qw}const a=Reflect.get(t,n,Ut(t)?t:o);if((no(n)?kv.has(n):Xw(n))||(r||mn(t,"get",n),s))return a;if(Ut(a)){const l=i&&kc(n)?a:a.value;return r&&yt(l)?Ps(l):l}return yt(a)?r?Ps(a):pt(a):a}}class Sv extends Cv{constructor(t=!1){super(!1,t)}set(t,n,o,r){let s=t[n];const i=Ue(t)&&kc(n);if(!this._isShallow){const c=Wo(s);if(!Pn(o)&&!Wo(o)&&(s=st(s),o=st(o)),!i&&Ut(s)&&!Ut(o))return c||(s.value=o),!0}const a=i?Number(n)<t.length:ft(t,n),l=Reflect.set(t,n,o,Ut(t)?t:r);return t===st(r)&&(a?Cr(o,s)&&Vo(t,"set",n,o):Vo(t,"add",n,o)),l}deleteProperty(t,n){const o=ft(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&Vo(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!no(n)||!kv.has(n))&&mn(t,"has",n),o}ownKeys(t){return mn(t,"iterate",Ue(t)?"length":Jr),Reflect.ownKeys(t)}}class xv extends Cv{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ek=new Sv,tk=new xv,nk=new Sv(!0),ok=new xv(!0),hd=e=>e,Ia=e=>Reflect.getPrototypeOf(e);function rk(e,t,n){return function(...o){const r=this.__v_raw,s=st(r),i=Es(s),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=r[e](...o),u=n?hd:t?Vs:oo;return!t&&mn(s,"iterate",l?pd:Jr),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function La(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sk(e,t){const n={get(r){const s=this.__v_raw,i=st(s),a=st(r);e||(Cr(r,a)&&mn(i,"get",r),mn(i,"get",a));const{has:l}=Ia(i),c=t?hd:e?Vs:oo;if(l.call(i,r))return c(s.get(r));if(l.call(i,a))return c(s.get(a));s!==i&&s.get(r)},get size(){const r=this.__v_raw;return!e&&mn(st(r),"iterate",Jr),r.size},has(r){const s=this.__v_raw,i=st(s),a=st(r);return e||(Cr(r,a)&&mn(i,"has",r),mn(i,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const i=this,a=i.__v_raw,l=st(a),c=t?hd:e?Vs:oo;return!e&&mn(l,"iterate",Jr),a.forEach((u,d)=>r.call(s,c(u),c(d),i))}};return tn(n,e?{add:La("add"),set:La("set"),delete:La("delete"),clear:La("clear")}:{add(r){!t&&!Pn(r)&&!Wo(r)&&(r=st(r));const s=st(this);return Ia(s).has.call(s,r)||(s.add(r),Vo(s,"add",r,r)),this},set(r,s){!t&&!Pn(s)&&!Wo(s)&&(s=st(s));const i=st(this),{has:a,get:l}=Ia(i);let c=a.call(i,r);c||(r=st(r),c=a.call(i,r));const u=l.call(i,r);return i.set(r,s),c?Cr(s,u)&&Vo(i,"set",r,s):Vo(i,"add",r,s),this},delete(r){const s=st(this),{has:i,get:a}=Ia(s);let l=i.call(s,r);l||(r=st(r),l=i.call(s,r)),a&&a.call(s,r);const c=s.delete(r);return l&&Vo(s,"delete",r,void 0),c},clear(){const r=st(this),s=r.size!==0,i=r.clear();return s&&Vo(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=rk(r,e,t)}),n}function Tc(e,t){const n=sk(e,t);return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(ft(n,r)&&r in o?n:o,r,s)}const ik={get:Tc(!1,!1)},ak={get:Tc(!1,!0)},lk={get:Tc(!0,!1)},ck={get:Tc(!0,!0)},Av=new WeakMap,Mv=new WeakMap,Tv=new WeakMap,Ev=new WeakMap;function uk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dk(e){return e.__v_skip||!Object.isExtensible(e)?0:uk(Lw(e))}function pt(e){return Wo(e)?e:Ec(e,!1,ek,ik,Av)}function $v(e){return Ec(e,!1,nk,ak,Mv)}function Ps(e){return Ec(e,!0,tk,lk,Tv)}function fk(e){return Ec(e,!0,ok,ck,Ev)}function Ec(e,t,n,o,r){if(!yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=dk(e);if(s===0)return e;const i=r.get(e);if(i)return i;const a=new Proxy(e,s===2?o:n);return r.set(e,a),a}function Sr(e){return Wo(e)?Sr(e.__v_raw):!!(e&&e.__v_isReactive)}function Wo(e){return!!(e&&e.__v_isReadonly)}function Pn(e){return!!(e&&e.__v_isShallow)}function $c(e){return e?!!e.__v_raw:!1}function st(e){const t=e&&e.__v_raw;return t?st(t):e}function pa(e){return!ft(e,"__v_skip")&&Object.isExtensible(e)&&lv(e,"__v_skip",!0),e}const oo=e=>yt(e)?pt(e):e,Vs=e=>yt(e)?Ps(e):e;function Ut(e){return e?e.__v_isRef===!0:!1}function C(e){return Ov(e,!1)}function jn(e){return Ov(e,!0)}function Ov(e,t){return Ut(e)?e:new pk(e,t)}class pk{constructor(t,n){this.dep=new Ac,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:st(t),this._value=n?t:oo(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Pn(t)||Wo(t);t=o?t:st(t),Cr(t,n)&&(this._rawValue=t,this._value=o?t:oo(t),this.dep.trigger())}}function sl(e){e.dep&&e.dep.trigger()}function eo(e){return Ut(e)?e.value:e}const hk={get:(e,t,n)=>t==="__v_raw"?e:eo(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return Ut(r)&&!Ut(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function Tf(e){return Sr(e)?e:new Proxy(e,hk)}class mk{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ac,{get:o,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function gk(e){return new mk(e)}class vk{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=st(t);let r=!0,s=t;if(!Ue(t)||!kc(String(n)))do r=!$c(s)||Pn(s);while(r&&(s=s.__v_raw));this._shallow=r}get value(){let t=this._object[this._key];return this._shallow&&(t=eo(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Ut(this._raw[this._key])){const n=this._object[this._key];if(Ut(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return Jw(this._raw,this._key)}}class yk{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function bk(e,t,n){return Ut(e)?e:Ye(e)?new yk(e):yt(e)&&arguments.length>1?wk(e,t,n):C(e)}function wk(e,t,n){return new vk(e,t,n)}class kk{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ac(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ki-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Mt!==this)return mv(this,!0),!0}get value(){const t=this.dep.track();return yv(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ck(e,t,n=!1){let o,r;return Ye(e)?o=e:(o=e.get,r=e.set),new kk(o,r,n)}const Pa={},bl=new WeakMap;let Fr;function Sk(e,t=!1,n=Fr){if(n){let o=bl.get(n);o||bl.set(n,o=[]),o.push(e)}}function xk(e,t,n=bt){const{immediate:o,deep:r,once:s,scheduler:i,augmentJob:a,call:l}=n,c=S=>r?S:Pn(S)||r===!1||r===0?_o(S,1):_o(S);let u,d,f,p,h=!1,m=!1;if(Ut(e)?(d=()=>e.value,h=Pn(e)):Sr(e)?(d=()=>c(e),h=!0):Ue(e)?(m=!0,h=e.some(S=>Sr(S)||Pn(S)),d=()=>e.map(S=>{if(Ut(S))return S.value;if(Sr(S))return c(S);if(Ye(S))return l?l(S,2):S()})):Ye(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Uo();try{f()}finally{Ko()}}const S=Fr;Fr=u;try{return l?l(e,3,[p]):e(p)}finally{Fr=S}}:d=vo,t&&r){const S=d,M=r===!0?1/0:r;d=()=>_o(S(),M)}const v=Ww(),y=()=>{u.stop(),v&&v.active&&kf(v.effects,u)};if(s&&t){const S=t;t=(...M)=>{S(...M),y()}}let w=m?new Array(e.length).fill(Pa):Pa;const k=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const M=u.run();if(r||h||(m?M.some((L,N)=>Cr(L,w[N])):Cr(M,w))){f&&f();const L=Fr;Fr=u;try{const N=[M,w===Pa?void 0:m&&w[0]===Pa?[]:w,p];w=M,l?l(t,3,N):t(...N)}finally{Fr=L}}}else u.run()};return a&&a(k),u=new pv(d),u.scheduler=i?()=>i(k,!1):k,p=S=>Sk(S,!1,u),f=u.onStop=()=>{const S=bl.get(u);if(S){if(l)l(S,4);else for(const M of S)M();bl.delete(u)}},t?o?k(!0):w=u.run():i?i(k.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function _o(e,t=1/0,n){if(t<=0||!yt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ut(e))_o(e.value,t,n);else if(Ue(e))for(let o=0;o<e.length;o++)_o(e[o],t,n);else if(rv(e)||Es(e))e.forEach(o=>{_o(o,t,n)});else if(av(e)){for(const o in e)_o(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&_o(e[o],t,n)}return e}function ha(e,t,n,o){try{return o?e(...o):e()}catch(r){ma(r,t,n)}}function ro(e,t,n,o){if(Ye(e)){const r=ha(e,t,n,o);return r&&sv(r)&&r.catch(s=>{ma(s,t,n)}),r}if(Ue(e)){const r=[];for(let s=0;s<e.length;s++)r.push(ro(e[s],t,n,o));return r}}function ma(e,t,n,o=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||bt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(s){Uo(),ha(s,null,10,[e,l,c]),Ko();return}}Ak(e,n,r,o,i)}function Ak(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const Sn=[];let uo=-1;const $s=[];let lr=null,gs=0;const Dv=Promise.resolve();let wl=null;function ut(e){const t=wl||Dv;return e?t.then(this?e.bind(this):e):t}function Mk(e){let t=uo+1,n=Sn.length;for(;t<n;){const o=t+n>>>1,r=Sn[o],s=qi(r);s<e||s===e&&r.flags&2?t=o+1:n=o}return t}function Ef(e){if(!(e.flags&1)){const t=qi(e),n=Sn[Sn.length-1];!n||!(e.flags&2)&&t>=qi(n)?Sn.push(e):Sn.splice(Mk(t),0,e),e.flags|=1,Rv()}}function Rv(){wl||(wl=Dv.then(Iv))}function md(e){Ue(e)?$s.push(...e):lr&&e.id===-1?lr.splice(gs+1,0,e):e.flags&1||($s.push(e),e.flags|=1),Rv()}function Jp(e,t,n=uo+1){for(;n<Sn.length;n++){const o=Sn[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Sn.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Nv(e){if($s.length){const t=[...new Set($s)].sort((n,o)=>qi(n)-qi(o));if($s.length=0,lr){lr.push(...t);return}for(lr=t,gs=0;gs<lr.length;gs++){const n=lr[gs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}lr=null,gs=0}}const qi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Iv(e){try{for(uo=0;uo<Sn.length;uo++){const t=Sn[uo];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ha(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;uo<Sn.length;uo++){const t=Sn[uo];t&&(t.flags&=-2)}uo=-1,Sn.length=0,Nv(),wl=null,(Sn.length||$s.length)&&Iv()}}let an=null,Lv=null;function kl(e){const t=an;return an=e,Lv=e&&e.type.__scopeId||null,t}function j(e,t=an,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&Al(-1);const s=kl(t);let i;try{i=e(...r)}finally{kl(s),o._d&&Al(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function Pv(e,t){if(an===null)return e;const n=Lc(an),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,i,a,l=bt]=t[r];s&&(Ye(s)&&(s={mounted:s,updated:s}),s.deep&&_o(i),o.push({dir:s,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function Vr(e,t,n,o){const r=e.dirs,s=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];s&&(a.oldValue=s[i].value);let l=a.dir[o];l&&(Uo(),ro(l,n,8,[e.el,a,e,t]),Ko())}}const Vv=Symbol("_vte"),_v=e=>e.__isTeleport,xi=e=>e&&(e.disabled||e.disabled===""),Yp=e=>e&&(e.defer||e.defer===""),Zp=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Xp=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,gd=(e,t)=>{const n=e&&e.to;return Dt(n)?t?t(n):null:n},Bv={name:"Teleport",__isTeleport:!0,process(e,t,n,o,r,s,i,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:h,createText:m,createComment:v}}=c,y=xi(t.props);let{shapeFlag:w,children:k,dynamicChildren:S}=t;if(e==null){const M=t.el=m(""),L=t.anchor=m("");p(M,n,o),p(L,n,o);const N=(_,G)=>{w&16&&u(k,_,G,r,s,i,a,l)},V=()=>{const _=t.target=gd(t.props,h),G=Hv(_,t,m,p);_&&(i!=="svg"&&Zp(_)?i="svg":i!=="mathml"&&Xp(_)&&(i="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(_),y||(N(_,G),il(t,!1)))};y&&(N(n,L),il(t,!0)),Yp(t.props)?(t.el.__isMounted=!1,pn(()=>{V(),delete t.el.__isMounted},s)):V()}else{if(Yp(t.props)&&e.el.__isMounted===!1){pn(()=>{Bv.process(e,t,n,o,r,s,i,a,l,c)},s);return}t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,L=t.target=e.target,N=t.targetAnchor=e.targetAnchor,V=xi(e.props),_=V?n:L,G=V?M:N;if(i==="svg"||Zp(L)?i="svg":(i==="mathml"||Xp(L))&&(i="mathml"),S?(f(e.dynamicChildren,S,_,r,s,i,a),If(e,t,!0)):l||d(e,t,_,G,r,s,i,a,!1),y)V?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Va(t,n,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const te=t.target=gd(t.props,h);te&&Va(t,te,null,c,0)}else V&&Va(t,L,N,c,1);il(t,y)}},remove(e,t,n,{um:o,o:{remove:r}},s){const{shapeFlag:i,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=e;if(d&&(r(c),r(u)),s&&r(l),i&16){const p=s||!xi(f);for(let h=0;h<a.length;h++){const m=a[h];o(m,t,n,p,!!m.dynamicChildren)}}},move:Va,hydrate:Tk};function Va(e,t,n,{o:{insert:o},m:r},s=2){s===0&&o(e.targetAnchor,t,n);const{el:i,anchor:a,shapeFlag:l,children:c,props:u}=e,d=s===2;if(d&&o(i,t,n),(!d||xi(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],t,n,2);d&&o(a,t,n)}function Tk(e,t,n,o,r,s,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:c,createText:u}},d){function f(m,v,y,w){v.anchor=d(i(m),v,a(m),n,o,r,s),v.targetStart=y,v.targetAnchor=w}const p=t.target=gd(t.props,l),h=xi(t.props);if(p){const m=p._lpa||p.firstChild;if(t.shapeFlag&16)if(h)f(e,t,m,m&&i(m));else{t.anchor=i(e);let v=m;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,p._lpa=t.targetAnchor&&i(t.targetAnchor);break}}v=i(v)}t.targetAnchor||Hv(p,t,u,c),d(m&&i(m),t,p,n,o,r,s)}il(t,h)}else h&&t.shapeFlag&16&&f(e,t,e,i(e));return t.anchor&&i(t.anchor)}const Ek=Bv;function il(e,t){const n=e.ctx;if(n&&n.ut){let o,r;for(t?(o=e.el,r=e.anchor):(o=e.targetStart,r=e.targetAnchor);o&&o!==r;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function Hv(e,t,n,o){const r=t.targetStart=n(""),s=t.targetAnchor=n("");return r[Vv]=s,e&&(o(r,e),o(s,e)),s}const Po=Symbol("_leaveCb"),_a=Symbol("_enterCb");function $k(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Go(()=>{e.isMounted=!0}),ga(()=>{e.isUnmounting=!0}),e}const _n=[Function,Array],zv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_n,onEnter:_n,onAfterEnter:_n,onEnterCancelled:_n,onBeforeLeave:_n,onLeave:_n,onAfterLeave:_n,onLeaveCancelled:_n,onBeforeAppear:_n,onAppear:_n,onAfterAppear:_n,onAppearCancelled:_n},Fv=e=>{const t=e.subTree;return t.component?Fv(t.component):t},Ok={name:"BaseTransition",props:zv,setup(e,{slots:t}){const n=Gs(),o=$k();return()=>{const r=t.default&&Kv(t.default(),!0);if(!r||!r.length)return;const s=jv(r),i=st(e),{mode:a}=i;if(o.isLeaving)return wu(s);const l=Qp(s);if(!l)return wu(s);let c=vd(l,i,o,n,d=>c=d);l.type!==Gt&&Gi(l,c);let u=n.subTree&&Qp(n.subTree);if(u&&u.type!==Gt&&!go(u,l)&&Fv(n).type!==Gt){let d=vd(u,i,o,n);if(Gi(u,d),a==="out-in"&&l.type!==Gt)return o.isLeaving=!0,d.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},wu(s);a==="in-out"&&l.type!==Gt?d.delayLeave=(f,p,h)=>{const m=Uv(o,u);m[String(u.key)]=u,f[Po]=()=>{p(),f[Po]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{h(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function jv(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Gt){t=n;break}}return t}const Dk=Ok;function Uv(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function vd(e,t,n,o,r){const{appear:s,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:w,onAppearCancelled:k}=t,S=String(e.key),M=Uv(n,e),L=(_,G)=>{_&&ro(_,o,9,G)},N=(_,G)=>{const te=G[1];L(_,G),Ue(_)?_.every(Y=>Y.length<=1)&&te():_.length<=1&&te()},V={mode:i,persisted:a,beforeEnter(_){let G=l;if(!n.isMounted)if(s)G=v||l;else return;_[Po]&&_[Po](!0);const te=M[S];te&&go(e,te)&&te.el[Po]&&te.el[Po](),L(G,[_])},enter(_){let G=c,te=u,Y=d;if(!n.isMounted)if(s)G=y||c,te=w||u,Y=k||d;else return;let q=!1;const $=_[_a]=F=>{q||(q=!0,F?L(Y,[_]):L(te,[_]),V.delayedLeave&&V.delayedLeave(),_[_a]=void 0)};G?N(G,[_,$]):$()},leave(_,G){const te=String(e.key);if(_[_a]&&_[_a](!0),n.isUnmounting)return G();L(f,[_]);let Y=!1;const q=_[Po]=$=>{Y||(Y=!0,G(),$?L(m,[_]):L(h,[_]),_[Po]=void 0,M[te]===e&&delete M[te])};M[te]=e,p?N(p,[_,q]):q()},clone(_){const G=vd(_,t,n,o,r);return r&&r(G),G}};return V}function wu(e){if(Oc(e))return e=$r(e),e.children=null,e}function Qp(e){if(!Oc(e))return _v(e.type)&&e.children?jv(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ye(n.default))return n.default()}}function Gi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Gi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Kv(e,t=!1,n){let o=[],r=0;for(let s=0;s<e.length;s++){let i=e[s];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:s);i.type===Pe?(i.patchFlag&128&&r++,o=o.concat(Kv(i.children,t,a))):(t||i.type!==Gt)&&o.push(a!=null?$r(i,{key:a}):i)}if(r>1)for(let s=0;s<o.length;s++)o[s].patchFlag=-2;return o}function be(e,t){return Ye(e)?tn({name:e.name},t,{setup:e}):e}function Wv(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Cl=new WeakMap;function Ai(e,t,n,o,r=!1){if(Ue(e)){e.forEach((h,m)=>Ai(h,t&&(Ue(t)?t[m]:t),n,o,r));return}if(Os(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Ai(e,t,n,o.component.subTree);return}const s=o.shapeFlag&4?Lc(o.component):o.el,i=r?null:s,{i:a,r:l}=e,c=t&&t.r,u=a.refs===bt?a.refs={}:a.refs,d=a.setupState,f=st(d),p=d===bt?ov:h=>ft(f,h);if(c!=null&&c!==l){if(eh(t),Dt(c))u[c]=null,p(c)&&(d[c]=null);else if(Ut(c)){c.value=null;const h=t;h.k&&(u[h.k]=null)}}if(Ye(l))ha(l,a,12,[i,u]);else{const h=Dt(l),m=Ut(l);if(h||m){const v=()=>{if(e.f){const y=h?p(l)?d[l]:u[l]:l.value;if(r)Ue(y)&&kf(y,s);else if(Ue(y))y.includes(s)||y.push(s);else if(h)u[l]=[s],p(l)&&(d[l]=u[l]);else{const w=[s];l.value=w,e.k&&(u[e.k]=w)}}else h?(u[l]=i,p(l)&&(d[l]=i)):m&&(l.value=i,e.k&&(u[e.k]=i))};if(i){const y=()=>{v(),Cl.delete(e)};y.id=-1,Cl.set(e,y),pn(y,n)}else eh(e),v()}}}function eh(e){const t=Cl.get(e);t&&(t.flags|=8,Cl.delete(e))}xc().requestIdleCallback;xc().cancelIdleCallback;const Os=e=>!!e.type.__asyncLoader,Oc=e=>e.type.__isKeepAlive;function Rk(e,t){qv(e,"a",t)}function Nk(e,t){qv(e,"da",t)}function qv(e,t,n=gn){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Dc(t,o,n),n){let r=n.parent;for(;r&&r.parent;)Oc(r.parent.vnode)&&Ik(o,t,n,r),r=r.parent}}function Ik(e,t,n,o){const r=Dc(t,e,o,!0);cs(()=>{kf(o[t],r)},n)}function Dc(e,t,n=gn,o=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{Uo();const a=ya(n),l=ro(t,n,e,i);return a(),Ko(),l});return o?r.unshift(s):r.push(s),s}}const qo=e=>(t,n=gn)=>{(!Yi||e==="sp")&&Dc(e,(...o)=>t(...o),n)},Gv=qo("bm"),Go=qo("m"),Lk=qo("bu"),Pk=qo("u"),ga=qo("bum"),cs=qo("um"),Vk=qo("sp"),_k=qo("rtg"),Bk=qo("rtc");function Jv(e,t=gn){Dc("ec",e,t)}const Yv="components";function K(e,t){return Xv(Yv,e,!0,t)||e}const Zv=Symbol.for("v-ndc");function $f(e){return Dt(e)?Xv(Yv,e,!1)||e:e||Zv}function Xv(e,t,n=!0,o=!1){const r=an||gn;if(r){const s=r.type;{const a=O2(s,!1);if(a&&(a===t||a===qn(t)||a===Sc(qn(t))))return s}const i=th(r[e]||s[e],t)||th(r.appContext[e],t);return!i&&o?s:i}}function th(e,t){return e&&(e[t]||e[qn(t)]||e[Sc(qn(t))])}function ct(e,t,n,o){let r;const s=n,i=Ue(e);if(i||Dt(e)){const a=i&&Sr(e);let l=!1,c=!1;a&&(l=!Pn(e),c=Wo(e),e=Mc(e)),r=new Array(e.length);for(let u=0,d=e.length;u<d;u++)r[u]=t(l?c?Vs(oo(e[u])):oo(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s)}else if(yt(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=t(e[u],u,l,s)}}else r=[];return r}function Rc(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(Ue(o))for(let r=0;r<o.length;r++)e[o[r].name]=o[r].fn;else o&&(e[o.name]=o.key?(...r)=>{const s=o.fn(...r);return s&&(s.key=o.key),s}:o.fn)}return e}function Qe(e,t,n={},o,r){if(an.ce||an.parent&&Os(an.parent)&&an.parent.ce){const c=Object.keys(n).length>0;return t!=="default"&&(n.name=t),P(),ot(Pe,null,[b("slot",n,o&&o())],c?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),P();const i=s&&Qv(s(n)),a=n.key||i&&i.key,l=ot(Pe,{key:(a&&!no(a)?a:`_${t}`)+(!i&&o?"_fb":"")},i||(o?o():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function Qv(e){return e.some(t=>Er(t)?!(t.type===Gt||t.type===Pe&&!Qv(t.children)):!0)?e:null}function Sl(e,t){const n={};for(const o in e)n[t&&/[A-Z]/.test(o)?`on:${o}`:ol(o)]=e[o];return n}const yd=e=>e?b1(e)?Lc(e):yd(e.parent):null,Mi=tn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yd(e.parent),$root:e=>yd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>t1(e),$forceUpdate:e=>e.f||(e.f=()=>{Ef(e.update)}),$nextTick:e=>e.n||(e.n=ut.bind(e.proxy)),$watch:e=>Yk.bind(e)}),ku=(e,t)=>e!==bt&&!e.__isScriptSetup&&ft(e,t),Hk={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:l}=e;if(t[0]!=="$"){const f=i[t];if(f!==void 0)switch(f){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(ku(o,t))return i[t]=1,o[t];if(r!==bt&&ft(r,t))return i[t]=2,r[t];if(ft(s,t))return i[t]=3,s[t];if(n!==bt&&ft(n,t))return i[t]=4,n[t];bd&&(i[t]=0)}}const c=Mi[t];let u,d;if(c)return t==="$attrs"&&mn(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==bt&&ft(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,ft(d,t))return d[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:s}=e;return ku(r,t)?(r[t]=n,!0):o!==bt&&ft(o,t)?(o[t]=n,!0):ft(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,props:s,type:i}},a){let l;return!!(n[a]||e!==bt&&a[0]!=="$"&&ft(e,a)||ku(t,a)||ft(s,a)||ft(o,a)||ft(Mi,a)||ft(r.config.globalProperties,a)||(l=i.__cssModules)&&l[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ft(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function nh(e){return Ue(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let bd=!0;function zk(e){const t=t1(e),n=e.proxy,o=e.ctx;bd=!1,t.beforeCreate&&oh(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:h,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:w,destroyed:k,unmounted:S,render:M,renderTracked:L,renderTriggered:N,errorCaptured:V,serverPrefetch:_,expose:G,inheritAttrs:te,components:Y,directives:q,filters:$}=t;if(c&&Fk(c,o,null),i)for(const T in i){const J=i[T];Ye(J)&&(o[T]=J.bind(n))}if(r){const T=r.call(n,n);yt(T)&&(e.data=pt(T))}if(bd=!0,s)for(const T in s){const J=s[T],le=Ye(J)?J.bind(n,n):Ye(J.get)?J.get.bind(n,n):vo,ye=!Ye(J)&&Ye(J.set)?J.set.bind(n):vo,Me=A({get:le,set:ye});Object.defineProperty(o,T,{enumerable:!0,configurable:!0,get:()=>Me.value,set:me=>Me.value=me})}if(a)for(const T in a)e1(a[T],o,n,T);if(l){const T=Ye(l)?l.call(n):l;Reflect.ownKeys(T).forEach(J=>{Ho(J,T[J])})}u&&oh(u,e,"c");function E(T,J){Ue(J)?J.forEach(le=>T(le.bind(n))):J&&T(J.bind(n))}if(E(Gv,d),E(Go,f),E(Lk,p),E(Pk,h),E(Rk,m),E(Nk,v),E(Jv,V),E(Bk,L),E(_k,N),E(ga,w),E(cs,S),E(Vk,_),Ue(G))if(G.length){const T=e.exposed||(e.exposed={});G.forEach(J=>{Object.defineProperty(T,J,{get:()=>n[J],set:le=>n[J]=le,enumerable:!0})})}else e.exposed||(e.exposed={});M&&e.render===vo&&(e.render=M),te!=null&&(e.inheritAttrs=te),Y&&(e.components=Y),q&&(e.directives=q),_&&Wv(e)}function Fk(e,t,n=vo){Ue(e)&&(e=wd(e));for(const o in e){const r=e[o];let s;yt(r)?"default"in r?s=An(r.from||o,r.default,!0):s=An(r.from||o):s=An(r),Ut(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[o]=s}}function oh(e,t,n){ro(Ue(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function e1(e,t,n,o){let r=o.includes(".")?o1(n,o):()=>n[o];if(Dt(e)){const s=t[e];Ye(s)&&Ae(r,s)}else if(Ye(e))Ae(r,e.bind(n));else if(yt(e))if(Ue(e))e.forEach(s=>e1(s,t,n,o));else{const s=Ye(e.handler)?e.handler.bind(n):t[e.handler];Ye(s)&&Ae(r,s,e)}}function t1(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!o?l=t:(l={},r.length&&r.forEach(c=>xl(l,c,i,!0)),xl(l,t,i)),yt(t)&&s.set(t,l),l}function xl(e,t,n,o=!1){const{mixins:r,extends:s}=t;s&&xl(e,s,n,!0),r&&r.forEach(i=>xl(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const a=jk[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const jk={data:rh,props:sh,emits:sh,methods:hi,computed:hi,beforeCreate:kn,created:kn,beforeMount:kn,mounted:kn,beforeUpdate:kn,updated:kn,beforeDestroy:kn,beforeUnmount:kn,destroyed:kn,unmounted:kn,activated:kn,deactivated:kn,errorCaptured:kn,serverPrefetch:kn,components:hi,directives:hi,watch:Kk,provide:rh,inject:Uk};function rh(e,t){return t?e?function(){return tn(Ye(e)?e.call(this,this):e,Ye(t)?t.call(this,this):t)}:t:e}function Uk(e,t){return hi(wd(e),wd(t))}function wd(e){if(Ue(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function kn(e,t){return e?[...new Set([].concat(e,t))]:t}function hi(e,t){return e?tn(Object.create(null),e,t):t}function sh(e,t){return e?Ue(e)&&Ue(t)?[...new Set([...e,...t])]:tn(Object.create(null),nh(e),nh(t??{})):t}function Kk(e,t){if(!e)return t;if(!t)return e;const n=tn(Object.create(null),e);for(const o in t)n[o]=kn(e[o],t[o]);return n}function n1(){return{app:null,config:{isNativeTag:ov,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wk=0;function qk(e,t){return function(o,r=null){Ye(o)||(o=tn({},o)),r!=null&&!yt(r)&&(r=null);const s=n1(),i=new WeakSet,a=[];let l=!1;const c=s.app={_uid:Wk++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:R2,get config(){return s.config},set config(u){},use(u,...d){return i.has(u)||(u&&Ye(u.install)?(i.add(u),u.install(c,...d)):Ye(u)&&(i.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,f){if(!l){const p=c._ceVNode||b(o,r);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),e(p,u,f),l=!0,c._container=u,u.__vue_app__=c,Lc(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ro(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=Ds;Ds=c;try{return u()}finally{Ds=d}}};return c}}let Ds=null;function Ho(e,t){if(gn){let n=gn.provides;const o=gn.parent&&gn.parent.provides;o===n&&(n=gn.provides=Object.create(o)),n[e]=t}}function An(e,t,n=!1){const o=Gs();if(o||Ds){let r=Ds?Ds._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ye(t)?t.call(o&&o.proxy):t}}const Gk=Symbol.for("v-scx"),Jk=()=>An(Gk);function va(e,t){return Of(e,null,t)}function Ae(e,t,n){return Of(e,t,n)}function Of(e,t,n=bt){const{immediate:o,deep:r,flush:s,once:i}=n,a=tn({},n),l=t&&o||!t&&s!=="post";let c;if(Yi){if(s==="sync"){const p=Jk();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=vo,p.resume=vo,p.pause=vo,p}}const u=gn;a.call=(p,h,m)=>ro(p,u,h,m);let d=!1;s==="post"?a.scheduler=p=>{pn(p,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(p,h)=>{h?p():Ef(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=xk(e,t,a);return Yi&&(c?c.push(f):l&&f()),f}function Yk(e,t,n){const o=this.proxy,r=Dt(e)?e.includes(".")?o1(o,e):()=>o[e]:e.bind(o,o);let s;Ye(t)?s=t:(s=t.handler,n=t);const i=ya(this),a=Of(r,s.bind(o),n);return i(),a}function o1(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const Zk=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${qn(t)}Modifiers`]||e[`${Nr(t)}Modifiers`];function Xk(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||bt;let r=n;const s=t.startsWith("update:"),i=s&&Zk(o,t.slice(7));i&&(i.trim&&(r=n.map(u=>Dt(u)?u.trim():u)),i.number&&(r=n.map(Cf)));let a,l=o[a=ol(t)]||o[a=ol(qn(t))];!l&&s&&(l=o[a=ol(Nr(t))]),l&&ro(l,e,6,r);const c=o[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ro(c,e,6,r)}}const Qk=new WeakMap;function r1(e,t,n=!1){const o=n?Qk:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const s=e.emits;let i={},a=!1;if(!Ye(e)){const l=c=>{const u=r1(c,t,!0);u&&(a=!0,tn(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(yt(e)&&o.set(e,null),null):(Ue(s)?s.forEach(l=>i[l]=null):tn(i,s),yt(e)&&o.set(e,i),i)}function Nc(e,t){return!e||!wc(t)?!1:(t=t.slice(2).replace(/Once$/,""),ft(e,t[0].toLowerCase()+t.slice(1))||ft(e,Nr(t))||ft(e,t))}function ih(e){const{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[s],slots:i,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:h,inheritAttrs:m}=e,v=kl(e);let y,w;try{if(n.shapeFlag&4){const S=r||o,M=S;y=Yn(c.call(M,S,u,d,p,f,h)),w=a}else{const S=t;y=Yn(S.length>1?S(d,{attrs:a,slots:i,emit:l}):S(d,null)),w=t.props?a:t2(a)}}catch(S){Ti.length=0,ma(S,e,1),y=b(Gt)}let k=y;if(w&&m!==!1){const S=Object.keys(w),{shapeFlag:M}=k;S.length&&M&7&&(s&&S.some(wf)&&(w=n2(w,s)),k=$r(k,w,!1,!0))}return n.dirs&&(k=$r(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&Gi(k,n.transition),y=k,kl(v),y}function e2(e,t=!0){let n;for(let o=0;o<e.length;o++){const r=e[o];if(Er(r)){if(r.type!==Gt||r.children==="v-if"){if(n)return;n=r}}else return}return n}const t2=e=>{let t;for(const n in e)(n==="class"||n==="style"||wc(n))&&((t||(t={}))[n]=e[n]);return t},n2=(e,t)=>{const n={};for(const o in e)(!wf(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function o2(e,t,n){const{props:o,children:r,component:s}=e,{props:i,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?ah(o,i,c):!!i;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(i[f]!==o[f]&&!Nc(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?ah(o,i,c):!0:!!i;return!1}function ah(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(t[s]!==e[s]&&!Nc(n,s))return!0}return!1}function Df({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const s1={},i1=()=>Object.create(s1),a1=e=>Object.getPrototypeOf(e)===s1;function r2(e,t,n,o=!1){const r={},s=i1();e.propsDefaults=Object.create(null),l1(e,t,r,s);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=o?r:$v(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function s2(e,t,n,o){const{props:r,attrs:s,vnode:{patchFlag:i}}=e,a=st(r),[l]=e.propsOptions;let c=!1;if((o||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Nc(e.emitsOptions,f))continue;const p=t[f];if(l)if(ft(s,f))p!==s[f]&&(s[f]=p,c=!0);else{const h=qn(f);r[h]=kd(l,a,h,p,e,!1)}else p!==s[f]&&(s[f]=p,c=!0)}}}else{l1(e,t,r,s)&&(c=!0);let u;for(const d in a)(!t||!ft(t,d)&&((u=Nr(d))===d||!ft(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=kd(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!ft(t,d))&&(delete s[d],c=!0)}c&&Vo(e.attrs,"set","")}function l1(e,t,n,o){const[r,s]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(ki(l))continue;const c=t[l];let u;r&&ft(r,u=qn(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Nc(e.emitsOptions,l)||(!(l in o)||c!==o[l])&&(o[l]=c,i=!0)}if(s){const l=st(n),c=a||bt;for(let u=0;u<s.length;u++){const d=s[u];n[d]=kd(r,l,d,c[d],e,!ft(c,d))}}return i}function kd(e,t,n,o,r,s){const i=e[n];if(i!=null){const a=ft(i,"default");if(a&&o===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Ye(l)){const{propsDefaults:c}=r;if(n in c)o=c[n];else{const u=ya(r);o=c[n]=l.call(null,t),u()}}else o=l;r.ce&&r.ce._setProp(n,o)}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===Nr(n))&&(o=!0))}return o}const i2=new WeakMap;function c1(e,t,n=!1){const o=n?i2:t.propsCache,r=o.get(e);if(r)return r;const s=e.props,i={},a=[];let l=!1;if(!Ye(e)){const u=d=>{l=!0;const[f,p]=c1(d,t,!0);tn(i,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return yt(e)&&o.set(e,Ts),Ts;if(Ue(s))for(let u=0;u<s.length;u++){const d=qn(s[u]);lh(d)&&(i[d]=bt)}else if(s)for(const u in s){const d=qn(u);if(lh(d)){const f=s[u],p=i[d]=Ue(f)||Ye(f)?{type:f}:tn({},f),h=p.type;let m=!1,v=!0;if(Ue(h))for(let y=0;y<h.length;++y){const w=h[y],k=Ye(w)&&w.name;if(k==="Boolean"){m=!0;break}else k==="String"&&(v=!1)}else m=Ye(h)&&h.name==="Boolean";p[0]=m,p[1]=v,(m||ft(p,"default"))&&a.push(d)}}const c=[i,a];return yt(e)&&o.set(e,c),c}function lh(e){return e[0]!=="$"&&!ki(e)}const Rf=e=>e==="_"||e==="_ctx"||e==="$stable",Nf=e=>Ue(e)?e.map(Yn):[Yn(e)],a2=(e,t,n)=>{if(t._n)return t;const o=j((...r)=>Nf(t(...r)),n);return o._c=!1,o},u1=(e,t,n)=>{const o=e._ctx;for(const r in e){if(Rf(r))continue;const s=e[r];if(Ye(s))t[r]=a2(r,s,o);else if(s!=null){const i=Nf(s);t[r]=()=>i}}},d1=(e,t)=>{const n=Nf(t);e.slots.default=()=>n},f1=(e,t,n)=>{for(const o in t)(n||!Rf(o))&&(e[o]=t[o])},l2=(e,t,n)=>{const o=e.slots=i1();if(e.vnode.shapeFlag&32){const r=t._;r?(f1(o,t,n),n&&lv(o,"_",r,!0)):u1(t,o)}else t&&d1(e,t)},c2=(e,t,n)=>{const{vnode:o,slots:r}=e;let s=!0,i=bt;if(o.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:f1(r,t,n):(s=!t.$stable,u1(t,r)),i=t}else t&&(d1(e,t),i={default:1});if(s)for(const a in r)!Rf(a)&&i[a]==null&&delete r[a]},pn=w2;function u2(e){return d2(e)}function d2(e,t){const n=xc();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=vo,insertStaticContent:h}=e,m=(x,R,z,ne=null,re=null,oe=null,Ce=void 0,fe=null,ge=!!R.dynamicChildren)=>{if(x===R)return;x&&!go(x,R)&&(ne=H(x),me(x,re,oe,!0),x=null),R.patchFlag===-2&&(ge=!1,R.dynamicChildren=null);const{type:U,ref:pe,shapeFlag:ke}=R;switch(U){case Ic:v(x,R,z,ne);break;case Gt:y(x,R,z,ne);break;case al:x==null&&w(R,z,ne,Ce);break;case Pe:Y(x,R,z,ne,re,oe,Ce,fe,ge);break;default:ke&1?M(x,R,z,ne,re,oe,Ce,fe,ge):ke&6?q(x,R,z,ne,re,oe,Ce,fe,ge):(ke&64||ke&128)&&U.process(x,R,z,ne,re,oe,Ce,fe,ge,de)}pe!=null&&re?Ai(pe,x&&x.ref,oe,R||x,!R):pe==null&&x&&x.ref!=null&&Ai(x.ref,null,oe,x,!0)},v=(x,R,z,ne)=>{if(x==null)o(R.el=a(R.children),z,ne);else{const re=R.el=x.el;R.children!==x.children&&c(re,R.children)}},y=(x,R,z,ne)=>{x==null?o(R.el=l(R.children||""),z,ne):R.el=x.el},w=(x,R,z,ne)=>{[x.el,x.anchor]=h(x.children,R,z,ne,x.el,x.anchor)},k=({el:x,anchor:R},z,ne)=>{let re;for(;x&&x!==R;)re=f(x),o(x,z,ne),x=re;o(R,z,ne)},S=({el:x,anchor:R})=>{let z;for(;x&&x!==R;)z=f(x),r(x),x=z;r(R)},M=(x,R,z,ne,re,oe,Ce,fe,ge)=>{if(R.type==="svg"?Ce="svg":R.type==="math"&&(Ce="mathml"),x==null)L(R,z,ne,re,oe,Ce,fe,ge);else{const U=x.el&&x.el._isVueCE?x.el:null;try{U&&U._beginPatch(),_(x,R,re,oe,Ce,fe,ge)}finally{U&&U._endPatch()}}},L=(x,R,z,ne,re,oe,Ce,fe)=>{let ge,U;const{props:pe,shapeFlag:ke,transition:Oe,dirs:Le}=x;if(ge=x.el=i(x.type,oe,pe&&pe.is,pe),ke&8?u(ge,x.children):ke&16&&V(x.children,ge,null,ne,re,Cu(x,oe),Ce,fe),Le&&Vr(x,null,ne,"created"),N(ge,x,x.scopeId,Ce,ne),pe){for(const qe in pe)qe!=="value"&&!ki(qe)&&s(ge,qe,null,pe[qe],oe,ne);"value"in pe&&s(ge,"value",null,pe.value,oe),(U=pe.onVnodeBeforeMount)&&co(U,ne,x)}Le&&Vr(x,null,ne,"beforeMount");const Ne=f2(re,Oe);Ne&&Oe.beforeEnter(ge),o(ge,R,z),((U=pe&&pe.onVnodeMounted)||Ne||Le)&&pn(()=>{U&&co(U,ne,x),Ne&&Oe.enter(ge),Le&&Vr(x,null,ne,"mounted")},re)},N=(x,R,z,ne,re)=>{if(z&&p(x,z),ne)for(let oe=0;oe<ne.length;oe++)p(x,ne[oe]);if(re){let oe=re.subTree;if(R===oe||h1(oe.type)&&(oe.ssContent===R||oe.ssFallback===R)){const Ce=re.vnode;N(x,Ce,Ce.scopeId,Ce.slotScopeIds,re.parent)}}},V=(x,R,z,ne,re,oe,Ce,fe,ge=0)=>{for(let U=ge;U<x.length;U++){const pe=x[U]=fe?cr(x[U]):Yn(x[U]);m(null,pe,R,z,ne,re,oe,Ce,fe)}},_=(x,R,z,ne,re,oe,Ce)=>{const fe=R.el=x.el;let{patchFlag:ge,dynamicChildren:U,dirs:pe}=R;ge|=x.patchFlag&16;const ke=x.props||bt,Oe=R.props||bt;let Le;if(z&&_r(z,!1),(Le=Oe.onVnodeBeforeUpdate)&&co(Le,z,R,x),pe&&Vr(R,x,z,"beforeUpdate"),z&&_r(z,!0),(ke.innerHTML&&Oe.innerHTML==null||ke.textContent&&Oe.textContent==null)&&u(fe,""),U?G(x.dynamicChildren,U,fe,z,ne,Cu(R,re),oe):Ce||J(x,R,fe,null,z,ne,Cu(R,re),oe,!1),ge>0){if(ge&16)te(fe,ke,Oe,z,re);else if(ge&2&&ke.class!==Oe.class&&s(fe,"class",null,Oe.class,re),ge&4&&s(fe,"style",ke.style,Oe.style,re),ge&8){const Ne=R.dynamicProps;for(let qe=0;qe<Ne.length;qe++){const Je=Ne[qe],Ct=ke[Je],St=Oe[Je];(St!==Ct||Je==="value")&&s(fe,Je,Ct,St,re,z)}}ge&1&&x.children!==R.children&&u(fe,R.children)}else!Ce&&U==null&&te(fe,ke,Oe,z,re);((Le=Oe.onVnodeUpdated)||pe)&&pn(()=>{Le&&co(Le,z,R,x),pe&&Vr(R,x,z,"updated")},ne)},G=(x,R,z,ne,re,oe,Ce)=>{for(let fe=0;fe<R.length;fe++){const ge=x[fe],U=R[fe],pe=ge.el&&(ge.type===Pe||!go(ge,U)||ge.shapeFlag&198)?d(ge.el):z;m(ge,U,pe,null,ne,re,oe,Ce,!0)}},te=(x,R,z,ne,re)=>{if(R!==z){if(R!==bt)for(const oe in R)!ki(oe)&&!(oe in z)&&s(x,oe,R[oe],null,re,ne);for(const oe in z){if(ki(oe))continue;const Ce=z[oe],fe=R[oe];Ce!==fe&&oe!=="value"&&s(x,oe,fe,Ce,re,ne)}"value"in z&&s(x,"value",R.value,z.value,re)}},Y=(x,R,z,ne,re,oe,Ce,fe,ge)=>{const U=R.el=x?x.el:a(""),pe=R.anchor=x?x.anchor:a("");let{patchFlag:ke,dynamicChildren:Oe,slotScopeIds:Le}=R;Le&&(fe=fe?fe.concat(Le):Le),x==null?(o(U,z,ne),o(pe,z,ne),V(R.children||[],z,pe,re,oe,Ce,fe,ge)):ke>0&&ke&64&&Oe&&x.dynamicChildren?(G(x.dynamicChildren,Oe,z,re,oe,Ce,fe),(R.key!=null||re&&R===re.subTree)&&If(x,R,!0)):J(x,R,z,pe,re,oe,Ce,fe,ge)},q=(x,R,z,ne,re,oe,Ce,fe,ge)=>{R.slotScopeIds=fe,x==null?R.shapeFlag&512?re.ctx.activate(R,z,ne,Ce,ge):$(R,z,ne,re,oe,Ce,ge):F(x,R,ge)},$=(x,R,z,ne,re,oe,Ce)=>{const fe=x.component=A2(x,ne,re);if(Oc(x)&&(fe.ctx.renderer=de),M2(fe,!1,Ce),fe.asyncDep){if(re&&re.registerDep(fe,E,Ce),!x.el){const ge=fe.subTree=b(Gt);y(null,ge,R,z),x.placeholder=ge.el}}else E(fe,x,R,z,re,oe,Ce)},F=(x,R,z)=>{const ne=R.component=x.component;if(o2(x,R,z))if(ne.asyncDep&&!ne.asyncResolved){T(ne,R,z);return}else ne.next=R,ne.update();else R.el=x.el,ne.vnode=R},E=(x,R,z,ne,re,oe,Ce)=>{const fe=()=>{if(x.isMounted){let{next:ke,bu:Oe,u:Le,parent:Ne,vnode:qe}=x;{const dn=p1(x);if(dn){ke&&(ke.el=qe.el,T(x,ke,Ce)),dn.asyncDep.then(()=>{x.isUnmounted||fe()});return}}let Je=ke,Ct;_r(x,!1),ke?(ke.el=qe.el,T(x,ke,Ce)):ke=qe,Oe&&rl(Oe),(Ct=ke.props&&ke.props.onVnodeBeforeUpdate)&&co(Ct,Ne,ke,qe),_r(x,!0);const St=ih(x),un=x.subTree;x.subTree=St,m(un,St,d(un.el),H(un),x,re,oe),ke.el=St.el,Je===null&&Df(x,St.el),Le&&pn(Le,re),(Ct=ke.props&&ke.props.onVnodeUpdated)&&pn(()=>co(Ct,Ne,ke,qe),re)}else{let ke;const{el:Oe,props:Le}=R,{bm:Ne,m:qe,parent:Je,root:Ct,type:St}=x,un=Os(R);_r(x,!1),Ne&&rl(Ne),!un&&(ke=Le&&Le.onVnodeBeforeMount)&&co(ke,Je,R),_r(x,!0);{Ct.ce&&Ct.ce._def.shadowRoot!==!1&&Ct.ce._injectChildStyle(St);const dn=x.subTree=ih(x);m(null,dn,z,ne,x,re,oe),R.el=dn.el}if(qe&&pn(qe,re),!un&&(ke=Le&&Le.onVnodeMounted)){const dn=R;pn(()=>co(ke,Je,dn),re)}(R.shapeFlag&256||Je&&Os(Je.vnode)&&Je.vnode.shapeFlag&256)&&x.a&&pn(x.a,re),x.isMounted=!0,R=z=ne=null}};x.scope.on();const ge=x.effect=new pv(fe);x.scope.off();const U=x.update=ge.run.bind(ge),pe=x.job=ge.runIfDirty.bind(ge);pe.i=x,pe.id=x.uid,ge.scheduler=()=>Ef(pe),_r(x,!0),U()},T=(x,R,z)=>{R.component=x;const ne=x.vnode.props;x.vnode=R,x.next=null,s2(x,R.props,ne,z),c2(x,R.children,z),Uo(),Jp(x),Ko()},J=(x,R,z,ne,re,oe,Ce,fe,ge=!1)=>{const U=x&&x.children,pe=x?x.shapeFlag:0,ke=R.children,{patchFlag:Oe,shapeFlag:Le}=R;if(Oe>0){if(Oe&128){ye(U,ke,z,ne,re,oe,Ce,fe,ge);return}else if(Oe&256){le(U,ke,z,ne,re,oe,Ce,fe,ge);return}}Le&8?(pe&16&&B(U,re,oe),ke!==U&&u(z,ke)):pe&16?Le&16?ye(U,ke,z,ne,re,oe,Ce,fe,ge):B(U,re,oe,!0):(pe&8&&u(z,""),Le&16&&V(ke,z,ne,re,oe,Ce,fe,ge))},le=(x,R,z,ne,re,oe,Ce,fe,ge)=>{x=x||Ts,R=R||Ts;const U=x.length,pe=R.length,ke=Math.min(U,pe);let Oe;for(Oe=0;Oe<ke;Oe++){const Le=R[Oe]=ge?cr(R[Oe]):Yn(R[Oe]);m(x[Oe],Le,z,null,re,oe,Ce,fe,ge)}U>pe?B(x,re,oe,!0,!1,ke):V(R,z,ne,re,oe,Ce,fe,ge,ke)},ye=(x,R,z,ne,re,oe,Ce,fe,ge)=>{let U=0;const pe=R.length;let ke=x.length-1,Oe=pe-1;for(;U<=ke&&U<=Oe;){const Le=x[U],Ne=R[U]=ge?cr(R[U]):Yn(R[U]);if(go(Le,Ne))m(Le,Ne,z,null,re,oe,Ce,fe,ge);else break;U++}for(;U<=ke&&U<=Oe;){const Le=x[ke],Ne=R[Oe]=ge?cr(R[Oe]):Yn(R[Oe]);if(go(Le,Ne))m(Le,Ne,z,null,re,oe,Ce,fe,ge);else break;ke--,Oe--}if(U>ke){if(U<=Oe){const Le=Oe+1,Ne=Le<pe?R[Le].el:ne;for(;U<=Oe;)m(null,R[U]=ge?cr(R[U]):Yn(R[U]),z,Ne,re,oe,Ce,fe,ge),U++}}else if(U>Oe)for(;U<=ke;)me(x[U],re,oe,!0),U++;else{const Le=U,Ne=U,qe=new Map;for(U=Ne;U<=Oe;U++){const ie=R[U]=ge?cr(R[U]):Yn(R[U]);ie.key!=null&&qe.set(ie.key,U)}let Je,Ct=0;const St=Oe-Ne+1;let un=!1,dn=0;const En=new Array(St);for(U=0;U<St;U++)En[U]=0;for(U=Le;U<=ke;U++){const ie=x[U];if(Ct>=St){me(ie,re,oe,!0);continue}let I;if(ie.key!=null)I=qe.get(ie.key);else for(Je=Ne;Je<=Oe;Je++)if(En[Je-Ne]===0&&go(ie,R[Je])){I=Je;break}I===void 0?me(ie,re,oe,!0):(En[I-Ne]=U+1,I>=dn?dn=I:un=!0,m(ie,R[I],z,null,re,oe,Ce,fe,ge),Ct++)}const So=un?p2(En):Ts;for(Je=So.length-1,U=St-1;U>=0;U--){const ie=Ne+U,I=R[ie],Z=R[ie+1],ue=ie+1<pe?Z.el||Z.placeholder:ne;En[U]===0?m(null,I,z,ue,re,oe,Ce,fe,ge):un&&(Je<0||U!==So[Je]?Me(I,z,ue,2):Je--)}}},Me=(x,R,z,ne,re=null)=>{const{el:oe,type:Ce,transition:fe,children:ge,shapeFlag:U}=x;if(U&6){Me(x.component.subTree,R,z,ne);return}if(U&128){x.suspense.move(R,z,ne);return}if(U&64){Ce.move(x,R,z,de);return}if(Ce===Pe){o(oe,R,z);for(let ke=0;ke<ge.length;ke++)Me(ge[ke],R,z,ne);o(x.anchor,R,z);return}if(Ce===al){k(x,R,z);return}if(ne!==2&&U&1&&fe)if(ne===0)fe.beforeEnter(oe),o(oe,R,z),pn(()=>fe.enter(oe),re);else{const{leave:ke,delayLeave:Oe,afterLeave:Le}=fe,Ne=()=>{x.ctx.isUnmounted?r(oe):o(oe,R,z)},qe=()=>{oe._isLeaving&&oe[Po](!0),ke(oe,()=>{Ne(),Le&&Le()})};Oe?Oe(oe,Ne,qe):qe()}else o(oe,R,z)},me=(x,R,z,ne=!1,re=!1)=>{const{type:oe,props:Ce,ref:fe,children:ge,dynamicChildren:U,shapeFlag:pe,patchFlag:ke,dirs:Oe,cacheIndex:Le}=x;if(ke===-2&&(re=!1),fe!=null&&(Uo(),Ai(fe,null,z,x,!0),Ko()),Le!=null&&(R.renderCache[Le]=void 0),pe&256){R.ctx.deactivate(x);return}const Ne=pe&1&&Oe,qe=!Os(x);let Je;if(qe&&(Je=Ce&&Ce.onVnodeBeforeUnmount)&&co(Je,R,x),pe&6)Ee(x.component,z,ne);else{if(pe&128){x.suspense.unmount(z,ne);return}Ne&&Vr(x,null,R,"beforeUnmount"),pe&64?x.type.remove(x,R,z,de,ne):U&&!U.hasOnce&&(oe!==Pe||ke>0&&ke&64)?B(U,R,z,!1,!0):(oe===Pe&&ke&384||!re&&pe&16)&&B(ge,R,z),ne&&X(x)}(qe&&(Je=Ce&&Ce.onVnodeUnmounted)||Ne)&&pn(()=>{Je&&co(Je,R,x),Ne&&Vr(x,null,R,"unmounted")},z)},X=x=>{const{type:R,el:z,anchor:ne,transition:re}=x;if(R===Pe){ae(z,ne);return}if(R===al){S(x);return}const oe=()=>{r(z),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(x.shapeFlag&1&&re&&!re.persisted){const{leave:Ce,delayLeave:fe}=re,ge=()=>Ce(z,oe);fe?fe(x.el,oe,ge):ge()}else oe()},ae=(x,R)=>{let z;for(;x!==R;)z=f(x),r(x),x=z;r(R)},Ee=(x,R,z)=>{const{bum:ne,scope:re,job:oe,subTree:Ce,um:fe,m:ge,a:U}=x;ch(ge),ch(U),ne&&rl(ne),re.stop(),oe&&(oe.flags|=8,me(Ce,x,R,z)),fe&&pn(fe,R),pn(()=>{x.isUnmounted=!0},R)},B=(x,R,z,ne=!1,re=!1,oe=0)=>{for(let Ce=oe;Ce<x.length;Ce++)me(x[Ce],R,z,ne,re)},H=x=>{if(x.shapeFlag&6)return H(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const R=f(x.anchor||x.el),z=R&&R[Vv];return z?f(z):R};let ee=!1;const Q=(x,R,z)=>{x==null?R._vnode&&me(R._vnode,null,null,!0):m(R._vnode||null,x,R,null,null,null,z),R._vnode=x,ee||(ee=!0,Jp(),Nv(),ee=!1)},de={p:m,um:me,m:Me,r:X,mt:$,mc:V,pc:J,pbc:G,n:H,o:e};return{render:Q,hydrate:void 0,createApp:qk(Q)}}function Cu({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function _r({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function f2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function If(e,t,n=!1){const o=e.children,r=t.children;if(Ue(o)&&Ue(r))for(let s=0;s<o.length;s++){const i=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=cr(r[s]),a.el=i.el),!n&&a.patchFlag!==-2&&If(i,a)),a.type===Ic&&a.patchFlag!==-1&&(a.el=i.el),a.type===Gt&&!a.el&&(a.el=i.el)}}function p2(e){const t=e.slice(),n=[0];let o,r,s,i,a;const l=e.length;for(o=0;o<l;o++){const c=e[o];if(c!==0){if(r=n[n.length-1],e[r]<c){t[o]=r,n.push(o);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,e[n[a]]<c?s=a+1:i=a;c<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function p1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:p1(t)}function ch(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const h1=e=>e.__isSuspense;let Cd=0;const h2={name:"Suspense",__isSuspense:!0,process(e,t,n,o,r,s,i,a,l,c){if(e==null)g2(t,n,o,r,s,i,a,l,c);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}v2(e,t,n,o,r,i,a,l,c)}},hydrate:y2,normalize:b2},m2=h2;function Ji(e,t){const n=e.props&&e.props[t];Ye(n)&&n()}function g2(e,t,n,o,r,s,i,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=e.suspense=m1(e,r,o,t,d,n,s,i,a,l);c(null,f.pendingBranch=e.ssContent,d,null,o,f,s,i),f.deps>0?(Ji(e,"onPending"),Ji(e,"onFallback"),c(null,e.ssFallback,t,n,o,null,s,i),Rs(f,e.ssFallback)):f.resolve(!1,!0)}function v2(e,t,n,o,r,s,i,a,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,p=t.ssFallback,{activeBranch:h,pendingBranch:m,isInFallback:v,isHydrating:y}=d;if(m)d.pendingBranch=f,go(m,f)?(l(m,f,d.hiddenContainer,null,r,d,s,i,a),d.deps<=0?d.resolve():v&&(y||(l(h,p,n,o,r,null,s,i,a),Rs(d,p)))):(d.pendingId=Cd++,y?(d.isHydrating=!1,d.activeBranch=m):c(m,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),v?(l(null,f,d.hiddenContainer,null,r,d,s,i,a),d.deps<=0?d.resolve():(l(h,p,n,o,r,null,s,i,a),Rs(d,p))):h&&go(h,f)?(l(h,f,n,o,r,d,s,i,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,r,d,s,i,a),d.deps<=0&&d.resolve()));else if(h&&go(h,f))l(h,f,n,o,r,d,s,i,a),Rs(d,f);else if(Ji(t,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=Cd++,l(null,f,d.hiddenContainer,null,r,d,s,i,a),d.deps<=0)d.resolve();else{const{timeout:w,pendingId:k}=d;w>0?setTimeout(()=>{d.pendingId===k&&d.fallback(p)},w):w===0&&d.fallback(p)}}function m1(e,t,n,o,r,s,i,a,l,c,u=!1){const{p:d,m:f,um:p,n:h,o:{parentNode:m,remove:v}}=c;let y;const w=k2(e);w&&t&&t.pendingBranch&&(y=t.pendingId,t.deps++);const k=e.props?cv(e.props.timeout):void 0,S=s,M={vnode:e,parent:t,parentComponent:n,namespace:i,container:o,hiddenContainer:r,deps:0,pendingId:Cd++,timeout:typeof k=="number"?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(L=!1,N=!1){const{vnode:V,activeBranch:_,pendingBranch:G,pendingId:te,effects:Y,parentComponent:q,container:$,isInFallback:F}=M;let E=!1;M.isHydrating?M.isHydrating=!1:L||(E=_&&G.transition&&G.transition.mode==="out-in",E&&(_.transition.afterLeave=()=>{te===M.pendingId&&(f(G,$,s===S?h(_):s,0),md(Y),F&&V.ssFallback&&(V.ssFallback.el=null))}),_&&(m(_.el)===$&&(s=h(_)),p(_,q,M,!0),!E&&F&&V.ssFallback&&pn(()=>V.ssFallback.el=null,M)),E||f(G,$,s,0)),Rs(M,G),M.pendingBranch=null,M.isInFallback=!1;let T=M.parent,J=!1;for(;T;){if(T.pendingBranch){T.effects.push(...Y),J=!0;break}T=T.parent}!J&&!E&&md(Y),M.effects=[],w&&t&&t.pendingBranch&&y===t.pendingId&&(t.deps--,t.deps===0&&!N&&t.resolve()),Ji(V,"onResolve")},fallback(L){if(!M.pendingBranch)return;const{vnode:N,activeBranch:V,parentComponent:_,container:G,namespace:te}=M;Ji(N,"onFallback");const Y=h(V),q=()=>{M.isInFallback&&(d(null,L,G,Y,_,null,te,a,l),Rs(M,L))},$=L.transition&&L.transition.mode==="out-in";$&&(V.transition.afterLeave=q),M.isInFallback=!0,p(V,_,null,!0),$||q()},move(L,N,V){M.activeBranch&&f(M.activeBranch,L,N,V),M.container=L},next(){return M.activeBranch&&h(M.activeBranch)},registerDep(L,N,V){const _=!!M.pendingBranch;_&&M.deps++;const G=L.vnode.el;L.asyncDep.catch(te=>{ma(te,L,0)}).then(te=>{if(L.isUnmounted||M.isUnmounted||M.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:Y}=L;Ad(L,te),G&&(Y.el=G);const q=!G&&L.subTree.el;N(L,Y,m(G||L.subTree.el),G?null:h(L.subTree),M,i,V),q&&(Y.placeholder=null,v(q)),Df(L,Y.el),_&&--M.deps===0&&M.resolve()})},unmount(L,N){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,L,N),M.pendingBranch&&p(M.pendingBranch,n,L,N)}};return M}function y2(e,t,n,o,r,s,i,a,l){const c=t.suspense=m1(t,o,n,e.parentNode,document.createElement("div"),null,r,s,i,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,s,i);return c.deps===0&&c.resolve(!1,!0),u}function b2(e){const{shapeFlag:t,children:n}=e,o=t&32;e.ssContent=uh(o?n.default:n),e.ssFallback=o?uh(n.fallback):b(Gt)}function uh(e){let t;if(Ye(e)){const n=_s&&e._c;n&&(e._d=!1,P()),e=e(),n&&(e._d=!0,t=Dn,g1())}return Ue(e)&&(e=e2(e)),e=Yn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function w2(e,t){t&&t.pendingBranch?Ue(e)?t.effects.push(...e):t.effects.push(e):md(e)}function Rs(e,t){e.activeBranch=t;const{vnode:n,parentComponent:o}=e;let r=t.el;for(;!r&&t.component;)t=t.component.subTree,r=t.el;n.el=r,o&&o.subTree===n&&(o.vnode.el=r,Df(o,r))}function k2(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Pe=Symbol.for("v-fgt"),Ic=Symbol.for("v-txt"),Gt=Symbol.for("v-cmt"),al=Symbol.for("v-stc"),Ti=[];let Dn=null;function P(e=!1){Ti.push(Dn=e?null:[])}function g1(){Ti.pop(),Dn=Ti[Ti.length-1]||null}let _s=1;function Al(e,t=!1){_s+=e,e<0&&Dn&&t&&(Dn.hasOnce=!0)}function v1(e){return e.dynamicChildren=_s>0?Dn||Ts:null,g1(),_s>0&&Dn&&Dn.push(e),e}function W(e,t,n,o,r,s){return v1(g(e,t,n,o,r,s,!0))}function ot(e,t,n,o,r){return v1(b(e,t,n,o,r,!0))}function Er(e){return e?e.__v_isVNode===!0:!1}function go(e,t){return e.type===t.type&&e.key===t.key}const y1=({key:e})=>e??null,ll=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||Ut(e)||Ye(e)?{i:an,r:e,k:t,f:!!n}:e:null);function g(e,t=null,n=null,o=0,r=null,s=e===Pe?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&y1(t),ref:t&&ll(t),scopeId:Lv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:an};return a?(Lf(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Dt(n)?8:16),_s>0&&!i&&Dn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Dn.push(l),l}const b=C2;function C2(e,t=null,n=null,o=0,r=null,s=!1){if((!e||e===Zv)&&(e=Gt),Er(e)){const a=$r(e,t,!0);return n&&Lf(a,n),_s>0&&!s&&Dn&&(a.shapeFlag&6?Dn[Dn.indexOf(e)]=a:Dn.push(a)),a.patchFlag=-2,a}if(D2(e)&&(e=e.__vccOpts),t){t=hr(t);let{class:a,style:l}=t;a&&!Dt(a)&&(t.class=Xe(a)),yt(l)&&($c(l)&&!Ue(l)&&(l=tn({},l)),t.style=Ht(l))}const i=Dt(e)?1:h1(e)?128:_v(e)?64:yt(e)?4:Ye(e)?2:0;return g(e,t,n,o,r,i,s,!0)}function hr(e){return e?$c(e)||a1(e)?tn({},e):e:null}function $r(e,t,n=!1,o=!1){const{props:r,ref:s,patchFlag:i,children:a,transition:l}=e,c=t?Ke(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&y1(c),ref:t&&t.ref?n&&s?Ue(s)?s.concat(ll(t)):[s,ll(t)]:ll(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$r(e.ssContent),ssFallback:e.ssFallback&&$r(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&Gi(u,l.clone(u)),u}function ce(e=" ",t=0){return b(Ic,null,e,t)}function Sd(e,t){const n=b(al,null,e);return n.staticCount=t,n}function $e(e="",t=!1){return t?(P(),ot(Gt,null,e)):b(Gt,null,e)}function Yn(e){return e==null||typeof e=="boolean"?b(Gt):Ue(e)?b(Pe,null,e.slice()):Er(e)?cr(e):b(Ic,null,String(e))}function cr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$r(e)}function Lf(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Ue(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),Lf(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!a1(t)?t._ctx=an:r===3&&an&&(an.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ye(t)?(t={default:t,_ctx:an},n=32):(t=String(t),o&64?(n=16,t=[ce(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ke(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=Xe([t.class,o.class]));else if(r==="style")t.style=Ht([t.style,o.style]);else if(wc(r)){const s=t[r],i=o[r];i&&s!==i&&!(Ue(s)&&s.includes(i))&&(t[r]=s?[].concat(s,i):i)}else r!==""&&(t[r]=o[r])}return t}function co(e,t,n,o=null){ro(e,t,7,[n,o])}const S2=n1();let x2=0;function A2(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||S2,s={uid:x2++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Kw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:c1(o,r),emitsOptions:r1(o,r),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:o.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Xk.bind(null,s),e.ce&&e.ce(s),s}let gn=null;const Gs=()=>gn||an;let Ml,xd;{const e=xc(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),s=>{r.length>1?r.forEach(i=>i(s)):r[0](s)}};Ml=t("__VUE_INSTANCE_SETTERS__",n=>gn=n),xd=t("__VUE_SSR_SETTERS__",n=>Yi=n)}const ya=e=>{const t=gn;return Ml(e),e.scope.on(),()=>{e.scope.off(),Ml(t)}},dh=()=>{gn&&gn.scope.off(),Ml(null)};function b1(e){return e.vnode.shapeFlag&4}let Yi=!1;function M2(e,t=!1,n=!1){t&&xd(t);const{props:o,children:r}=e.vnode,s=b1(e);r2(e,o,s,t),l2(e,r,n||t);const i=s?T2(e,t):void 0;return t&&xd(!1),i}function T2(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Hk);const{setup:o}=n;if(o){Uo();const r=e.setupContext=o.length>1?$2(e):null,s=ya(e),i=ha(o,e,0,[e.props,r]),a=sv(i);if(Ko(),s(),(a||e.sp)&&!Os(e)&&Wv(e),a){if(i.then(dh,dh),t)return i.then(l=>{Ad(e,l)}).catch(l=>{ma(l,e,0)});e.asyncDep=i}else Ad(e,i)}else w1(e)}function Ad(e,t,n){Ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yt(t)&&(e.setupState=Tf(t)),w1(e)}function w1(e,t,n){const o=e.type;e.render||(e.render=o.render||vo);{const r=ya(e);Uo();try{zk(e)}finally{Ko(),r()}}}const E2={get(e,t){return mn(e,"get",""),e[t]}};function $2(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,E2),slots:e.slots,emit:e.emit,expose:t}}function Lc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Tf(pa(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Mi)return Mi[n](e)},has(t,n){return n in t||n in Mi}})):e.proxy}function O2(e,t=!0){return Ye(e)?e.displayName||e.name:e.name||t&&e.__name}function D2(e){return Ye(e)&&"__vccOpts"in e}const A=(e,t)=>Ck(e,t,Yi);function D(e,t,n){try{Al(-1);const o=arguments.length;return o===2?yt(t)&&!Ue(t)?Er(t)?b(e,null,[t]):b(e,t):b(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Er(n)&&(n=[n]),b(e,t,n))}finally{Al(1)}}const R2="3.5.25";let Md;const fh=typeof window<"u"&&window.trustedTypes;if(fh)try{Md=fh.createPolicy("vue",{createHTML:e=>e})}catch{}const k1=Md?e=>Md.createHTML(e):e=>e,N2="http://www.w3.org/2000/svg",I2="http://www.w3.org/1998/Math/MathML",Io=typeof document<"u"?document:null,ph=Io&&Io.createElement("template"),L2={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?Io.createElementNS(N2,e):t==="mathml"?Io.createElementNS(I2,e):n?Io.createElement(e,{is:n}):Io.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>Io.createTextNode(e),createComment:e=>Io.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Io.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,s){const i=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{ph.innerHTML=k1(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const a=ph.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},or="transition",si="animation",Zi=Symbol("_vtc"),C1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},P2=tn({},zv,C1),V2=e=>(e.displayName="Transition",e.props=P2,e),Pf=V2((e,{slots:t})=>D(Dk,_2(e),t)),Br=(e,t=[])=>{Ue(e)?e.forEach(n=>n(...t)):e&&e(...t)},hh=e=>e?Ue(e)?e.some(t=>t.length>1):e.length>1:!1;function _2(e){const t={};for(const Y in e)Y in C1||(t[Y]=e[Y]);if(e.css===!1)return t;const{name:n="v",type:o,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=i,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,h=B2(r),m=h&&h[0],v=h&&h[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:k,onLeave:S,onLeaveCancelled:M,onBeforeAppear:L=y,onAppear:N=w,onAppearCancelled:V=k}=t,_=(Y,q,$,F)=>{Y._enterCancelled=F,Hr(Y,q?u:a),Hr(Y,q?c:i),$&&$()},G=(Y,q)=>{Y._isLeaving=!1,Hr(Y,d),Hr(Y,p),Hr(Y,f),q&&q()},te=Y=>(q,$)=>{const F=Y?N:w,E=()=>_(q,Y,$);Br(F,[q,E]),mh(()=>{Hr(q,Y?l:s),Mo(q,Y?u:a),hh(F)||gh(q,o,m,E)})};return tn(t,{onBeforeEnter(Y){Br(y,[Y]),Mo(Y,s),Mo(Y,i)},onBeforeAppear(Y){Br(L,[Y]),Mo(Y,l),Mo(Y,c)},onEnter:te(!1),onAppear:te(!0),onLeave(Y,q){Y._isLeaving=!0;const $=()=>G(Y,q);Mo(Y,d),Y._enterCancelled?(Mo(Y,f),bh(Y)):(bh(Y),Mo(Y,f)),mh(()=>{Y._isLeaving&&(Hr(Y,d),Mo(Y,p),hh(S)||gh(Y,o,v,$))}),Br(S,[Y,$])},onEnterCancelled(Y){_(Y,!1,void 0,!0),Br(k,[Y])},onAppearCancelled(Y){_(Y,!0,void 0,!0),Br(V,[Y])},onLeaveCancelled(Y){G(Y),Br(M,[Y])}})}function B2(e){if(e==null)return null;if(yt(e))return[Su(e.enter),Su(e.leave)];{const t=Su(e);return[t,t]}}function Su(e){return cv(e)}function Mo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Zi]||(e[Zi]=new Set)).add(t)}function Hr(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[Zi];n&&(n.delete(t),n.size||(e[Zi]=void 0))}function mh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let H2=0;function gh(e,t,n,o){const r=e._endId=++H2,s=()=>{r===e._endId&&o()};if(n!=null)return setTimeout(s,n);const{type:i,timeout:a,propCount:l}=z2(e,t);if(!i)return o();const c=i+"end";let u=0;const d=()=>{e.removeEventListener(c,f),s()},f=p=>{p.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,f)}function z2(e,t){const n=window.getComputedStyle(e),o=h=>(n[h]||"").split(", "),r=o(`${or}Delay`),s=o(`${or}Duration`),i=vh(r,s),a=o(`${si}Delay`),l=o(`${si}Duration`),c=vh(a,l);let u=null,d=0,f=0;t===or?i>0&&(u=or,d=i,f=s.length):t===si?c>0&&(u=si,d=c,f=l.length):(d=Math.max(i,c),u=d>0?i>c?or:si:null,f=u?u===or?s.length:l.length:0);const p=u===or&&/\b(?:transform|all)(?:,|$)/.test(o(`${or}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function vh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>yh(n)+yh(e[o])))}function yh(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function bh(e){return(e?e.ownerDocument:document).body.offsetHeight}function F2(e,t,n){const o=e[Zi];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Tl=Symbol("_vod"),S1=Symbol("_vsh"),j2={name:"show",beforeMount(e,{value:t},{transition:n}){e[Tl]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ii(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),ii(e,!0),o.enter(e)):o.leave(e,()=>{ii(e,!1)}):ii(e,t))},beforeUnmount(e,{value:t}){ii(e,t)}};function ii(e,t){e.style.display=t?e[Tl]:"none",e[S1]=!t}const U2=Symbol(""),K2=/(?:^|;)\s*display\s*:/;function W2(e,t,n){const o=e.style,r=Dt(n);let s=!1;if(n&&!r){if(t)if(Dt(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&cl(o,a,"")}else for(const i in t)n[i]==null&&cl(o,i,"");for(const i in n)i==="display"&&(s=!0),cl(o,i,n[i])}else if(r){if(t!==n){const i=o[U2];i&&(n+=";"+i),o.cssText=n,s=K2.test(n)}}else t&&e.removeAttribute("style");Tl in e&&(e[Tl]=s?o.display:"",e[S1]&&(o.display="none"))}const wh=/\s*!important$/;function cl(e,t,n){if(Ue(n))n.forEach(o=>cl(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=q2(e,t);wh.test(n)?e.setProperty(Nr(o),n.replace(wh,""),"important"):e[o]=n}}const kh=["Webkit","Moz","ms"],xu={};function q2(e,t){const n=xu[t];if(n)return n;let o=qn(t);if(o!=="filter"&&o in e)return xu[t]=o;o=Sc(o);for(let r=0;r<kh.length;r++){const s=kh[r]+o;if(s in e)return xu[t]=s}return t}const Ch="http://www.w3.org/1999/xlink";function Sh(e,t,n,o,r,s=jw(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ch,t.slice(6,t.length)):e.setAttributeNS(Ch,t,n):n==null||s&&!uv(n)?e.removeAttribute(t):e.setAttribute(t,s?"":no(n)?String(n):n)}function xh(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?k1(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=uv(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(r||t)}function vs(e,t,n,o){e.addEventListener(t,n,o)}function G2(e,t,n,o){e.removeEventListener(t,n,o)}const Ah=Symbol("_vei");function J2(e,t,n,o,r=null){const s=e[Ah]||(e[Ah]={}),i=s[t];if(o&&i)i.value=o;else{const[a,l]=Y2(t);if(o){const c=s[t]=Q2(o,r);vs(e,a,c,l)}else i&&(G2(e,a,i,l),s[t]=void 0)}}const Mh=/(?:Once|Passive|Capture)$/;function Y2(e){let t;if(Mh.test(e)){t={};let o;for(;o=e.match(Mh);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Nr(e.slice(2)),t]}let Au=0;const Z2=Promise.resolve(),X2=()=>Au||(Z2.then(()=>Au=0),Au=Date.now());function Q2(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;ro(eC(o,n.value),t,5,[o])};return n.value=e,n.attached=X2(),n}function eC(e,t){if(Ue(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Th=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,tC=(e,t,n,o,r,s)=>{const i=r==="svg";t==="class"?F2(e,o,i):t==="style"?W2(e,n,o):wc(t)?wf(t)||J2(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):nC(e,t,o,i))?(xh(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Sh(e,t,o,i,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Dt(o))?xh(e,qn(t),o,s,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Sh(e,t,o,i))};function nC(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Th(t)&&Ye(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Th(t)&&Dt(n)?!1:t in e}const Eh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ue(t)?n=>rl(t,n):t};function oC(e){e.target.composing=!0}function $h(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mu=Symbol("_assign");function Oh(e,t,n){return t&&(e=e.trim()),n&&(e=Cf(e)),e}const rC={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[Mu]=Eh(r);const s=o||r.props&&r.props.type==="number";vs(e,t?"change":"input",i=>{i.target.composing||e[Mu](Oh(e.value,n,s))}),(n||s)&&vs(e,"change",()=>{e.value=Oh(e.value,n,s)}),t||(vs(e,"compositionstart",oC),vs(e,"compositionend",$h),vs(e,"change",$h))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:r,number:s}},i){if(e[Mu]=Eh(i),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?Cf(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||r&&e.value.trim()===l)||(e.value=l))}},sC=["ctrl","shift","alt","meta"],iC={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>sC.some(n=>e[`${n}Key`]&&!t.includes(n))},jt=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((r,...s)=>{for(let i=0;i<t.length;i++){const a=iC[t[i]];if(a&&a(r,t))return}return e(r,...s)}))},aC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Yr=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=(r=>{if(!("key"in r))return;const s=Nr(r.key);if(t.some(i=>i===s||aC[i]===s))return e(r)}))},lC=tn({patchProp:tC},L2);let Dh;function cC(){return Dh||(Dh=u2(lC))}const uC=((...e)=>{const t=cC().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=fC(o);if(!r)return;const s=t._component;!Ye(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,dC(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t});function dC(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function fC(e){return Dt(e)?document.querySelector(e):e}const pC=pt({}),hC=Ps(pC);function Js(){return hC}const Rh=e=>e>="0"&&e<="9";function mC(e,...t){return t.reverse(),new Proxy(e,{get(n,o,r){for(const s of t)if(Reflect.has(s,o))return eo(s[o]);return eo(n[o])},getOwnPropertyDescriptor(n,o){for(const r of t){const s=Reflect.getOwnPropertyDescriptor(r,o);if(s)return s}return Reflect.getOwnPropertyDescriptor(n,o)},has(n,o){for(const r of t)if(Reflect.has(r,o))return!0;return Reflect.has(n,o)},ownKeys(n){const o=new Set(Reflect.ownKeys(n));for(const r of t)Reflect.ownKeys(r).forEach(s=>o.add(s));return[...o]},set(n,o,r,s){for(const i of t)return Reflect.set(i,o,r),!0;return Reflect.set(n,o,r),!0},deleteProperty(n,o){for(const r of t)return Reflect.deleteProperty(r,o),!0;return Reflect.deleteProperty(n,o),!0}})}function gC(e,t){const n={};if(t)for(const o of t)n[o]=bk(e,o);return n}function vC(e){if(e)for(const t of Object.keys(e))e[t]==null&&delete e[t];return e}const yC={get(e,t,n){return Reflect.get(e.value,t)},has(e,t){return Reflect.has(e.value,t)},ownKeys(e){return Reflect.ownKeys(e.value)},set(e,t,n,o){return!0},deleteProperty(e,t){return!0}};function Ys(e){return new Proxy(e,yC)}const Nh=e=>{const t=e?.getBoundingClientRect();return{x:t.x??0,y:t.y??0,width:t.width??0,height:t.height??0}},bC=e=>{const t=e&&e.target&&El.get(e.target);if(t){for(const n of t)n._scrolled()||t.delete(n);t.size||El.delete(e.target)}},El=new WeakMap;let wC=class{_native;_options;_polling;_positions;constructor(t){const n=jn(new Map);typeof ResizeObserver<"u"&&(this._native=new ResizeObserver(o=>{for(const r of o){const s=window?.getComputedStyle(r.target,null);n.value.set(r.target,{x:r.contentRect.x,y:r.contentRect.y,width:r.contentRect.width+parseInt(s.paddingLeft,10)+parseInt(s.paddingRight,10),height:r.contentRect.height+parseInt(s.paddingTop,10)+parseInt(s.paddingBottom,10)})}sl(n)})),this._options=t||{},this._positions=n}_poll(){const t=this._positions.value;let n=!1;for(const[o,r]of t){if(typeof document<"u"&&!document?.body?.contains(o)){t.delete(o),n=!0;continue}const s=Nh(o);(s.x!=r.x||s.y!=r.y||s.width!=r.width||s.height!=r.height)&&(t.set(o,s),n=!0)}n&&sl(this._positions),t.size>0&&!this._native?typeof window<"u"?this._polling=window.setTimeout(this._poll.bind(this),1e3):this._polling=void 0:this._polling=void 0}_scrolled(){return this._polling&&clearTimeout(this._polling),this._positions.value.size>0?(typeof window<"u"&&(this._polling=window.setTimeout(this._poll.bind(this),0)),!0):!1}observe(t,n){if(t){if(this._positions.value.set(t,Nh(t)),this._options.scroll){let o=t.parentElement;for(;o&&o instanceof HTMLElement;){let r=El.get(o);r||(r=new Set,El.set(o,r),o.addEventListener("scroll",bC,{passive:!0})),r.add(this),o=o.parentElement}}this._native?this._native.observe(t,{box:"border-box"}):this._polling||typeof window<"u"&&(this._polling=window.setTimeout(this._poll.bind(this),50)),this._options.immediate&&sl(this._positions)}}unobserve(t){t&&this._positions.value.delete(t)}get positions(){return fk(this._positions)}disconnect(){this._polling&&(clearTimeout(this._polling),this._polling=void 0),this._native?.disconnect(),this._positions.value.clear()}};const Pc=e=>new wC(e),x1=(e,t)=>{let n=null;const o=r=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(r)},e)};return o.cancel=()=>{n!==null&&clearTimeout(n)},o},$l=e=>{switch(e){case"sm":return{"of--small":!0};case"lg":return{"of--large":!0};default:return{}}},Ei=e=>{if(typeof e!="object"||e===null)return e;const t=Array.isArray(e)?[]:{};for(const n in e)e.hasOwnProperty(n)&&(Sr(e[n])?t[n]=Ei(st(e[n])):typeof e[n]=="object"&&e[n]!==null?t[n]=Ei(e[n]):t[n]=e[n]);return t},A1=(e,t)=>{if(e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(const r of n)if(!o.includes(r)||!A1(e[r],t[r]))return!1;return!0},kC=be({name:"OfBadge",props:{status:String,scale:String,circular:Boolean,icon:Boolean,density:[String,Number]},setup(e){const t=Js(),n=A(()=>{let o=e.density;return o==="default"?o=void 0:typeof o=="string"&&(o=parseInt(o,10),isNaN(o)&&(o=void 0)),typeof o!="number"&&(o=t.defaultDensity),typeof o!="number"&&(o=2),Math.max(0,Math.min(3,o||0))});return{badgeClass:A(()=>["of--density-"+n.value,{["state-"+e.status]:!!e.status,"of--circular":e.circular,"of--icon":e.icon,...$l(e.scale)}])}}}),cn=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};function CC(e,t,n,o,r,s){return P(),W("div",{class:Xe(["of-badge",e.badgeClass])},[Qe(e.$slots,"default")],2)}const M1=cn(kC,[["render",CC]]);let SC=0,yr,T1=class{_cb;_prev;_cache;_cacheVal;_id;constructor(t,n){this._cb=t,this._prev=n,this._cacheVal={},this._cache=A(()=>{this._cacheVal={};const o=yr;return yr=this,this.apply(),yr=o,this._cacheVal}),this._id=SC++}apply(){this._prev&&this._prev.apply(),this._cb(this)}getCache(){return yr===this?this._cacheVal:this._cache.value}};const Td=pt([]),xC=new T1(()=>{for(const e of Td)e()}),E1=Symbol("ofcfg");function Ih(e){e&&(Array.isArray(e)?Td.concat(e):Td.push(e))}function ba(){return An(E1,xC)}function AC(e){const t=ba(),n=new T1(e,t);Ho(E1,n)}let Zs=class{_activeManager;_ctor;_injectKey;constructor(t,n){this._ctor=n,this._injectKey=Symbol(t)}createManager(t){return new this._ctor(t)}getCached(t){const n=t.getCache();let o=n[this.injectKey];return o||(o=this.createManager(t),n[this.injectKey]=o),o}get extendingManager(){if(!yr)throw new Error("Cannot extend config manager: use extendConfig");return this.getCached(yr)}inject(t){const n=t||ba();if(yr&&yr!==n)throw new Error("Cannot inject config manager while building another config");return A(()=>this.getCached(n))}get injectKey(){return this._injectKey}};const MC=["M 2 12 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0","M 4 12 a 8,8 0 1,0 16,0 a 8,8 0 1,0 -16,0"],Lh={name:"led",resolve(e,t){return e&&t?{class:"of--icon-led of--led-"+e,svg:{paths:[...MC]}}:null}};let TC=class{sets;setsNamed;effectsNamed;showMissing=!1;constructor(){this.sets=[],this.setsNamed={[Lh.name]:Lh},this.effectsNamed={[Ph.name]:Ph}}resolveIcon(t,n){if(typeof t!="string")return null;let o;const r=t.indexOf(" "),s=n&&n.type,i=s||(r!==-1?t.substring(0,r):null);if(i&&i in this.setsNamed){const a=s?t:t.substring(r+1);o=this.setsNamed[i].resolve(a,i)}if(!o&&!s){for(const a of this.sets)if(o=a.resolve(t),o)break}if(typeof o=="string")if(o===t)o=null;else return this.resolveIcon(o);if(!o&&this.showMissing&&(o={text:"xx"}),o&&o.svg&&n?.effect){const a=this.effectsNamed[n.effect];a&&(o.svg.effects||(o.svg.effects=[]),o.svg.effects.push(a))}return o||null}};const Vf=new Zs("oficon",TC);function $1(e){if(!e)return;const t=Vf.extendingManager,n=e.name;n&&(t.setsNamed[n]=e),e.requirePrefix||t.sets.push(e)}function EC(e){e===void 0&&(e=!0),Vf.extendingManager.showMissing=e}function $C(e){const t=Vf.inject(e);return Ys(t)}const OC={xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",role:"img","aria-hidden":!0,viewBox:"0 0 24 24"},DC=D("circle",{cx:"18",cy:"18",r:"6px",fill:"rgb(50, 50, 50)"}),Ph={name:"plus",render(){return{mask:[DC],nodes:[D("rect",{x:"17",y:"13",width:"2px",height:"10px",rx:"1px"}),D("rect",{x:"13",y:"17",width:"10px",height:"2px",rx:"1px"})]}}},RC=e=>{const t=[],n=[];if(e.effects)for(const o of e.effects){const r=o.render();r.mask&&t.push(D("g",{class:"m",id:o.name},r.mask)),r.nodes&&n.push(D("g",{class:"o",id:o.name},r.nodes))}return n.unshift(D("g",{class:"i",mask:t.length?"url(#m)":void 0},e.paths.map((o,r)=>{const s=r==e.paths.length-2,i={class:{pri:r==e.paths.length-1,alt:s},d:o};return s&&(i.opacity="0.3"),D("path",i)}))),t.length&&n.unshift(D("mask",{id:"m"},[D("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),...t])),D("svg",OC,n)},Zt=be({name:"OfIcon",props:{class:String,effect:String,name:String,scale:[Number,String],type:String,ariaLabel:String,title:String},setup(e,t){const n=$C(),o=A(()=>n.resolveIcon(e.name,{effect:e.effect,type:e.type})),r=A(()=>{let s=e.scale;return s&&(typeof s=="number"||typeof s=="string"&&s.match(/^[0-9]+$/))&&(s=""+s+"ch"),s||void 0});return()=>{const s=o.value,i=r.value,a=!isNaN(parseInt(i));if(s)return D("i",{role:"img","aria-label":e.ariaLabel??e.title??e.name,title:e.title,class:[{"of-icon":!0,"of-icon--svg":!!s.svg},e.scale&&!a?"of--icon-size-"+e.scale:void 0,e.class,s.class],"data-name":e.name,style:a?{"--icon-size":i}:void 0,...t.attrs},t.slots.default?t.slots.default():s.svg?RC(s.svg):s.text)}}}),NC=C(new Date),Ed=C({scrollX:0,scrollY:0,width:0,height:0}),IC=window.matchMedia?.("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi))").matches;function LC(){let e=null;function t(){e!==null&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>{Ed.value={scrollX:window.scrollX,scrollY:window.scrollY,width:window.innerWidth,height:window.innerHeight},e=null})}window.addEventListener("resize",t,{passive:!0}),window.addEventListener("scroll",t,{passive:!0}),t()}let Vh=!1,PC=class{mobileBreakpoint=1024;get isHighDpi(){return IC}get isMobile(){return Ed.value.width<this.mobileBreakpoint}get lastScroll(){return NC.value}get windowRect(){return Ps(Ed.value)}};const VC=new Zs("oflay",PC);function Vc(e){Vh||(LC(),Vh=!0);const t=VC.inject(e);return Ys(t)}const _C=be({name:"OfSpinner"}),BC={class:"wait-icon"};function HC(e,t,n,o,r,s){return P(),W("div",BC,[...t[0]||(t[0]=[g("div",{class:"bar1"},null,-1),g("div",{class:"bar2"},null,-1),g("div",{class:"bar3"},null,-1)])])}const O1=cn(_C,[["render",HC]]),zC=e=>{let t=e.parentNode;if(t){for(;t;){const n=getComputedStyle(t).position;if(n==="relative"||n==="absolute")break;t=[window,document.documentElement].indexOf(t.parentNode)!==-1?void 0:t.parentNode}if(!t){const[n,o,r,s]=[-window.scrollX,-window.scrollY,window.innerWidth,window.innerHeight];return{left:n,top:o,width:r,height:s,bottom:o+s,right:n+r}}return t.getBoundingClientRect()}},D1=e=>{if(!e)return!1;const t=document.activeElement;return t&&e.contains(t)||!1};let mi=200,ys=[];const Ba=e=>{ys=ys.filter(n=>n!==e),ys.length==0&&(mi=200);const t=ys[ys.length-1];t&&(D1(t)||t.focus())},Jo=be({name:"OfOverlay",inheritAttrs:!1,props:{active:{type:Boolean,default:!1},focus:{type:Boolean,default:!0},align:{type:String,default:"center"},capture:{type:Boolean,default:!0},class:String,embed:Boolean,id:String,loading:Boolean,pad:{type:Boolean,default:!0},shade:{type:Boolean,default:!0},target:{type:[Element,String]},transition:String,sticky:{type:Boolean,default:!0}},emits:["blur"],setup(e,t){const n=Math.random();let o=!1;const r=Vc(),s=C(),i=C(),a=C(),l=C(),c=C(mi),u={onClick(L){const N=s.value;N&&(L.target===N||L.target===i.value)&&(o=!1,t.emit("blur"),Ba(N))},onKeydown(L){L.key=="Escape"&&(o=!1,t.emit("blur",!0),Ba(s.value))}},d=A(()=>e.embed?"embed":"overlay"),f=C(),p=Pc({scroll:!0});Ae(p.positions,L=>w());const h=L=>{p.disconnect(),L&&f.value&&p.observe(f.value)},m=()=>{if(!s.value)return!1;ys.push(s.value),mi++,c.value=mi,s.value.style.zIndex=mi.toString()},v=()=>{const L=s.value;if(!L)return!1;D1(L)||((L.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')||L).focus(),o=!0)},y=()=>{if(!a.value)return;const L=a.value.parentNode;if(!L)return;const N=d.value!=="embed";l.value=N?L.closest("[data-overlay-parent]")??document.body:void 0},w=()=>{ut(()=>{const L=f.value,N=s.value;if(!N)return;if(!L){N.style.setProperty("--overlay-dyn-margin-left","0px");return}const V=zC(N),_=N?.getBoundingClientRect(),G=L?.getBoundingClientRect();if(!G||!V||!_||!G)return;const te=_.width+G.left-parseInt(getComputedStyle(N).paddingRight),Y=Math.max(te-V.width,0);if(te>window.innerWidth){const q=(window.innerWidth<G.right+window.pageXOffset?window.innerWidth-_.width:Math.max(G.right-_.width,0))+window.pageXOffset;N.style.setProperty("--overlay-dyn-margin-left",q+"px"),N.style.setProperty("padding-right","0")}else N.style.setProperty("--overlay-dyn-margin-left",Math.max(G.left+V.left-Y,0)+"px"),N.style.removeProperty("padding-right");if(!e.sticky)N.style.setProperty("position","absolute"),N.style.setProperty("top",`${G.y+window.scrollY+G.height-20}px`),N.style.setProperty("--overlay-dyn-pad-top","0");else{let q=G.bottom-_.y;const $=N.firstElementChild,F=new MutationObserver((T,J)=>{for(const le of T)if(le.type==="childList"&&!le.target?.classList.contains("loading")){J.disconnect(),w();break}});$&&F.observe($,{childList:!0,subtree:!0}),_.height-G.bottom-24<$?.clientHeight&&(q=G.top-$?.clientHeight-5),N.style.setProperty("--overlay-dyn-pad-top",Math.max(q,0)+"px");const E=N.children;G.top<0?E[0]?.style?.setProperty("margin-top",`${G.top}px`):(E[0]?.style?.setProperty("margin-bottom",`-${$?.clientHeight-5-_.height+G.top}px`),E[0]?.style?.setProperty("margin-top","3px"))}})},k=()=>{const L=e.active&&d.value==="overlay";y(),h(L),L&&ut(()=>{w(),m(),e.focus&&v()})};Ae(()=>[e.target,e.active,e.focus,d.value],([L,N,...V])=>{N||Ba(s.value),typeof L=="string"?f.value=document.documentElement.querySelector(L):L instanceof Element?f.value=L:f.value=null,k()}),Ae(()=>r.windowRect,L=>{ut(w)});const S=C(!1),M=C("");return Ae(()=>e.active,L=>{if(!L)return;S.value=!!(f.value&&window.getComputedStyle(f.value).getPropertyValue("--of-has-tint"));const N=f.value&&window.getComputedStyle(f.value).getPropertyValue("--of-tint-name");M.value=`of--tint-${N}`}),()=>{const L={[M.value]:!!S.value,"of--tinted":!!S.value,"of--active":e.active,"of--capture":e.active&&e.capture,"of--embed":d.value==="embed","of--loading":e.loading,"of--overlay":d.value==="overlay","of--pad":e.pad,"of--shade":e.shade,"of--fit-content":f.value};return d.value!=="embed"&&!f.value&&e.align&&(L["of--"+e.align]=!0),D(Ek,{disabled:!l.value,to:l.value,ref:a,onVnodeMounted:k,onVnodeBeforeUnmount:()=>{h(!1),o&&Ba(s.value)}},[D(Pf,{name:e.transition},{default:()=>[D("div",{style:{display:e.active?"contents":"none"}},[d.value=="overlay"?D("div",{class:{"of-overlay-capture":e.active&&e.capture},style:{"z-index":c.value},onClick:u.onClick,ref:i}):void 0,D("div",{class:["of-overlay",L,e.class],style:{"z-index":c.value},id:e.id,role:"document",ref:s,tabIndex:e.active&&d.value==="overlay"?"-1":null,"data-id":n,...u},e.loading?()=>t.slots.loading?t.slots.loading():D(O1):t.slots.default?.({active:e.active,state:d.value}))])]})])}}});let FC=class{defaultFieldType="text";fieldTypes={};textFormats={};config;constructor(t){this.config=t}getFieldType(t,n){let o=this.fieldTypes[t];return!o&&n&&(typeof n=="string"&&(o=this.fieldTypes[n]),o||(o=this.fieldTypes[this.defaultFieldType])),o&&typeof o=="function"&&(o={init:o}),o}getTextFormatter(t,n,o,r){let s;return typeof t=="string"?s=this.textFormats[t]:s=t,s&&typeof s=="function"?"format"in s.prototype?new s(this.config,n,o,r):s(this.config,n,o,r):s}};const _f=new Zs("offmt",FC);function R1(e,t){_f.extendingManager.fieldTypes[e]=t}function jC(e,t){_f.extendingManager.textFormats[e]=t}function Gn(e){const t=_f.inject(e);return Ys(t)}let UC=class{_initial;_rules;_state;_value;_metadata;_mode="edit";get metadata(){return this._metadata}constructor(t){const n=st(t||{});this._value=pt(n),this._initial=this.initializeData(n),this._rules=C([]),this._state=C({locked:!1}),this._metadata={},va(this._checkUpdated.bind(this))}initializeData(t){try{return C(structuredClone(Ei(t||{})))}catch{return C(Object.assign({},t))}}_checkUpdated(){const t=this._initial.value,n=this._value;let o=!1;this._state.value.updated=!A1(t,n);for(const r of this._rules.value)r(n)||(o=!0);for(const r in this.metadata.required)n[r]||(o=!0);this._state.value.invalid=o}get initialValue(){return this._initial.value}get invalid(){return this._state.value.invalid||!1}lock(t){return this.locked?null:(this._state.value.locked=!0,{release:()=>{this._state.value.locked=!1}})}get locked(){return this._state.value.locked||!1}set locked(t){this._state.value.locked=t}get pending(){return this._state.value.pending||!1}reset(){let t;try{t=Ei(this._initial.value||{}),this.value=structuredClone(t)}catch{t=st(this._initial.value||{}),Object.assign(this.value,t)}}reinit(){let t;try{t=Ei(this.value||{}),this._initial.value=structuredClone(t)}catch{t=st(this.value||{}),Object.assign(this._initial.value,t)}}get updated(){return this._state.value.updated||!1}get value(){return this._value}set value(t){for(const n in this._value)(!t||!(n in t))&&delete this._value[n];Object.assign(this._value,t)}get mode(){return this._mode}set mode(t){this._mode=t}};const wa=e=>pa(new UC(e));class KC{currentRecord=null;getCurrentRecord(){return this.currentRecord}}const N1=new Zs("ofrec",KC);function WC(e){N1.extendingManager.currentRecord=e||null}function Xs(e){const t=N1.inject(e);return Ys(t)}const ka=be({name:"OfField",setup(e,t){const n=C(),o=C(),r=jn(),s=Gn(),i=Xs(),a=A(()=>t.attrs.record||i.getCurrentRecord()||void 0),l=A(()=>t.attrs.name?a.value?.metadata?.[t.attrs.name]:null);return Ae(()=>[t.attrs.format,t.attrs.type,l.value?.type],([c,u,d])=>{u=d||u,n.value=c,o.value=u;const f=u&&typeof u=="object"&&"setup"in u?u:s.getFieldType(u,!0);if(!f)throw new TypeError(`Unknown field type: ${u}`);r.value=f},{immediate:!0}),()=>r.value?D(r.value,mC(t.attrs,{format:n,type:o}),t.slots):null}}),I1="ofnavgrp";function qC(e){Ho(I1,e)}function GC(){const e=An(I1,null)||null,t=Gs();return e&&t?new JC(e,t):e}class JC{_grp;_inst;constructor(t,n){this._grp=t,this._inst=n}get isFocused(){return this._grp.isFocused}register(t){const n=this._inst,o=this._grp.register(t);return o&&(n._navItems||(n._navItems=[],cs(()=>{if(n._navItems)for(const r of n._navItems)r.unregister()},n)),n._navItems.push(o)),o}navigate(t){return this._grp.navigate(t)}}function YC(){const e=pt(new Set),t=A(()=>[...e].sort((r,s)=>{const i=r.elt,a=s.elt;if(!i)return a?1:0;if(!a)return-1;const l=i.compareDocumentPosition(a);return l==4||l==16?-1:l==2||l==8?1:0})),n=A(()=>{let r,s,i;for(const[a,l]of t.value.entries())l.isDisabled||(r===void 0&&(r=a),l.isFocused&&(i=a),l.isCurrent&&(s=a));return{lastFocused:i,lastActive:s,first:r,current:i??s??r}}),o=A(()=>{const r=n.value.current;return r!==void 0&&t.value[r]?.isFocused||!1});return Ae(()=>n.value,r=>{for(const[s,i]of t.value.entries()){const a=s===r.current;i.isCurrent!==a&&(i.isCurrent=a)}}),{isFocused:o,register(r){return e.add(r),{unregister:()=>e.delete(r)}},navigate(r){const s=t.value,i=n.value;if(!s.length||i.current===void 0)return!1;const a=r.key;let l=null;if(a==="ArrowDown"||a==="ArrowRight")l="next";else if(a==="ArrowUp"||a==="ArrowLeft")l="previous";else if(r)return!1;if(l){r&&r.preventDefault();let c=i.current;const u=l==="next"?1:-1;let d;for(;;){if(c+=u,c<0?c=s.length-1:c>=s.length&&(c=0),c===i.current)return!1;if(s[c]&&!s[c].isDisabled&&(d=s[c].focus)&&s[c].elt.clientHeight!=0)return d(),!0}}return!1}}}const L1=be({name:"OfNavGroup",setup(e,t){const n=YC();return qC(n),()=>t.slots.default?.({focused:n.isFocused})}});function ZC(e){return{isActive:!1,isExactActive:!1,href:e,navigate(t){return e&&(!t||t.type!="click")&&(document.location.assign(e),t?.preventDefault?.()),Promise.resolve()}}}function _h(e,t,n,o){const r=s=>(n&&n.length>0&&n.forEach(i=>i()),e.navigate(s));return D("a",{"aria-current":e.isExactActive?t.props.ariaCurrentValue:null,"aria-label":o??null,tabindex:"0",class:{"of-link":!0,"of--active":e.isExactActive,"of--disabled":!e.href,"of--link":!!e.href},href:e.href,onClick:r,onKeydown:s=>{s.key=="Enter"&&r(s)},...t.attrs},t.slots.default?.(e))}function P1(e){if(e){if(e.subTree.el instanceof HTMLElement)return e.subTree.el;if(e.subTree.component)return P1(e.subTree.component);{const t=Array.isArray(e.subTree.children)&&e.subTree.children[0];if(Er(t)&&t.el instanceof HTMLElement)return t.el}}return null}const Bf=be({name:"OfLink",inheritAttrs:!1,props:{ariaCurrentValue:{type:String,default:"page"},ariaLabel:{type:String,default:null},href:{type:String,default:null},to:[String,Object],beforeNavigate:{type:Array,default:null}},setup(e,t){const n=Gs(),o=()=>{P1(n)?.focus?.()},r=K("RouterLink");return{focus:o,doRender(){const s=t.slots.custom;if(r&&e.to&&!e.href)return D(r,{custom:!0,to:e.to??""},s||(i=>_h(i,n,e.beforeNavigate,e.ariaLabel)));{const i=ZC(e.href);return s?s(i):_h(i,n,e.beforeNavigate,e.ariaLabel)}}}},render(){return this.doRender()}}),V1=be({name:"OfListItem",props:{active:{type:[Boolean,String],default:null},disabled:{type:[Boolean,String],default:null},class:{type:String,default:null},expand:{type:[Boolean,String],default:null},href:{type:String,default:null},to:[String,Object],attrs:{type:Object},field:{type:Object,default:null}},emits:{mousedown:null,keydown:null,blur:null,focus:null,"button-click":null},setup(e,t){const n=GC(),o=C(),r=A(()=>e.expand),s=C(!!e.active),i=C(!1);n&&n.register(pt({isCurrent:s,isDisabled:A(()=>!!e.disabled),elt:o,isFocused:i,focus:()=>{o.value?.focus?.()}}));const a={onFocus(){i.value=!0,t.emit("focus")},onBlur(){i.value=!1,t.emit("blur")}};Ae(()=>e.active,u=>{s.value=!!u}),Ae(()=>e.attrs?.isFocused,u=>{u===!0&&(i.value=!0,o.value?.focus())});const l=K("OfButton"),c=()=>{const u=[D("div",{class:"of-list-item-content",style:{justifyContent:"space-between"}},[D("div",{class:"of-list-item-content"},[t.slots.default?.()]),e.field?D(e.field.type==="button"?l:ka,{...e.field,onMousedown:d=>{e.field?.click&&e.field.click(d,e.field),t.emit("button-click",d,e.field)}}):null])];return r.value!==null&&u.push(D(Zt,{name:r.value?"expand up":"expand down"})),u};return()=>{const u=e.disabled;return D(Bf,{href:u?null:e.href,to:u?null:e.to},{custom:d=>{const f=e.active??(d.href?d.isExactActive:n&&!!e.active),p=d.href,h=m=>(d.href&&d.navigate(m),m.defaultPrevented);return D(p?"a":"div",{class:{"of-list-item":!0,"of--active":f,"of--hover":e.attrs?.isFocused===!0,"of--disabled":e.disabled,"of--expandable":r.value!==null,"of--expanded":r.value,"of--focused":i.value,"of--link":!!p,[e.class]:!0},href:d.href,ref:o,tabIndex:0,onMousedown(m){if(!(m.button!=null&&m.button!==0))return t.emit("mousedown",m),h(m),!1},onKeydown(m){(m.key===" "||m.key==="Enter")&&(t.emit("keydown",m),m.preventDefault(),h(m))||n?.navigate(m)},...a,...e.attrs},D("div",{class:"of-list-item-inner"},[D("div",{class:"of--layer of--layer-bg"}),D("div",{class:"of--layer of--layer-brd"}),c()]))}})}}}),_1=(e,t,n,o)=>{const r={disabledKey:"disabled",items:[],specialKey:"special",postfixKey:"postfix",textKey:"text",selectedTextKey:"selectedText",valueKey:"value",iconKey:"icon",classKey:"class"};let s;n&&o&&(s=o.metadata[n]?.items),s||(s=t);const i=e.getItemList(s);return i&&Object.assign(r,i),r};function XC(e){return Array.isArray(e)?{items:e}:typeof e!="object"||!Array.isArray(e.items)?{error:"Error loading items",items:[]}:pa(e)}function QC(e){if(typeof e=="string"||typeof e=="number")return[{value:e,text:e}];if(Array.isArray(e)){const t=[];return e.forEach(n=>{if(typeof n=="string"||typeof n=="number")t.push({value:n,text:n});else{if(!(n.value&&n.text))throw"Object properties is wrong";t.push(n)}}),t}return[]}let eS=class{lists={};getItemList(t){return typeof t=="string"?this.lists[t]:XC(t)}};const tS=new Zs("ofitm",eS);function Ca(e){const t=tS.inject(e);return Ys(t)}const nS={selectFieldAddItems:"Add Items",selectFieldRemoveItems:"Remove Items",listNoItems:"No Items",remove:"Remove Item",startAt:"Start At",perPage:"Per Page",update:"Update"},oS=C({}),rS=A(()=>({...nS,...oS.value})),_c=()=>rS,sS=be({name:"OfOptionList",components:{OfField:ka,OfListItem:V1,OfNavGroup:L1},props:{focus:{type:Boolean,default:!0},class:[Object,String],style:[Object,String],items:{type:[String,Object,Array],default:()=>[]},addSearch:{type:Boolean,default:!1},alwaysShowSearch:{type:Boolean,default:!1}},emits:["blur","click","close","focused"],setup(e,t){const n=Ca(),o=A(()=>n.getItemList(e.items)||{items:[]}),r=A(()=>w.value.length==0),s=A(()=>e.class),i=A(()=>e.style),a=C(!1),l=C(null),c=_c(),u=C(null),d=C(""),f=A(()=>d.value!==""),p=C(e.alwaysShowSearch),h=(q,$)=>{p.value&&m($)},m=x1(300,q=>{d.value=q.trim()}),v=()=>{l?.value?.scroll?.(0,0)};let y=null;const w=A(()=>{const q=(d.value||"").trim().toLowerCase(),$=q==="";let F=o.value.items.filter(E=>{if(E.special)return!0;if(E.value!==void 0){const T=E.text;return $||T.toLowerCase().includes(q)}});return F=F.filter((E,T)=>{if(E.special){const J=F[T+1]??null;return J&&!J.special}else return!0}),q!==y&&v(),y=q,F}),k=()=>{d.value=""};Ae(()=>e.focus,q=>{q&&Y()}),Ae(()=>e.alwaysShowSearch,q=>p.value=q);const S=q=>{let $=!1;q.key==="Escape"?p.value&&d.value!==""?($=!0,d.value=""):t.emit("blur"):["ArrowUp","ArrowDown"].includes(q.key)&&!a.value?($=!0,Y(!0)):(q.key==="Backspace"||/(^Key([A-Z]$))/.test(q.code)||/(^Digit([0-9]$))/.test(q.code))&&!q.altKey&&!q.metaKey&&!q.ctrlKey&&e.addSearch&&!r.value&&(p.value=!0,ut(()=>{M()})),$&&(q.stopPropagation(),q.preventDefault())},M=()=>{u?.value?.$el.querySelector("input")?.focus()},L=()=>{a.value=!0},N=()=>{ut(()=>{a.value||_()}),a.value=!1},V=C(!0),_=()=>{w.value.forEach(q=>{q.attrs?.hasOwnProperty("isFocused")&&(q.attrs.isFocused=!1)}),ut(()=>{V.value&&t.emit("blur")})},G=(q,$)=>{$.stopPropagation(),V.value=q.closeAfterClick,!q.disabled&&(q.field&&(q={...q,field:{}}),t.emit("click",q.value,q,$),p.value=e.alwaysShowSearch,d.value="")},te=q=>{q.stopPropagation(),t.emit("close")},Y=(q=!1)=>{if(w.value.length==0)return;const $=w.value.findIndex(F=>F.selected&&F.selected===!0);!q&&$!==-1?w.value[$].attrs={...w.value[$].attrs,isFocused:!0}:(v(),w.value.some(F=>{if(!F.special)return F.attrs={...F.attrs,isFocused:!0},!0})),t.emit("focused")};return e.focus&&ut(()=>{p.value?M():Y()}),{lang:c,isEmpty:r,filterItems:w,menuClass:s,menuStyle:i,click:G,listOuter:l,searchField:u,searchText:d,onSearchInput:h,searchNotEmpty:f,clearSearch:k,showSearch:p,onKeyPress:S,onItemBlur:N,onItemFocus:L,buttonClick:te,isVNode:Er}}}),iS={key:0,class:"search-row"},aS={key:0,style:{padding:"0 0.5em"}},lS={key:1,class:"of-list-outer",role:"menuitem",ref:"listOuter"},cS={key:0,class:"of-list-header"},uS={key:1,class:"of-list-divider"},dS={class:"of-list-item-text"},fS={key:0,class:"of-list-item-postfix"},pS={key:1};function hS(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-field"),l=K("of-list-item"),c=K("of-nav-group");return P(),W("div",{role:"menu",class:Xe(["of-menu options",e.menuClass]),style:Ht(e.menuStyle),onKeydown:t[1]||(t[1]=(...u)=>e.onKeyPress&&e.onKeyPress(...u))},[Qe(e.$slots,"header",{addSearch:e.addSearch,showSearch:e.showSearch,searchText:e.searchText}),e.showSearch&&e.addSearch?(P(),W("div",iS,[b(a,{type:"text",modelValue:e.searchText,"onUpdate:modelValue":t[0]||(t[0]=u=>e.searchText=u),onInput:e.onSearchInput,ref:"searchField",tabindex:"0"},{prepend:j(()=>[b(i,{name:"search"})]),append:j(()=>[e.searchNotEmpty?(P(),ot(i,{key:0,name:"cancel circle",style:{cursor:"pointer"},size:"input",onClick:e.clearSearch},null,8,["onClick"])):$e("",!0)]),_:1},8,["modelValue","onInput"])])):$e("",!0),b(c,null,{default:j(()=>[e.isEmpty?(P(),W("div",aS,[Qe(e.$slots,"empty",{},()=>[ce(Fe(e.lang.listNoItems),1)])])):$e("",!0),e.isEmpty?$e("",!0):(P(),W("div",lS,[(P(!0),W(Pe,null,ct(e.filterItems,(u,d)=>(P(),W(Pe,{key:d},[u.special==="header"?(P(),W("div",cS,Fe(u.text),1)):$e("",!0),u.special==="divider"?(P(),W("div",uS)):$e("",!0),u.special?$e("",!0):(P(),ot(l,{active:u.selected,disabled:u.disabled,class:Xe(u.class),onMousedown:f=>e.click(u,f),onKeydown:f=>e.click(u,f),onBlur:e.onItemBlur,onFocus:e.onItemFocus,onButtonClick:e.buttonClick,attrs:u.attrs,key:d,field:u.field},{default:j(()=>[Qe(e.$slots,"option-icon",Ke({ref_for:!0},u),()=>[u.icon?(P(),ot(i,{key:0,name:u.icon,size:"input"},null,8,["name"])):$e("",!0)]),g("div",dS,Fe(u.text),1),u.postfix?(P(),W("div",fS,[e.isVNode(u.postfix)?(P(),ot($f(u.postfix),{key:0})):(P(),W("div",pS,Fe(u.postfix),1))])):$e("",!0)]),_:2},1032,["active","disabled","class","onMousedown","onKeydown","onBlur","onFocus","onButtonClick","attrs","field"]))],64))),128))],512))]),_:3}),Qe(e.$slots,"footer",{addSearch:e.addSearch,showSearch:e.showSearch,searchText:e.searchText})],38)}const Qs=cn(sS,[["render",hS]]);let mS=0;const Bs=be({name:"OfButton",props:{active:Boolean,density:[String,Number],disabled:Boolean,icon:String,iconPosition:{type:String,default:"start"},id:String,items:[String,Array,Object],label:String,ariaLabel:String,tabindex:String,name:String,rounded:{type:Boolean,default:void 0},scale:String,split:Boolean,type:String,variant:String,tint:String,keepTextColor:Boolean,menuTrigger:{type:String,default:"click"}},emits:{click:null},setup(e,t){const n=Js(),o=A(()=>e.tint),r=C(!1),s=C(!1);let i;const a=C(null),l=()=>{ut(()=>{a.value?.focus()})},c=A(()=>{let S=e.density;return S==="default"?S=void 0:typeof S=="string"&&(S=parseInt(S,10),isNaN(S)&&(S=void 0)),typeof S!="number"&&(S=n.defaultDensity),typeof S!="number"&&(S=2),Math.max(0,Math.min(3,S||0))}),u=A(()=>{let S=e.variant;return(!S||S=="default")&&(S=n.defaultButtonVariant),S||"filled"}),d=S=>{e.items&&!e.split?h():t.emit("click",S)},f=(S,M)=>{typeof S=="function"&&S.call(this),(!M.hasOwnProperty("closeAfterClick")||M.closeAfterClick)&&m()},p=()=>{m(),l()},h=S=>{r.value=!r.value},m=()=>{r.value=!1},v=D("div",{class:"of-button-expand"},D(Zt,{name:"select down"})),y={onMouseenter:()=>{e.menuTrigger==="hover"&&(r.value=!0),clearTimeout(i)},onMouseleave:()=>{if(!r.value)return!1;i=window.setTimeout(()=>{m()},500)}},w={onFocus:()=>{s.value=!0},onBlur:()=>{s.value=!1}};let k;return()=>{const{disabled:S,id:M,items:L,split:N,tabindex:V}=e;let{rounded:_}=e;_===void 0&&(_=n.defaultRoundedButton),!M&&!k&&(k=`of-button-${++mS}`);const G=(M||k)+"-button",te=(M||k)+"-split",Y=t.slots.icon?t.slots.icon():e.icon?D("div",{class:"of-button-icon"},D(Zt,{class:"button-icon",name:e.icon})):void 0,q=t.slots.content||t.slots.default||e.label?D("div",{class:"of-button-content"},t.slots.content?t.slots.content():D("label",t.slots.default?t.slots.default():e.label)):void 0,$=t.slots.extra?.(),F=[Y,q,$,L&&!N?v:void 0],E=()=>e.iconPosition==="end"?{"of-flex-reverse":!0}:{};return D("div",{class:["of-button","of--density-"+c.value,"of--variant-"+u.value,{"of--tinted":!!o.value,["of--tint-"+o.value]:!!o.value,"of--keep-text-color":e.keepTextColor,"of--focused":s.value,"of--active":e.active,"of-button--rounded":_,"of-button--icon":!!(Y&&!(q||L||N)),"of--mode-disabled":S}],id:M},[D("div",{class:"of--layer of--layer-lining"}),D("div",{class:"of--layer of--layer-bg"}),D("div",{class:"of--layer of--layer-brd"}),D("div",{class:"of--layer of--layer-outl of--elevated"}),D("button",{class:["of-button-main",$l(e.scale),E()],disabled:S,tabindex:V,id:G,ref:N&&L?void 0:a,onClick:d,name:e.name,type:e.type??"button","aria-label":e.ariaLabel??e.label,...y,...w},F),N&&L?D("button",{class:["of-button-split",$l(e.scale)],disabled:S,id:te,ref:a,onClick:h,...y,...w,"aria-label":e.ariaLabel??e.label,"aria-haspopup":!0},v):void 0,L?D(Jo,{active:r.value,capture:!1,shade:!1,target:"#"+(N?te:G),onBlur:()=>{r.value=!1}},()=>D(Qs,{class:"of--elevated-1",items:L,onClick:f,onBlur:p,...y})):void 0,D("div",{class:"of--layer of--layer-state"})])}}}),Xi=(e,t)=>e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear(),Hf=(e,t)=>{const n=new Date(e.getTime());return n.setMonth(n.getMonth()+t),n.setDate(1),n},ln=(e,t)=>{const n=new Date(e.getTime());return n.setDate(n.getDate()+t),n},$i=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+t),gS=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),Bh=e=>{e=e||new Date,e=new Date(e.getFullYear(),e.getMonth(),1);const t=e.getDay()||7;return ln(e,1-t)},Hh=e=>new Date(e.getFullYear(),e.getMonth()+1,0),Sa=(e,t=1)=>{const n=parseInt(e);return isNaN(n)?t:Math.max(0,Math.min(6,n))},vS=[0,31,59,90,120,151,181,212,243,273,304,334],yS=[0,31,60,91,121,152,182,213,244,274,305,335],bS=e=>e%4==0&&(e%100!=0||e%400==0),zh=e=>{let t=new Date(e,0,1);return t.getDay()==4||(t=new Date(e,11,31),t.getDay()==4)?53:52},wS=e=>{const t=e.getDay()||7,n=e.getFullYear(),o=bS(n),r=e.getMonth(),s=e.getDate()+(o?yS[r]:vS[r]),i=Math.floor((10+s-t)/7);return i<1?zh(n-1):i>zh(n)?1:i};function kS(e){return Hf(e,1)}function CS(e){return Hf(e,-1)}const B1=(e,t)=>{const n=[1,2,3,4,5,6,7],o=new Date(e?.valueOf()??new Date().valueOf());o.setDate(1);const r=o.getMonth(),s=o.getDay()||7,i=Sa(t??1);let a=ln(o,i-(s>=i?s:s+7)),l=0;const c=[],u=new Date;for(;l<4||a.getMonth()==r;){l++;const d=[];for(let f=0;f<7;f++)d.push({date:a,today:Xi(u,a),otherMonth:a.getMonth()!=r}),a=ln(a,1);c.push(d)}return{grid:c,weekDays:n}},mo=1e4,SS=1e4,xS=100,bs=60;function Rt(e){return{date:e,year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),hours:e.getHours(),minutes:e.getMinutes()}}function AS(e){return new Date(e.year,e.month,e.day,e.hours,e.minutes)}function Ol(e){const t=new Date(e.date.valueOf());return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),{...e,date:t,hours:0,minutes:0}}function Oi(e,t){let n=e.year-t.year;return n!=0||(n=e.month-t.month,n!=0)||(n=e.day-t.day,n!=0)||(n=e.hours-t.hours,n!=0)||(n=e.minutes-t.minutes,n!=0)?Math.sign(n):0}function MS(e,t){let[n,o]=[e.startTS,e.endTS];t!==void 0&&(Oi(n,t[0])<0&&(n=t[0]),Oi(o,t[1])>0&&(o=t[1]));let r=AS(n),s=0;for(;Oi(n,o)<0;r=ln(r,1),n=Rt(r))s++;return s||1}const zo=e=>e.year*SS+e.month*xS+e.day,$d=e=>e.hours*bs+e.minutes,Di=e=>zo(e)*mo+$d(e),TS=(e,t,n)=>e.end>t&&e.end<=n||e.start>=t&&e.start<n||t>=e.start&&t<e.end||t>=e.start&&t<e.end,ES=(e,t,n)=>e.filter(o=>Math.max(o.startDay,n)==t),$S=(e,t)=>Array.isArray(t)?!!~t.indexOf(e):e===t,Bc=(e,t,n,o,r)=>{const s=e.filter(i=>(n==="ignore"||(i.allDay||!1)===n)&&(o===void 0||$S(o,i.category))&&TS(i,t*mo,(t+1)*mo));return r?s.sort((i,a)=>i.start-a.start):s},Ns=(e,t,n,o,r=!0)=>r?!(e>=o||t<=n):!(e>o||t<n);function OS(e,t,n){t instanceof Date&&(n={...Rt(ln(t,1)),hours:0,minutes:0},t={...Rt(t),hours:0,minutes:0});const o=Oi(e.startTS,t)<0?t:e.startTS,r=Oi(e.endTS,n)>0?n:e.endTS;return[o,r]}function DS(e,t,n,o,r,s,[i,a]){const l=t*mo+i*bs,c=t*mo+a*bs,u=t*mo+a*bs-bs/2,d=(a-i)*bs,f=[],p=Bc(e,t,n,o);p.sort((m,v)=>m.start-v.start);const h=p.map(m=>({event:m,start:Math.max(l,m.start),end:Math.min(c,m.end),height:0,top:0,width:0,left:0,columns:1,columnNum:0,offset:0,zIndex:0,columnAdjust:0,conflict:!1}));for(const m of h){let[v,y]=[m.start,m.end];y-v<30&&(y=v+30,y>c&&(y=c,v=u)),m.start=v,m.end=y,m.top=(v%mo-l%mo)/d*100,m.height=(y%mo-v%mo)/d*100;let w=!1;for(const k of f)if(Ns(v,y,k.start,k.end)){k.placements.push(m),k.end=Math.max(k.end,y),w=!0;break}w||f.push({start:v,end:y,placements:[m]})}for(const m of f)m.placements.length>1&&m.placements.forEach(v=>{v.conflict=!0}),r(m,s);return f}const zf=(e,t)=>{const n=t.getTextFormatter("datetime"),o=n.loadValue(e.start);if(o==null)return;let r=null;e.end&&(r=n.loadValue(e.end)),r==null&&e.duration&&(r=$i(o,e.duration||0));let s=e.allDay||!1;(r==null||r<o)&&(s=!0,r=gS(o));const i=Rt(o),a=Rt(r);return{uniq:"",name:e.name,color:e.color,class:e.class,allDay:s,startTS:i,endTS:a,start:Di(i),end:Di(a),startDay:zo(i),endDay:zo(a),startTime:$d(i),endTime:$d(a),category:e.category,orig:e}},Dl=(e,t)=>({...e,uniq:""+zo(Rt(t.date))+"|"+t.category}),RS={nativeOptions:{weekday:"short"}},NS={nativeOptions:{day:"numeric"}},Hc=be({computed:{formatMgr:()=>Gn()},methods:{renderSlot(e,t,n){const o=this.$slots[e];return o?o(t):n()},renderWeekDay(e){const t=this.formatMgr.getTextFormatter("date",RS);return D("div",{class:"weekday"},t?.format(e).textValue)},renderDayNumber(e,t){const n=this.formatMgr.getTextFormatter("date",NS);return D("div",{class:"of-calendar-day-title",tabindex:t?void 0:"0"},[t?this.renderWeekDay(e):null,D("div",{class:{"day-number":!0,today:e&&Xi(e,new Date)}},n?.format(e).textValue)])}}}),IS=(e,t,n)=>{const o=n.currentColumn;return n.currentColumn++,e.map(r=>{const s=MS(r,t),i=n.busyColumns.length;let a=n.busyColumns.findIndex(l=>o>=l);return~a?n.busyColumns[a]=o+s:(a=i,n.busyColumns.push(o+s)),{event:r,daysSpan:s,top:a}})};function LS(e,t){const n=[];for(const i of e.placements){let a=!1;for(const l of n){let c=!1;for(const u of l.placements)if(Ns(i.start,i.end,u.start,u.end)){c=!0;break}if(!c){l.placements.push(i),a=!0;break}}a||n.push({placements:[i],offset:0,end:0})}n.forEach((i,a)=>{for(const l of i.placements){l.columns=1;e:for(const c of n.slice(a+1)){for(const u of c.placements)if(Ns(l.start,l.end,u.start,u.end))break e;l.columns++}}});const o=1/n.length;let r=0,s=0;for(const i of n){for(const a of i.placements)a.left=r,a.width=o*a.columns,a.columnNum=s;r+=o,s++}}function PS(e,t){const n=[];let o;for(const a of e.placements){let l=!1,c=-1;for(const u of n){c++;let d=!1;for(const f of u.placements)if(Ns(a.start,a.end,f.start,f.end)&&f.end-a.start>=-t){d=!0;break}if(!d){a.start<=u.end?(o&&a.start<o&&u.offset++,a.offset=u.offset):u.offset=0,o=a.end,a.zIndex=c,u.placements.push(a),u.end=Math.max(u.end,a.end),l=!0;break}}l||(a.zIndex=n.length,o=a.end,n.push({placements:[a],offset:0,end:o}))}n.forEach((a,l)=>{for(const c of a.placements){c.columns=1;e:for(const u of n.slice(l+1)){for(const d of u.placements)if(Ns(c.start,c.end,d.start,d.end)&&Math.abs(c.start-d.start)<t)break e;c.columns++}}}),n.forEach((a,l)=>{if(l!=0)for(const c of a.placements){let u=1e6;e:for(let d=1;d<=l;d++){let f=u;for(const p of n[l-d].placements)if(Ns(c.start,c.end,p.start,p.end))if(c.start-p.start<t)if(p.columnAdjust<1){u=Math.min(u,p.columnAdjust-p.columnAdjust+d-2);break e}else f=Math.min(f,p.columnAdjust+d-2);else f=Math.min(f,p.columnAdjust+d-1);u=Math.min(u,f)}u<1e6&&(c.offset+=u+1,c.columnAdjust=u+1)}});const r=1/n.length;let s=0,i=0;for(const a of n){for(const l of a.placements){const c=.05*l.offset,u=l.columns+l.columnAdjust;l.left=s-l.columnAdjust*r+c,l.width=r*u-c,l.columnNum=i}s+=r,i++}}const VS=["day","month","week","category","ndays","month","year","custom"];function _S(e){return VS.indexOf(e)>=0}const Xt={internal:{categoriesList:Array,ignoreCategories:Boolean,visibleRange:Array},week:{weekStart:Number,hideWeekends:Boolean},category:{categories:{type:Array,default:()=>[]}},ndays:{numDays:{type:[Number,String],default:"3"}},month:{fixedRowHeight:Boolean,eventsLimit:{type:[String,Number],default:"5"},hideOtherMonths:Boolean,hideWeekends:Boolean,weekStart:Number},year:{fixedRowHeight:Boolean,eventsLimit:{type:[String,Number],default:"5"},hideOtherMonths:Boolean,hideWeekends:Boolean,weekStart:Number},common:{selectable:Boolean,hourIntervals:{type:[Number,String],default:4},conflictColor:String,eventColor:Function,eventClass:Function,type:{type:String,validator:_S},day:{type:Date,default:()=>new Date},layout:String,events:Array,categoryTitles:{type:Boolean,default:()=>!0},hourHeight:{type:[Number,String],default:"48"},eventHeight:{type:[Number,String],default:"20"},overlapThreshold:{type:[Number,String],default:"45"},dayStart:{type:[Number,String],default:0},dayEnd:{type:[Number,String],default:24},groupAllDayEvents:{type:Boolean,default:!1},groupPostfix:{type:String,default:""}}};function BS(e,t,n){const[o,r]=OS(t,n),s=new Date(o.year,o.month,o.day,o.hours,o.minutes),i=new Date(r.year,r.month,r.day,r.hours,r.minutes),a=o.hours<12!=r.hours<12,l={nativeOptions:{hour:"numeric",minute:"numeric"}},c=e.getTextFormatter("date",l),u=c?.format(s).parts,d=c?.format(i).parts;if(!u||!d)return"";const f=u.filter(h=>a||h.type!="dayPeriod").map(h=>h.value).join("").trim(),p=d.map(h=>h.value).join("").trim();return f+"-"+p}const HS=be({mixins:[Hc],props:{...Xt.internal,...Xt.common,...Xt.week},emits:["click:event","enter:event","leave:event","click:category","click:day","mousedown:time","mousemove:time","mouseup:time","selection:change","selection:end","selection:cancel","selection:allday","focus:day","blur:day"],data(){return{selecting:!1,selectionStart:0,selectionEnd:0,selectionCategory:"",dayEl:void 0,eventMaxWidth:250,allDayPopups:{active:{},closeTimerId:{},width:{},height:{}}}},computed:{overlapThresholdNumber(){return parseInt(this.$props.overlapThreshold)||0},numHourIntervals(){return parseInt(this.$props.hourIntervals)||4},parsedEvents(){const e=this.$props.events||[],t=Gn();return e.map(n=>zf(n,t)).filter(n=>n!==void 0)},formatMgr:()=>Gn(),layoutFunc(){return this.$props.layout==="stack"?PS:LS},hasAllDay(){return(this.$props.events?.filter(e=>e.allDay).length||0)>0},groupAllDay(){return this.$props.groupAllDayEvents===!0&&["week","day"].includes(this.$props.type??"")},allDayEvents(){const e=this.visibleRange||[],t=zo(e[0]),n={};let o={busyColumns:[],currentColumn:0};for(const r of this.$props.categoriesList||[]){const s=zo(Rt(r.date)),i=Bc(this.parsedEvents,s,!0,this.ignoreCategories?void 0:r.category,!0),a=this.groupAllDay?i:ES(i,s,t),l=IS(a,e,o);this.$props.type=="category"&&(o={busyColumns:[],currentColumn:0});let c=-1;n[r.category]=l.map(u=>(c++,{...u,...this.groupAllDay?{top:c,daysSpan:1}:{},event:{...u.event,uniq:Dl(u.event,r)}}))}return n},dayEvents(){const e={};for(const t of this.$props.categoriesList||[]){const n=zo(Rt(t.date)),o=this.overlapThresholdNumber,r=this.ignoreCategories?void 0:t.category,s=DS(this.parsedEvents,n,!1,r,this.layoutFunc,o,this.hoursInterval);e[t.category]=s.map(i=>i.placements.map(a=>({...a,event:{...a.event,uniq:Dl(a.event,t)}}))).flat(1)}return e},hoursInterval(){let e=parseInt(this.dayStart)||0,t=parseInt(this.dayEnd)||0;return e>=t&&([e,t]=[0,24]),e<0&&(e=0),t>24&&(t=24),[e,t]}},mounted:function(){this.$data.dayEl=this.$refs.dayEl},methods:{intervals(){const[e,t]=this.hoursInterval;return Array.from({length:t-e},(n,o)=>o+e)},hideDate(e){return this.$props.type!="category"&&this.$props.type==="week"&&this.$props.hideWeekends&&[6,0].includes(e.getDay())},getEventIntervalRange(e){const t=Di(e),n=Di(Rt($i(e.date,60/this.numHourIntervals)));return[t,n]},getEventTimestamp(e,t){const n=this.hoursInterval,o=60/this.numHourIntervals,r=e.currentTarget.getBoundingClientRect(),s=e,i=e,a=s.changedTouches||s.touches,l=(a&&a[0]?a[0].clientY:i.clientY)-r.top;let c=Math.floor(l/r.height*(n[1]-n[0])*60);return c-=c%o,c+=n[0]*60,Rt($i(Ol(t).date,c))},superTitle(){const e=this.$slots["super-title"];return e?[D("div",{class:"of-calendar-gutter"}),D("div",{class:"of-calendar-day-supertitle"},e())]:""},renderCategoryTitle(e){const t=this.$props.type!="category",n=t?"day-title":"category-title",o=e.date,r=t?o:e.category,s=t?"click:day":"click:category",i=t?"week-day-"+e.date.getDay():!1;if(!this.hideDate(e.date))return D("div",{class:["of-calendar-category-title",i],tabindex:"0",onClick:a=>this.$emit(s,a,r),onKeypress:a=>{["Enter","Space"].includes(a.code)&&(a.preventDefault(),this.$emit(s,a,r))}},this.renderSlot(n,r,()=>e.category))},title(){if(!this.$props.categoryTitles||this.$props.type==="custom")return"";const e=this.$props.categoriesList?this.$props.categoriesList.map(this.renderCategoryTitle):"";return D("div",{class:"of-calendar-day-titles"},[D("div",{class:"of-calendar-gutter"}),e])},allDayLabel(){const e=this.$slots["all-day-label"];return e?.()},allDayRowEvent(e,t){return n=>{e.height=Math.max(n.top,e.height);const o=this.$props.eventColor?.(n.event)??n.event.color,r=this.$props.eventClass?.(n.event)??(n.event.class?{[n.event.class]:!0}:{}),s=this.$slots["allday-event-content"];return D("div",{class:{...r,"of-calendar-event":!0},style:{"background-color":o,width:"calc("+(n.daysSpan||1)*100+"% - 10px)",top:""+n.top*t+"px","max-width":this.$data.eventMaxWidth+"px"},tabindex:"0",onClick:i=>{this.$emit("click:event",i,{...n.event,color:o})},onKeypress:i=>{["Enter","Space"].includes(i.code)&&(i.preventDefault(),this.$emit("click:event",i,{...n.event,color:o}))},onMousedown:i=>{i.stopPropagation()},onMouseenter:i=>{this.$emit("enter:event",i,n.event)},onMouseleave:i=>{this.$emit("leave:event",i,n.event),i.stopPropagation()},onFocus:()=>{this.$emit("focus:day")},onBlur:()=>{this.$emit("blur:day")}},s?s({event:n.event}):D("strong",n.event.name))}},allDayRowCell(e,t){const n=this.$props.type!="category",o=parseInt(this.$props.eventHeight)||20,r=this.allDayEvents[t.category]||[],s=t.date.getDay(),i=D("div",{class:["of-calendar-day",{selected:this.selecting&&this.$data.selectionCategory==="allday-"+s,["week-day-"+s]:n}],...this.allDaySelectingHandlers(t.date)},r.map(this.allDayRowEvent(e,o)));return this.hideDate(t.date)||e.columns.push(i),e},allDayCount(){const e={},t={};return Object.entries(this.allDayEvents).forEach(([n,o])=>{const r=o.reduce((s,i)=>(s[i.event.category]=[...s[i.event.category]||[],i],s),{});Object.entries(r).forEach(([s,i])=>{const a=i;e[n]=[...e[n]||[],a.length+" "+s+this.$props.groupPostfix],t[n]=(t[n]??0)+a.length}),e[n]=e[n]?e[n].join(", "):""}),{titles:e,count:t}},allDayRow(){if(!this.hasAllDay||this.$props.type==="custom")return"";const e=parseInt(this.$props.eventHeight)||20,{height:t,columns:n}=this.$props.categoriesList?this.$props.categoriesList.reduce(this.allDayRowCell,{height:0,columns:[]}):{height:0,columns:[]},o=this.groupAllDay?e*2:t*e+e,r=c=>{this.$data.allDayPopups.closeTimerId[c]&&(clearTimeout(this.$data.allDayPopups.closeTimerId[c]),this.$data.allDayPopups.closeTimerId[c]=void 0)},s=c=>{this.$data.allDayPopups.closeTimerId[c]=window.setTimeout(()=>{this.$data.allDayPopups.active[c]=!1},50)},i=(c,u)=>{r(u);const d=c.target;this.$data.allDayPopups.active[u]=!0,this.$data.allDayPopups.width[u]=d.clientWidth},a=(c,u)=>{const d="all-day-"+u,{titles:f,count:p}=this.groupAllDay?this.allDayCount():{titles:"",count:0};return D("div",{...c.props,style:{"z-index":1}},[D("div",{id:d,class:{"of--elevated-1":p[u],"grouped-title":p[u]},style:{height:this.$data.allDayPopups.active[d]?"auto":o-7+"px","min-height":o-7+"px"},onMouseenter:h=>i(h,d),onMouseleave:()=>this.$data.allDayPopups.active[d]?s(d):null},f[u]),D(Jo,{active:this.$data.allDayPopups.active[d],capture:!1,shade:!1,target:"#"+d,onBlur:()=>s(d)},()=>D("div",{style:{width:this.$data.allDayPopups.width[d]+"px",height:p[u]*e+"px"},class:"of--elevated-1 of-calendar-grouped-popup",onMouseenter:()=>r(d),onMouseleave:()=>s(d)},c))])},l=this.$props.type=="week"?n.map((c,u)=>a(c,u)):a(n[0],"Today");return D("div",{class:"of-calendar-allday-row",style:{height:o+"px","min-height":o+"px"}},[D("div",{class:"of-calendar-gutter",style:this.groupAllDay?"height: inherit;":""},this.allDayLabel()),this.groupAllDay?l:n])},allDaySelectingHandlers(e){return{onMousedown:t=>{const n=t.buttons===1;this.selectable&&n&&(this.selecting="start",this.$data.selectionCategory="allday-"+e.getDay())},onMouseup:t=>{const n=(t.buttons&1)===0;this.selecting&&n&&(this.$emit("selection:allday",e),this.selecting=!1,this.$data.selectionCategory="")},onMouseleave:()=>{this.selecting=!1,this.$data.selectionCategory=""}}},intervalSelectionHandlers(e){const t=r=>{const s=this.getEventTimestamp(r,Rt(e.date)),[i,a]=this.getEventIntervalRange(s);this.$emit("mousedown:time",r,s),this.selectable&&(this.$data.selecting="end",this.$data.selectionStart=i,this.$data.selectionEnd=a,this.$data.selectionCategory=e.category,this.$emit("selection:change",this.selectionStart,this.selectionEnd,this.selectionCategory))},n=r=>{const s=this.getEventTimestamp(r,Rt(e.date));this.$emit("mouseup:time",r,s),this.selecting&&(this.$emit("selection:end",this.selectionStart,this.selectionEnd,this.selectionCategory),this.selecting=!1)},o=r=>{const s=this.getEventTimestamp(r,Rt(e.date));if(this.$emit("mousemove:time",r,s),this.selecting){const[i,a]=this.getEventIntervalRange(s);i<this.selectionStart?(this.selecting="start",this.selectionStart=i):a>this.selectionEnd?(this.selecting="end",this.selectionEnd=a):this.selecting=="start"?this.selectionStart=i:this.selecting=="end"&&(this.selectionEnd=a),this.$emit("selection:change",this.selectionStart,this.selectionEnd,this.selectionCategory)}};return{onMousemove:r=>o(r),onTouchmove:r=>{r.touches.length===2&&(r.cancelable&&r.preventDefault(),o(r))},onMousedown:r=>{r.buttons===1&&t(r)},onTouchstart:r=>{r.touches.length===2&&t(r)},onMouseup:r=>{(r.buttons&1)===0&&n(r)},onTouchend:r=>n(r)}},dayRowEventHandlers(e){return{onClick:t=>{this.$emit("click:event",t,e)},onMousedown:t=>{t.stopPropagation()},onMouseenter:t=>{this.selecting||this.$emit("enter:event",t,e)},onMouseleave:t=>{this.selecting||this.$emit("leave:event",t,e)},onKeypress:t=>{["Enter","Space"].includes(t.code)&&(t.preventDefault(),this.$emit("click:event",t,e))},onFocus:()=>{this.$emit("focus:day")},onBlur:()=>{this.$emit("blur:day")}}},dayRowEvent(e){return t=>{const n=t.event.end-t.event.start>this.overlapThresholdNumber,o=n?D("br"):" ",r=BS(this.formatMgr,t.event,e.date),s=this.$props.eventColor?.(t.event)??t.event.color,i=this.$props.eventClass?.(t.event)??(t.event.class?{[t.event.class]:!0}:{}),a={...t.event,color:s},l=5,c=this.$data.dayEl?.getBoundingClientRect().width??this.$data.eventMaxWidth,u=1/t.width*this.$data.eventMaxWidth<c,d=u?this.$data.eventMaxWidth*t.columnNum+l+"px":"calc("+t.left*100+"% + "+l+"px)",f=u?this.$data.eventMaxWidth-l*2+"px":"calc("+(t.width*100+"% - "+l*2)+"px)";return D("div",{class:{...i,"of-calendar-event":!0,conflict:t.conflict,"two-lines":n},style:{"max-width":this.$data.eventMaxWidth+"px","background-color":s,"z-index":t.zIndex,left:d,width:f,top:"calc("+t.top+"% + 1px)",height:"calc("+t.height+"% - 3px)","min-height":"calc("+t.height+"% - 3px)"},tabindex:"0",...this.dayRowEventHandlers(a)},this.renderSlot("event-content",{event:a,brk:n,formattedRange:r},()=>[D("strong",a.name),o,r]))}},dayRowInterval(e,t){return(n,o)=>{const r=Ol(Rt(e.date)),s=this.numHourIntervals,[i]=this.hoursInterval,a=60*t+60/s*o+i*60,l=Di(Rt($i(r.date,a)));return D("div",{class:{"of-calendar-subinterval":!0,selected:this.$data.selecting&&l>=this.$data.selectionStart&&l<this.$data.selectionEnd&&this.$data.selectionCategory==e.category}})}},dayRowCell(e){const t=this.$props.type!="category",n=this.numHourIntervals,o=this.intervals().map((i,a)=>{const l=Array.from({length:n},this.dayRowInterval(e,a));return D("div",{class:"of-calendar-interval"},l)}),r=(this.dayEvents[e.category]||[]).map(this.dayRowEvent(e)),s=t?"week-day-"+e.date.getDay():!1;if(!this.hideDate(e.date))return D("div",{class:["of-calendar-day",s],...this.intervalSelectionHandlers(e),ref:"dayEl"},[...o,...r])},dayRow(){if(this.$props.type==="custom"){const n=this.$slots.custom;return n?.()}const e=this.intervals().map(n=>D("div",{class:"of-calendar-interval"},D("div",{class:"of-calendar-interval-label"},n+":00"))),t=(this.$props.categoriesList||[]).map(this.dayRowCell);return D("div",{class:"of-calendar-day-row",onMouseleave:n=>{this.selecting&&(this.$emit("selection:cancel"),this.selecting=!1)}},[D("div",{class:"of-calendar-gutter"},e),t])},header(){const e=this.$slots.header;return e?.()},footer(){const e=this.$slots.footer;return e?.()}},render(){const e=parseInt(this.$props.eventHeight)||20,t=parseInt(this.$props.hourHeight)||48,n=this.$props.conflictColor||null,o=""+100/this.numHourIntervals+"%";return D("div",{class:"container of--calendar",style:{"--of-calendar-iterval-height":`${t}px`,"--of-event-height":`${e}px`,"--of-calendar-conflict-color":n,"--of-calendar-subinterval-height":o,"--of-categories-num":(this.$props.categoriesList?.length??0)+1},onselectstart(r){r.preventDefault()}},[this.header(),D("div",[this.superTitle(),this.title(),this.allDayRow(),this.dayRow()]),this.footer()])}}),zc=be({mixins:[Hc],props:{...Xt.internal,...Xt.common},computed:{formatMgr:()=>Gn()},methods:{getVisibleRange(){const e=this.$props.day,t=ln(e,1),n=Ol(Rt(e)),o=Ol(Rt(t));return[n,o]},dayTitleSlot(){return e=>{const t=this.$slots["day-title"];return t?t(e):this.renderDayNumber(e,!0)}},superTitleSlot(){},collectSlots(){return{"day-title":this.dayTitleSlot(),"super-title":this.superTitleSlot()}},getCategoriesList(){return[{category:"Today",date:this.$props.day}]},getIgnoreCategories(){return!0},getProps(){return{...this.$props,categoriesList:this.getCategoriesList(),ignoreCategories:this.getIgnoreCategories(),visibleRange:this.getVisibleRange()}}},render(){return D(HS,this.getProps(),{...this.$slots,...this.collectSlots()})}}),zS=be({mixins:[zc],props:{...Xt.common,...Xt.category},emits:["click:day"],methods:{superTitleSlot(){return e=>D("div",{tabindex:"0",onClick:t=>{this.$emit("click:day",t,this.$props.day)},onKeypress:t=>{["Enter","Space"].includes(t.code)&&(t.preventDefault(),this.$emit("click:day",t,this.$props.day))}},this.renderDayNumber(this.$props.day,!0))},categoryTitleSlot(){return e=>{const t=this.$slots["category-title"];return t?t(e):D("strong",{},e.categoryName)}},getIgnoreCategories(){return!1},getCategoriesList(){return this.$props.categories.map(e=>({category:e,date:this.$props.day}))}}});let FS=class{locale;localeParams;constructor(){this.locale=navigator.language}};const Ff=new Zs("ofloc",FS);function jS(e){Ff.extendingManager.locale=e}function US(e){Ff.extendingManager.localeParams=e}function us(e){const t=Ff.inject(e);return Ys(t)}const KS=be({mixins:[Hc],props:{...Xt.internal,...Xt.common,...Xt.year},emits:["click:event","enter:event","leave:event","click:day","click:more","click:week","focus:day","blur:day"],data(){return{maxEventLength:0}},computed:{eventsLimitNumber(){const e=parseInt(this.$props.eventsLimit)||5;return e<2?2:e},eventHeightNumber(){return parseInt(this.$props.eventHeight)||20},gridElementHeight(){return this.maxEventLength*20+"px"},parsedEvents(){const e=this.$props.events||[],t=Gn();return e.map(n=>zf(n,t)).filter(n=>n!==void 0)},weekStartLocale(){const e=us(),t=this.weekStart===void 0?e.localeParams?.weekStart??1:this.weekStart;return Sa(t)}},watch:{day(){this.maxEventLength=0}},methods:{month(){return["January","February","March","April","May","June","July","August","September","October","November","December"].map((e,t)=>({name:e,days:new Date(new Date(this.day).getFullYear(),t+1,0).getDate()}))},dayEvents(e){return Bc(this.parsedEvents,zo(Rt(e)),"ignore").map(t=>Dl(t,{category:"",date:e}))},hideDate(e){return this.$props.hideWeekends&&[6,0].includes(e.getDay())},header(){const e=this.$slots.header;return e?.()},footer(){const e=this.$slots.footer;return e?.()},renderMoreLink(e,t,n){if(e<1)return null;const o=this.$slots.more;return D("div",{class:"of-calendar-more",tabindex:"0",onClick:r=>{this.$emit("click:more",r,t)},onKeypress:r=>{["Enter","Space"].includes(r.code)&&(r.preventDefault(),this.$emit("click:day",r,t))},style:{top:""+n+"px"}},o?o(e):`${e} more`)},renderRowDayEvent(e,t){const n=this.eventHeightNumber*t,o=this.$props.eventColor?.(e)??e.color,r=this.$props.eventClass?.(e)??(e.class?{[e.class]:!0}:{});return D("div",{class:{...r,"of-calendar-event":!0},style:{"background-color":o,top:`${n}px`},tabindex:"0",onClick:s=>{this.$emit("click:event",s,{...e,color:o}),s.stopPropagation()},onMouseenter:s=>{this.$emit("enter:event",s,e)},onMouseleave:s=>{this.$emit("leave:event",s,e)},onKeypress:s=>{["Enter","Space"].includes(s.code)&&(s.preventDefault(),this.$emit("click:event",s,{...e,color:o}),s.stopPropagation())},onFocus:()=>{this.$emit("focus:day")},onBlur:()=>{this.$emit("blur:day")}},this.renderSlot("allday-event-content",{event:e},()=>D("strong",e.name)))},renderDayEvents(e){const t=this.dayEvents(e.date);let n=this.eventsLimitNumber,o=0;t.length>n&&(n-=1,o=t.length-n),t.length<=n&&this.maxEventLength<t.length?this.maxEventLength=t.length:t.length>n&&(this.maxEventLength=n+1);const r=t.slice(0,n),s=r.length+(o?1:0),i=this.$props.fixedRowHeight?{}:{"--of-month-day-heigth":""+s*this.eventHeightNumber+"px"};if(!this.hideDate(e.date))return D("div",{class:"of-calendar-month-day",style:i},[D("div",{class:"events"},[r.map(this.renderRowDayEvent),this.renderMoreLink(o,e.date,r.length*this.eventHeightNumber)])])},getDate(e,t){const n=new Date(this.day).getFullYear();return new Date(`${n}-${e+1<10?"0"+(e+1):e+1}-${t<10?"0"+t:t}`)},renderRow(e,t){const n=new Date(this.day).getFullYear(),o=new Date(`${n}-${e+1<10?"0"+(e+1):e+1}-${t<10?"0"+t:t}`);return this.renderDayEvents({date:o,today:!0})},renderGrid(){const e=this.month();return D("div",{class:"of-calendar-year-grid",style:{"--of-month-day-height":this.gridElementHeight}},[e.map((t,n)=>D("div",{class:"of-calendar-month-titles"},[D("div",{class:"month-name"},t.name),Array.from({length:t.days},(o,r)=>[D("div",{class:["day-of-month",{today:Xi(this.getDate(n,r+1),new Date)}],onClick:s=>{this.$emit("click:day",s,this.getDate(n,r))},onKeypress:s=>{["Enter","Space"].includes(s.code)&&(s.preventDefault(),this.$emit("click:day",s,this.getDate(n,r+1)))}},++r),D("div",this.renderRow(n,r))])]))])}},render(){return D("div",{class:"container of--calendar",style:{"--of-event-height":`${this.eventHeightNumber}px`},onSelectStart(e){e.preventDefault()}},[this.header(),this.renderGrid(),this.footer()])}}),WS=be({mixins:[Hc],props:{...Xt.internal,...Xt.common,...Xt.month},emits:["click:event","enter:event","leave:event","click:day","click:more","click:week","focus:day","blur:day"],computed:{eventsLimitNumber(){const e=parseInt(this.$props.eventsLimit)||5;return e<2?2:e},eventHeightNumber(){return parseInt(this.$props.eventHeight)||20},monthGrid(){return B1(this.day,this.weekStartLocale)},parsedEvents(){const e=this.$props.events||[],t=Gn();return e.map(n=>zf(n,t)).filter(n=>n!==void 0)},weekStartLocale(){const e=us(),t=this.weekStart===void 0?e.localeParams?.weekStart??1:this.weekStart;return Sa(t)}},methods:{dayEvents(e){return Bc(this.parsedEvents,zo(Rt(e)),"ignore").map(t=>Dl(t,{category:"",date:e}))},hideDate(e){return this.$props.hideWeekends&&[6,0].includes(e.getDay())},header(){const e=this.$slots.header;return e?.()},footer(){const e=this.$slots.footer;return e?.()},renderDayNumberOrSlot(e){const t=this.$slots["day-title"],n=t?t(e):this.renderDayNumber(e,!1);return D("div",{class:"day-title",tabindex:t?"0":void 0},n)},renderMoreLink(e,t,n){if(e<1)return null;const o=this.$slots.more;return D("div",{class:"of-calendar-more",tabindex:"0",onClick:r=>{this.$emit("click:more",r,t)},onKeypress:r=>{["Enter","Space"].includes(r.code)&&(r.preventDefault(),this.$emit("click:day",r,t))},style:{top:""+n+"px"}},o?o(e):`${e} more`)},renderRowDayEvent(e,t){const n=this.eventHeightNumber*t,o=this.$props.eventColor?.(e)??e.color,r=this.$props.eventClass?.(e)??(e.class?{[e.class]:!0}:{});return D("div",{class:{...r,"of-calendar-event":!0},style:{"background-color":o,top:`${n}px`},tabindex:"0",onClick:s=>{this.$emit("click:event",s,{...e,color:o}),s.stopPropagation()},onMouseenter:s=>{this.$emit("enter:event",s,e)},onMouseleave:s=>{this.$emit("leave:event",s,e)},onKeypress:s=>{["Enter","Space"].includes(s.code)&&(s.preventDefault(),this.$emit("click:event",s,{...e,color:o}),s.stopPropagation())},onFocus:()=>{this.$emit("focus:day")},onBlur:()=>{this.$emit("blur:day")}},this.renderSlot("allday-event-content",{event:e},()=>D("strong",e.name)))},renderRowDay(e){const t=this.dayEvents(e.date);let n=this.eventsLimitNumber,o=0;t.length>n&&(n-=1,o=t.length-n);const r=t.slice(0,n),s=r.length+(o?1:0),i=this.$props.fixedRowHeight?{}:{"--of-month-day-heigth":""+s*this.eventHeightNumber+"px"};if(this.$props.fixedRowHeight,!this.hideDate(e.date))return D("div",{class:["of-calendar-month-day","week-day-"+e.date.getDay()],style:i,onClick:a=>{this.$emit("click:day",a,e.date)},onKeypress:a=>{["Enter","Space"].includes(a.code)&&(a.preventDefault(),this.$emit("click:day",a,e.date))}},e.otherMonth&&this.hideOtherMonths?[]:[this.renderDayNumberOrSlot(e.date),D("div",{class:"events"},[r.map(this.renderRowDayEvent),this.renderMoreLink(o,e.date,r.length*this.eventHeightNumber)])])},renderRow(e,t){const n=ln(Bh(this.day),t*7),o=wS(n),r=this.$slots["week-number"];return D("div",{class:"of-calendar-month-row"},[D("div",{class:"of-calendar-gutter of-week-number",tabindex:"0",onClick:s=>{this.$emit("click:week",s,o,n)},onKeypress:s=>{["Enter","Space"].includes(s.code)&&(s.preventDefault(),this.$emit("click:week",s,o,n))}},r?r(o):o),e.map(this.renderRowDay)])},renderGrid(){const e=Bh(this.day),t=e.getDay()||7,n=ln(e,this.weekStartLocale-(t>=this.weekStartLocale?t:t+7)),o=this.fixedRowHeight?{"--of-month-day-heigth":""+this.eventHeightNumber*this.eventsLimitNumber+"px"}:{};return D("div",{class:"of-calendar-month-grid",style:o},[D("div",{class:"of-calendar-day-titles"},[D("div",{class:"of-calendar-gutter"}),Array.from({length:7},(r,s)=>{const i=ln(n,s);if(!this.hideDate(i))return D("div",{class:["of-calendar-category-title","week-day-"+i.getDay()]},D("div",{class:"of-calendar-day-title"},this.renderWeekDay(i)))})]),this.monthGrid.grid.map(this.renderRow)])}},render(){return D("div",{class:"container of--calendar",style:{"--of-event-height":`${this.eventHeightNumber}px`,"--of-categories-num":8},onSelectStart(e){e.preventDefault()}},[this.header(),this.renderGrid(),this.footer()])}}),qS=be({mixins:[zc],props:{...Xt.common,...Xt.ndays},methods:{getVisibleRange(){let e=parseInt(this.$props.numDays);e<2&&(e=2),e>6&&(e=6),isNaN(e)&&(e=2);const t=this.$props.day,n=ln(t,e),o={...Rt(t),hours:0,minutes:0},r={...Rt(n),hours:0,minutes:0};return[o,r]},getCategoriesList(){let e=parseInt(this.$props.numDays);return e<2&&(e=2),e>6&&(e=6),isNaN(e)&&(e=2),Array.from({length:e},(t,n)=>({category:""+n,date:ln(this.$props.day,n)}))}}}),GS=be({mixins:[zc],props:{...Xt.common,...Xt.week},computed:{weekStartLocale(){const e=us(),t=this.weekStart===void 0?e.localeParams?.weekStart??1:this.weekStart;return Sa(t)}},methods:{getVisibleRange(){const e=this.$props.day.getDay()||7,t=ln(this.$props.day,1-e),n=ln(t,7),o={...Rt(t),hours:0,minutes:0},r={...Rt(n),hours:0,minutes:0};return[o,r]},getCategoriesList(){const e=this.$props.day.getDay()??7,t=this.weekStartLocale-(e>=this.weekStartLocale?e:e+7);return Array.from({length:7},(n,o)=>({category:""+o,date:ln(this.$props.day,o+t)}))}}}),JS=be({name:"OfCalendar",props:Xt.common,render(){switch(this.$props.type){case"week":return D(GS,this.$props,this.$slots);case"category":return D(zS,this.$props,this.$slots);case"ndays":return D(qS,this.$props,this.$slots);case"month":return D(WS,this.$props,this.$slots);case"year":return D(KS,this.$props,this.$slots);default:return D(zc,this.$props,this.$slots)}}});let YS=0;const wo=()=>"of-field-"+YS++,ko={align:String,density:{type:[String,Number],default:void 0},relativeDensity:{type:[String,Number],default:void 0},disabled:Boolean,fixed:Boolean,format:[String,Object],id:String,initialValue:{type:[String,Boolean,Number,Array,Object],default:void 0},inDataTable:{type:Boolean,default:!1},inline:Boolean,inputLabel:String,invalid:Boolean,items:[String,Array,Object],label:String,ariaLabel:String,tooltip:String,autocomplete:String,autocapitalize:String,autocorrect:String,spellcheck:String,labelPosition:String,loading:Boolean,locked:Boolean,maxlength:[Number,String],mode:String,modelValue:{type:[String,Boolean,Number,Array,Object],default:void 0},muted:Boolean,name:String,placeholder:String,readonly:Boolean,record:{type:Object,required:!1},required:Boolean,rounded:Boolean,scale:{type:[Number,String],default:void 0},block:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},type:String,variant:String,tint:String,context:String,active:Boolean,blank:Boolean,class:[String,Array,Object],cursor:String,dragIn:Object,focused:Boolean,tabindex:String,hovered:Boolean,inputId:String,inputValue:null,pendingValue:null,popup:Object,updated:Boolean,value:null,formatOptions:null,defaultValue:null,sticky:{type:Boolean,default:!0},switch:{type:Boolean,default:!1},outside:{type:Boolean,default:!0},checked:{type:Boolean,default:!1}};function ei(e,t){const n=Js(),o=k=>{const S=parseInt(k,10);if(!isNaN(S))return S},r=A(()=>{let k=e.density,S=e.relativeDensity;return k==="default"?k=void 0:typeof k=="string"&&(k=o(k)),typeof k!="number"&&(k=n.defaultDensity),typeof k!="number"&&(k=1),typeof S=="string"&&(S=o(S)),typeof S!="number"&&(S=0),k+=S,Math.max(0,Math.min(3,k||0))}),s=Xs(),i=A(()=>e.record||s.getCurrentRecord()||void 0),a=A(()=>e.scale||void 0),l=A(()=>e.width||void 0),c=A(()=>e.block),u=A(()=>e.name?i.value?.metadata?.[e.name]:null),d=A(()=>e.mode||u.value?.mode||(e.fixed||u.value?.fixed?"fixed":e.disabled||u.value?.disabled?"disabled":e.readonly||u.value?.readonly?"readonly":e.locked||i.value?.locked?"locked":"editable")),f=A(()=>d.value==="editable"),p=A(()=>d.value!=="fixed"),h=A(()=>{const k=e.format;return e.type||u.value?.type||(k&&typeof k=="string"?k:typeof k=="object"?k.fieldType||k.type:void 0)}),m=A(()=>e.name&&i.value?(i.value.initialValue||{})[e.name]:e.initialValue),v=A(()=>{let k=e.labelPosition;return(!k||k==="default")&&(k=n.defaultLabelPosition),(!k||k==="default")&&(k=e.variant==="filled"?"frame":"top"),k}),y=A(()=>e.inputLabel??(v.value==="input"?e.label:void 0)),w=A(()=>e.name&&i.value?i.value.value[e.name]:e.modelValue);return Tf({container:"of-field",density:r,editable:f,fieldType:h,initialValue:m,scale:a,width:l,block:c,inputLabel:y,interactive:p,labelPosition:v,mode:d,record:i,value:w,onInput:(k,S)=>{t.emit("input",k,S)},onKeydown:k=>{t.emit("keydown:enter",k)},onKeyup:k=>{t.emit("keyup:enter",k)},onUpdate:k=>{e.name&&i.value?i.value.value[e.name]=k:t.emit("update:modelValue",k)},...gC(e,["id","inline","items","label","ariaLabel","autocomplete","autocapitalize","autocorrect","spellcheck","loading","muted","name","required","rounded"])})}function Yo(e){return Ps(e)}const ZS=Symbol("[oceanfront-field-context"),H1=Symbol("[oceanfront-field-render");function xa(e,t){const n=ei(e,t);return Ho(ZS,n),n}const Zo=e=>{Ho(H1,e)},XS=()=>An(H1),z1="offocusgrp";function QS(e){Ho(z1,e)}function ex(){return An(z1,null)||null}const ai=(e,t,n)=>{if(t){let o=t();o&&(n&&(o=D("div",{class:n},o)),e.push(o))}},tx=(e,t)=>{t.listen.disconnect(),t.watch?.();const n=e.el;if(!n||!document.body.contains(n))return;const o=n.querySelector(".of-field-prepend"),r=n.querySelector(".of-field-append");o&&t.listen.observe(o),r&&t.listen.observe(r),t.watch=Ae(t.listen.positions,s=>{let i=0,a=0;for(const[l,c]of s)l===o?i=Math.ceil(c.width):l===r&&(a=Math.ceil(c.width));n.style.setProperty("--field-size-prepend",i+"px"),n.style.setProperty("--field-size-append",a+"px")})},nx=(e,t)=>({handlers:{onDragover:function(n){n.stopPropagation(),n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=e.dropEffect==="none"||e.dropEffect==="link"||e.dropEffect==="move"?e.dropEffect:"copy"),t.value=!0,e.onEnter&&e.onEnter(n)},onDragleave:function(n){t.value=!1,e.onLeave&&e.onLeave(n)},onDrop:function(n){t.value=!1,n.stopPropagation(),n.preventDefault(),e.onDrop(n)}}}),Fh=e=>{if(e&&!isNaN(e))return{length:e,unit:"ch"};const t=(""+e).match(/(\d+)(%)/);if(t)return{length:parseInt(t[1],10),unit:t[2]};const n=(""+e).match(/^(\d*\.?\d+)(\w+)$/);return n?{length:parseInt(n[1],10),unit:n[2]}:null},Xo=be({name:"OfFieldBase",inheritAttrs:!1,props:ko,emits:["update:modelValue","input","click","focused","keydown"],setup(e,t){const n=XS(),o=xa(e,t),r=A(()=>o.mode),s=A(()=>o.interactive),i=A(()=>o.labelPosition),a=A(()=>o.density),l=ex(),c=Xs(),u=Js(),d=K("of-icon"),f=K("of-tooltip"),p=A(()=>e.record||c.getCurrentRecord()||void 0),h=A(()=>e.name?p.value?.metadata?.[e.name]:null),m=C(!1),v=C(!1),y=A(()=>{let N=e.variant;return(!N||N=="default")&&(N=u.defaultInputVariant),N||"outlined"}),w=A(()=>e.tint),k=A(()=>e.required),S={listen:Pc()},M=N=>tx(N,S),L={onBlur(N){v.value=!1,l&&l.blur()},onClick(N){N.stopPropagation(),n.click?.(N),t.emit("click")},onFocus(N){v.value=!0,l&&l.focus()},onMousedown(N){},onKeydown(N){n.keydown?.(N),t.emit("keydown",N)},onVnodeMounted:M,onVnodeUpdated:M,onVnodeUnmounted:M};return n.onMouseleave&&(L.onmouseleave=n.onMouseleave),n.onMouseenter&&(L.onmouseenter=n.onMouseenter),Ae(()=>n.focused,N=>{N&&t.emit("focused")}),()=>{try{const N=(n.inputId??e.id)+"-outer",V=(n.inputId??e.id)+"-main";let _,G,te,Y,q;const $=n.dragIn&&nx(n.dragIn,m);n.popup&&(_=n.popup.content,G=n.popup.visible??!0,te=n.popup.onBlur,Y=n.popup.capture,q=n.popup.focus);const F=v.value||m.value||G||n.focused,E=n.blank&&!(F||G||r.value==="fixed"),T=e.name?h.value?.label:void 0;let J=n.label??e.label??T;const le=k.value&&r.value!=="fixed"?D(d,{name:"required",class:"of--icon-required"}):null;let ye=!1;i.value=="none"&&k.value&&(ye=!0,J=" ");const Me=D(f,{text:e.tooltip}),me=t.slots.label?t.slots.label():(i.value!=="none"||k.value)&&i.value!=="input"&&J?D("label",{class:"of-field-label"},[J,le]):void 0,X=["of-field ",{...$l(o.scale),"of--tinted":!!w.value,["of--tint-"+w.value]:!!w.value,"of--active":n.active||!E,"of--blank":E,"of--dragover":m.value,"of--focused":F,"of--inline":!o.block||e.inline,"of--invalid":e.invalid||n.invalid,"of--interactive":s.value,"of--muted":e.muted,"of--required":k.value,"of--loading":n.loading,"of--rounded":e.rounded,"of--undecorated":!!n.undecorated,"of--updated":n.updated,"of--tooltip":!!e.tooltip,"of--label-empty":!t.slots.label&&(e.label??"")===""},"of--cursor-"+(n.cursor||"default"),"of--density-"+a.value,"of--label-"+(ye?"right":i.value),"of--mode-"+r.value,"of--variant-"+y.value,"of--tint-"+w.value,n.class,e.class],ae={},Ee=n.scale||e.scale,B=Fh(Ee);if(B&&(ae["--field-font-size"]=""+B.length+(B.unit||"ch")),!o.block&&o.width){const z=Fh(o.width);ae["--field-size"]=""+z?.length+(z?.unit||"ch")}const H=t.slots.default||(s.value?t.slots.interactiveContent:t.slots.fixedContent?()=>D("div",{class:"of-field-content-text"},t.slots.fixedContent?.()):t.slots.interactiveContent),ee=[];ai(ee,t.slots.inputPrepend,"of-field-inner-prepend"),ai(ee,H);const Q=[];ai(Q,t.slots.prepend,"of-field-prepend"),ai(Q,()=>ee,"of-field-inner"),ai(Q,t.slots.append,"of-field-append"),_&&(_=D(Jo,{active:G,capture:Y??!0,shade:!1,target:V?"#"+V:"",onBlur:te,sticky:e.sticky,focus:q},_));const de=A(()=>e.tooltip??!1?Me:void 0),Ve=D("label",{class:"of-field-label"}),x=A(()=>me||k.value?["frame","input"].includes(i.value??"")?Ve:me:de.value?Ve:void 0),R=[A(()=>x.value&&(!["frame","input"].includes(i.value??"")||e.type!=="toggle"&&e.type!=="radio")).value?D("div",{class:"of-field-main-label"},[x.value,de.value]):e.type==="toggle"||e.type==="radio"?void 0:de.value,D("div",{class:"of-field-main",id:V},[D("div",{class:"of--layer of--layer-bg"}),D("div",{class:"of--layer of--layer-brd"}),D("div",{class:"of--layer of--layer-outl"}),D("div",{class:"of-field-header"},(me||de.value)&&i.value==="frame"?D("div",{class:"of-field-header-label"},D("div",{class:"of-field-frame-label"},[me,e.type==="toggle"||e.type==="radio"?de.value:void 0])):void 0),D("div",{class:"of-field-body"},Q)]),D("div",{class:"of-field-caption"}),_];return D("div",{class:X,id:N,style:ae,tabindex:e.tabindex??void 0,...L,...$?.handlers},R)}catch(N){return console.error(N),""}}}}),Od=(e,t)=>{let n=!1;const o=function(s){t.drag?.(s)},r=s=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r),document.onselectstart=null,document.ondragstart=null,n=!1,t.end?.(s)};e.addEventListener("mousedown",s=>{n||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",o),document.addEventListener("mouseup",r),n=!0,t.start?.(s))})},ox=be({name:"ColorHue",props:{hue:{type:Number,default:0,validator:e=>e>=0&&e<=360}},emits:["update:hue","change","select"],setup(e,{emit:t}){const n=C(null),o=C(null),r=C(0),s=C(0),i=C(e.hue),a=()=>{if(n.value&&o.value){const f=n.value?.getBoundingClientRect();return f?i.value===360?f.width-o.value.offsetWidth/2:i.value%360*(f.width-o.value.offsetWidth)/360+o.value.offsetWidth/2:0}return 0},l=()=>{t("update:hue",i.value),t("change",i.value)},c=()=>{r.value=a(),s.value=0},u=f=>{if(n.value&&o.value){const p=n.value?.getBoundingClientRect();if(!p)return;let h=f.clientX-p.left;h=Math.min(h,p.width-o.value.offsetWidth/2),h=Math.max(o.value.offsetWidth/2,h),i.value=Math.round((h-o.value.offsetWidth/2)/(p.width-o.value.offsetWidth)*360),l()}};Ae(()=>e.hue,f=>{i.value=f}),Ae(()=>i.value,()=>{c()}),Go(()=>{ut(()=>{const f={drag:p=>{u(p)},end:p=>{u(p)}};n.value&&o.value&&(Od(n.value,f),Od(o.value,f)),c()})});const d={onKeydown(f){const p=f.ctrlKey||f.metaKey?20:1;switch(f.code){case"ArrowRight":i.value=Math.min(i.value+p,360);break;case"ArrowLeft":i.value=Math.max(i.value-p,0);break;case"Enter":case"Escape":t("select");break}f.code!=="Tab"&&(f.stopPropagation(),f.preventDefault()),c(),l()}};return()=>D("div",{class:"hue transparent",...d},D("div",{class:"hue__inner",ref:n},D("div",{class:"hue__inner-pointer",ref:o,style:{left:r.value+"px",top:s.value+"px"}},D("div",{class:"hue__inner-handle"}))))}}),Tu=(e,t,n)=>t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e,rx=be({name:"ColorSaturation",props:{hue:{type:Number,default:0,validator:e=>e>=0&&e<=360},saturation:{type:Number,default:0,validator:e=>e>=0&&e<=1},value:{type:Number,default:0,validator:e=>e>=0&&e<=1},focus:{type:Boolean,default:!0}},emits:["update:saturation","update:value","change","select"],setup(e,{emit:t}){const n=Gs(),o=C(),r=C(0),s=C(0),i=C("hsl("+e.hue+", 100%, 50%)"),a=pt({h:e.hue,s:e.saturation,v:e.value}),l=(f,p)=>{t("update:saturation",f),t("update:value",p),t("change",f,p)},c=f=>{if(n){const p=n.vnode.el?.getBoundingClientRect();if(!p)return;let h=f.clientX-p.left,m=f.clientY-p.top;h=Tu(h,0,p.width),m=Tu(m,0,p.height);const v=Math.round(h/p.width*100)/100,y=Math.round(Tu(-(m/p.height)+1,0,1)*100)/100;s.value=h,r.value=m,a.s=v,a.v=y,l(v,y)}},u=()=>{if(n){const f=n.vnode.el;s.value=a.s*f?.clientWidth,r.value=(1-a.v)*f?.clientHeight}};Go(()=>{ut(()=>{n&&n.vnode.el&&(Od(n.vnode.el,{drag:f=>{c(f)},end:f=>{c(f)}}),u())})}),Ae(()=>e.focus,f=>{ut(()=>{f&&o.value?.focus()})}),Ae(()=>e.hue,f=>{a.h=f,i.value="hsl("+Math.round(a.h)+", 100%, 50%)"}),Ae(()=>e.value,f=>{a.v=f,u()}),Ae(()=>e.saturation,f=>{a.s=f,u()});const d={onKeydown(f){const p=f.ctrlKey||f.metaKey?.1:.005;switch(f.code){case"ArrowRight":a.s=Math.min(a.s+p,1);break;case"ArrowLeft":a.s=Math.max(a.s-p,0);break;case"ArrowUp":a.v=Math.min(a.v+p,1);break;case"ArrowDown":a.v=Math.max(a.v-p,0);break;case"Enter":case"Escape":t("select");break}f.code!=="Tab"&&(f.stopPropagation(),f.preventDefault()),u(),l(a.s,a.v)}};return()=>D("div",{ref:o,class:"saturation",style:{backgroundColor:i.value},...d},[D("div",{class:"saturation__white"}),D("div",{class:"saturation__black"}),D("div",{class:"saturation__cursor",style:{top:r.value+"px",left:s.value+"px",onClick:c}},D("div"))])}}),Dd=function(e){if(!e)throw new TypeError("Invalid color value");if(e=e.toLowerCase().replace(/\s/g,""),e==="transparent")return{r:0,g:0,b:0,a:0};const t=e.match(/^#([0-9a-f]{3,8})$/);if(t){let o=t[1];o.length<=4?o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]+(o[3]!==void 0?o[3]+o[3]:"ff"):o.length===5?o+=o[4]+"ff":o.length===6?o+="ff":o.length===7&&(o+=o[6]);const r=parseInt(o,16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:(r&255)/255}}const n=e.match(/^rgba?\((\d+),(\d+),(\d+)(?:,(\d+\.?\d*|\.\d+))\)$/);return n?{r:parseInt(n[1]||"255",10),g:parseInt(n[2]||"255",10),b:parseInt(n[3]||"255",10),a:n[4]!==void 0?parseFloat(n[4]):1}:null},Ha=e=>{const t=e.toString(16);return t.length==1?"0"+t:t},Ri=function(e){const t=e.a;return"#"+Ha(e.r)+Ha(e.g)+Ha(e.b)+(t!==void 0&&t!==1?Ha(Math.round(t*255)):"")};let li;const Rd=function(e){if(!e)return null;const t=Dd(e);if(t)return t;e=e.toLowerCase().replace(/\s/,""),li?li.fillStyle="#000":li=document.createElement("canvas").getContext("2d"),li.fillStyle=e;const n=li.fillStyle;if(n==="#000000"&&e!=="black")throw new TypeError("Invalid color value");return Dd(n)},jh=function(e){const t=Math.max(0,Math.min(255,e.r)),n=Math.max(0,Math.min(255,e.g)),o=Math.max(0,Math.min(255,e.b)),r=Math.max(t,n,o),s=Math.min(t,n,o),i=r-s,a={h:0,s:r===0?0:i/r,v:r/255,a:e.a};if(i!==0){let l;r===t?l=(n-o)/i+(n<o?6:0):r===n?l=(o-t)/i+2:l=(t-n)/i+4,a.h=Math.round(l*60)}return a},Eu=function(e){const t=Math.max(0,Math.min(360,e.h))/60,n=Math.max(0,Math.min(1,e.s)),o=Math.max(0,Math.min(1,e.v));let r;if(n===0)r={r:o,g:o,b:o,a:e.a};else{const s=Math.floor(t),i=t-s,a=o*(1-n),l=o*(1-n*i),c=o*(1-n*(1-i));s===0?r={r:o,g:c,b:a}:s===1?r={r:l,g:o,b:a}:s===2?r={r:a,g:o,b:c}:s===3?r={r:a,g:l,b:o}:s===4?r={r:c,g:a,b:o}:r={r:o,g:a,b:l}}return r.r=Math.round(r.r*255),r.g=Math.round(r.g*255),r.b=Math.round(r.b*255),r.a=e.a,r},sx=function(e){const t={r:0,g:0,b:0,a:e.a},n=s=>(s+e.h/30)%12,o=e.s*Math.min(e.l,1-e.l),r=s=>e.l-o*Math.max(-1,Math.min(n(s)-3,Math.min(9-n(s),1)));return t.r=255*r(0),t.g=255*r(8),t.b=255*r(4),t.a=e.a,t},Uh=function(e){const t=e.v,n=t-t*e.s/2,o=Math.min(n,1-n);return{h:e.h,s:o?(t-n)/o:0,l:n,a:e.a}},F1=be({name:"OfColorField",class:"of-color-field",props:ko,setup(e,t){const n=ei(e,t),o=C(!1),r=C(!1),s=C();let i;const a=A(()=>{let $=n.id;return $||(i||(i=wo()),$=i),$}),l=()=>{s.value?.focus()},c=$=>{o.value=!1,$&&l()},u=()=>{n.editable&&(o.value=!0)},d=()=>{o.value=!o.value},f=A(()=>{let $=n.initialValue;return $===void 0&&($=e.defaultValue),$??null}),p=["hex","hsl","rgb"],h=A(()=>{let $=e.context;return(!$||!p.includes($))&&($="hex"),$}),m=C(h.value),v=C(),y=A(()=>{const $=v.value||{h:0,s:0,v:0},F=Eu($),E=Uh($);return{hsv:$,rgb:"rgb("+F.r+", "+F.g+", "+F.b+")",hsl:"hsl("+E.h+", "+Math.round(E.s*100)+"%, "+Math.round(E.l*100)+"%)",hex:Ri(F)}}),w=A(()=>v.value||{h:0,s:0,v:0}),k=A(()=>Eu(w.value)),S=A(()=>Uh(w.value)),M=A(()=>Ri(Eu(w.value)));Ae(()=>n.value,$=>{try{const F=$?Rd($):null;F&&(!v.value||y.value.hex!=Ri(F))&&(v.value=jh(F))}catch{}},{immediate:!0}),Ae(()=>e.context,$=>{$&&(m.value=$)},{immediate:!0});const L=$=>{v.value=$,N(y.value.hex)},N=$=>{v.value&&n.onUpdate&&n.onUpdate($)},V=$=>{p.forEach((F,E)=>{F==$&&(m.value=p[E+1]?p[E+1]:"hex")})},_=()=>{const $=y.value.hsv,F=()=>{const T=ae=>{const Ee={...k.value,...S.value},B=[];return ae.forEach(H=>{const ee=parseFloat(Ee[H])<1?Math.round(Ee[H]*100):Ee[H],Q=D(K("OfField"),{label:H,type:"number",maxlength:3,modelValue:ee,"onUpdate:modelValue":Ve=>{te(Ve,H)},onKeydown(Ve){Ve.key=="ArrowUp"&&te(null,H),Ve.key=="ArrowDown"&&te(null,H,"down"),Ve.key=="Enter"&&c()}}),de=D("div",{class:"color-picker-icon"},J(H));B.push(Q),B.push(de)}),B},J=ae=>{const Ee=D(K("OfIcon"),{name:"select up",onClick:()=>{te(null,ae)}}),B=D(K("OfIcon"),{name:"select down",onClick:()=>{te(null,ae,"down")}});return[Ee,B]},le=D(K("OfField"),{label:"hex",class:"color-picker-input",type:"text",maxlength:7,modelValue:M.value,"onUpdate:modelValue":te}),ye=["h","s","l"],Me=["r","g","b"],me=D("div",{class:"color-picker-input"},T(ye)),X=D("div",{class:"color-picker-input"},T(Me));return[{hex:le,hsl:me,rgb:X}[m.value]]},E=D(K("OfButton"),{variant:"text",class:"next-mode",icon:"page next",onClick:()=>{V(m.value)}});return D("div",{class:"of-menu of-colorpicker-popup of--elevated-1"},D("div",{class:"color-picker"},[D(rx,{tabindex:0,saturation:$.s,hue:$.h,value:$.v,onChange:(T,J)=>L({...$,s:T,v:J}),onSelect:c}),D(ox,{tabindex:0,hue:$.h,onChange:T=>L({...$,h:T}),onSelect:c}),D("div",{class:"switcher"},[F(),E])]))},G={onBlur($){r.value=!1},onFocus($){r.value=!0},onKeydown($){let F=!1;[" ","Enter","ArrowUp","ArrowDown"].includes($.key)?(F=!0,d()):$.key=="Tab"&&o.value&&(F=!0),F&&($.preventDefault(),$.stopPropagation())}},te=($,F,E="up")=>{const T={...S.value};let J={...k.value};switch(m.value){case"hex":J=Dd($);break;case"hsl":let le;F=="h"?le=1:le=.01,$?T[F]=$*le:E=="up"?T[F]=T[F]+le:T[F]=T[F]-le,J=sx(T);break;default:$?J[F]=$:E=="up"?J[F]++:J[F]--;break}J&&L(jh(J))},Y={interactiveContent:()=>D("div",{class:["of-field-content-text","of--align-"+(e.align||"start")],id:a.value,tabindex:0,ref:s,...G},[y.value.hex]),prepend:()=>D("div",{class:"of-color-swatch",style:{backgroundColor:y.value.hex}},D("div",{class:"of-color-swatch-border"}))},q=Yo({class:"of-color-field",focused:r,click:u,cursor:A(()=>n.editable?"pointer":"default"),inputId:a,popup:{content:()=>o.value?_():void 0,visible:o,onBlur:c},updated:A(()=>f.value!==v.value),value:v});return Zo(q),()=>D(Xo,e,{...Y,...t.slots})}}),ix=be({name:"OfConfig",inheritAttrs:!1,props:{icons:Object,locale:String,localeParams:Object,record:Object,theme:[String,Object]},setup(e,t){AC(()=>{e.icons&&$1(e.icons),e.locale&&jS(e.locale),e.localeParams&&US(e.localeParams),e.record!==void 0&&WC(e.record)});const n=Vc(),o=us();return()=>{const r={locale:o.locale,isMobile:n.isMobile};return t.slots.default&&t.slots.default(r)}}}),ax=["select","toggle","date","time","datetime","text","number","radio"],lx=be({name:"OfEditableField",components:{OfField:ka,OfButton:Bs,OfIcon:Zt},props:{modelValue:Object,mode:String,showOldValues:Boolean,index:Number,name:String,multi:Boolean,addRemove:Boolean},emits:["update:modelValue","valueChanged"],setup(e,t){const n=C(e.modelValue||{}),o=C(!1);Ae(()=>e.modelValue,k=>{n.value=k});const r=A({get(){return n.value},set(k){n.value=k}}),s=C(!1),i=A(()=>e.modelValue?.format?.type?e.modelValue?.format?.type:e.modelValue?.type?e.modelValue.type:"text"),a=A(()=>e.modelValue?.classes||[]);r.value&&!r.value.hasOwnProperty("originalValue")&&(r.value.originalValue=r.value.value);const l=A(()=>{const k={...r.value};return k.value=k.hasOwnProperty("hint")?k.hint:k.hasOwnProperty("originalValue")?k.originalValue:k.value,k}),c=jn(),u=jn(),d=()=>{r.value.value=r.value.originalValue,ut(()=>{v()})},f=(k=!1)=>{typeof k!="boolean"&&(r.value.value=k,w(k)),k?setTimeout(()=>{s.value=!1},150):s.value=!1},p=()=>{s.value=!0,ut(()=>{v(!0)})},h=k=>{r.value.value=k,w(k),f()},m=A(()=>i.value==="toggle"||s.value?"editable":e.modelValue?.mode||"fixed"),v=(k=!1)=>{const S=e.mode==="inline"?".of-field-input":".edit-overlay-desk .of-field-input",M=c.value?.querySelector(S);M&&(M.style.height="14px",ut(()=>M.style.height=M.scrollHeight+"px"),k&&M.focus())},y=An("fieldUpdated",()=>null),w=k=>{if(r.value.hasOwnProperty("customValidate")){const S=r.value.customValidate(e.name,k);S instanceof Promise?S.then(M=>{o.value=!M}):o.value=!S}t.emit("valueChanged",{name:e.name,value:k}),y({name:e.name,value:k,index:e.index})};return{item:r,type:i,elem:c,elemFieldHandler:u,resetValue:d,resizeInput:v,onInputFocus:p,inputMode:m,active:s,onInputBlur:f,onKeyDown:h,showItem:l,classes:a,supportedTypes:ax,updateValue:w,isInvalid:o}}}),cx=["tabindex"],ux={key:1,class:"field-editor"},dx={class:"edit-overlay-desk"},fx={key:0,class:"hint-value"},px={key:0,class:"editable-prepend"},hx=["tabindex"];function mx(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-text-field"),l=K("of-button"),c=K("of-data-type"),u=K("of-field");return e.type==="text"||e.type==="number"?(P(),W("div",{key:0,class:Xe(["editable-field-value-handler","input-mode-"+e.inputMode])},[g("div",{tabindex:e.inputMode==="editable"?void 0:0,class:Xe(["editable-field-value","field-value","input-mode-"+e.inputMode,{active:e.active},{inline:e.mode==="inline"}]),ref:"elem",onKeydown:t[6]||(t[6]=Yr(jt(()=>e.onInputFocus(),["prevent"]),["enter"]))},[t[10]||(t[10]=g("div",{class:"of-field-main"},null,-1)),e.active&&e.mode==="inline"&&e.item.hasOwnProperty("originalValue")&&e.item.originalValue!=e.item.value?(P(),W("span",{key:0,onClick:t[0]||(t[0]=(...d)=>e.resetValue&&e.resetValue(...d)),class:"reset-value-button"},[b(i,{name:"cancel"})])):$e("",!0),b(a,{mode:e.active&&e.mode==="inline"?"editable":e.inputMode,multiline:"",type:"textarea","input-type":e.type,onInput:e.resizeInput,onBlur:t[1]||(t[1]=d=>e.onInputBlur(!0)),onFocus:e.onInputFocus,"onUpdate:modelValue":[e.updateValue,t[3]||(t[3]=d=>e.item.value=d)],onKeydown:t[2]||(t[2]=Yr(jt(d=>e.elem?.focus(),["stop"]),["enter"])),"onKeydown:enter":e.onKeyDown,modelValue:e.item.value,label:e.item.label,"label-position":"frame",invalid:e.isInvalid,format:e.item.format},Rc({_:2},[e.item.icon?{name:"prepend",fn:j(()=>[b(i,{name:e.item.icon},null,8,["name"])]),key:"0"}:void 0]),1032,["mode","input-type","onInput","onFocus","onUpdate:modelValue","onKeydown:enter","modelValue","label","invalid","format"]),e.active&&e.mode==="popup"?(P(),W("div",ux,[g("div",dx,[b(a,{multiline:"",type:"textarea",onInput:e.resizeInput,onBlur:t[4]||(t[4]=d=>e.onInputBlur(!0)),onFocus:e.onInputFocus,"onKeydown:enter":e.onKeyDown,"onUpdate:modelValue":[e.updateValue,t[5]||(t[5]=d=>e.item.value=d)],modelValue:e.item.value,"label-position":"frame",invalid:e.isInvalid,format:e.item.format},null,8,["onInput","onFocus","onKeydown:enter","onUpdate:modelValue","modelValue","invalid","format"]),e.item.value!=e.item.originalValue?(P(),ot(l,{key:0,onClick:e.resetValue,class:"reset-edit-button",label:"Reset",icon:"cancel"},null,8,["onClick"])):$e("",!0)])])):$e("",!0)],42,cx),t[11]||(t[11]=g("div",{class:"rename-divider"},null,-1)),e.item.hasOwnProperty("hint")||e.item.hasOwnProperty("originalValue")&&e.item.originalValue!=e.item.value&&e.showOldValues?(P(),W("span",fx,[b(c,{value:e.showItem},null,8,["value"])])):$e("",!0)],2)):(P(),W(Pe,{key:1},[e.item.prepend?(P(),W("span",px,Fe(e.item.prepend),1)):$e("",!0),e.supportedTypes.includes(e.item.type)?(P(),W("div",{key:1,class:Xe(["editable-field-value-handler","mode-"+e.inputMode]),tabindex:e.inputMode==="editable"?void 0:0,onKeydown:t[9]||(t[9]=Yr(d=>e.onInputFocus(),["enter"])),ref:"elemFieldHandler"},[(P(),ot(u,{class:Xe([["in-data-table-"+e.type,[...e.classes]],"editable"]),"in-data-table":"",onFocus:e.onInputFocus,label:e.item.label,type:e.type,mode:e.inputMode,onInput:e.resizeInput,onBlur:t[7]||(t[7]=()=>{e.onInputBlur(),e.elemFieldHandler?.focus()}),"onUpdate:modelValue":[e.updateValue,t[8]||(t[8]=d=>e.item.value=d)],"onKeydown:enter":e.onKeyDown,modelValue:e.item.value,items:e.item.items,"input-type":e.item.inputType,outside:e.item.outside,key:e.modelValue?.key,invalid:e.isInvalid,format:e.item.format,multi:e.multi,"add-remove":e.addRemove,"label-position":"frame"},null,8,["class","onFocus","label","type","mode","onInput","onUpdate:modelValue","onKeydown:enter","modelValue","items","input-type","outside","invalid","format","multi","add-remove"]))],42,hx)):(P(),ot($f(e.item.value),{key:2,mode:"editable"}))],64))}const gx=cn(lx,[["render",mx]]),vx=be({name:"OfTableRow",components:{OfEditableField:gx,OfIcon:Zt,OfField:ka},props:{row:Object,idx:Number,dragInfo:Object,rowsSelector:Boolean,showOldValues:Boolean,editable:Boolean,isLastChild:Boolean,selectLocked:Boolean,editType:String,columns:Object,pointNext:{type:Array,required:!0},rowsRecord:Object,coords:{type:Array,required:!0},depth:{type:Number,default:0},isTouchable:Boolean,totalAmount:Boolean},emits:["dragstart","update:row","setCoords","setDepth","update:field"],setup(e,t){const n=A(()=>e.idx),o=A(()=>e.row?.active||!1),r=C(e.coords),s=A(()=>e.row?.editable??!0),i=A(()=>e.row?.editingRow??!1),a=A(()=>e.totalAmount??!1),l=pt({item:e.row,columns:e.columns}),c=A({get(){return l.item},set(E){t.emit("update:row",E)}});Ae(()=>c.value,E=>{t.emit("update:row",E)},{deep:!0,immediate:!1}),Ae(()=>[e.row,e.columns],([E,T])=>{w.value=!1,Object.assign(l,{item:E,columns:T})},{deep:!0});const u=E=>{if(!E.subitems)return 1;let T=0;return E.subitems.forEach(J=>{let le=u(J);le>T&&(T=le)}),1+T},d=A(()=>{if(!c.value.subitems?.length)return 1;let E=0;return c.value.subitems.forEach(T=>{let J=u(T);J>E&&(E=J)}),E+1}),f=A(()=>e.dragInfo?.listedRows?e.dragInfo?.listedRows.findIndex(E=>E.coordIndex===r.value?.join("-")):null),p=A(()=>f.value?e.dragInfo?.listedRows[f.value-1]:null),h=A(()=>f.value<e.dragInfo?.listedRows?.length-1?e.dragInfo?.listedRows[f.value+1]:null),m=A(()=>e.dragInfo.allParent),v=A(()=>{const E=r.value.join("-"),T=e.dragInfo?.currentCoords;return T.length>1&&T.slice(0,T.length-1).join("-")===E}),y=A(()=>{const E=r.value.join("-"),T=e.dragInfo?.draggingItem;return e.dragInfo?.highlighted||c.value?.highlighted||E===T.join("-")}),w=C(!1),k=(E,T=0)=>E.map((J,le,ye)=>le===ye.length-1?parseInt(J)+1:parseInt(J)),S=(E,T=!1)=>{if(f.value){const J=T?f.value+1:f.value;return(e.dragInfo?.listedRows.slice(0,J).reverse()).find(le=>le.depth===E)}return null},M=C(),L={},N={dragstart:E=>{t.emit("dragstart",E)},setCoords:E=>{t.emit("setCoords",E)}},V=E=>{const T=e.coords?.map(J=>J)||[];return T.push(E),T},_=A(()=>r.value?.join("-")===e.dragInfo?.draggingItem?.join("-")),G=A(()=>{const E=e.dragInfo?.draggingItem,T=r.value;return E.length>T.length?!1:(T?.slice(0,E.length)||[])?.every(function(J,le){return J==E[le]})}),te=E=>{const T=e.dragInfo?.draggingItem;return T.length>E?.length?!0:(E?.slice(0,T.length)||[])?.some(function(J,le){return J!=T[le]})},Y=E=>{if(E<c.value.subitems?.length-1){const T=e.coords?.map(J=>J)||[];return T.push(E+1),T}return e.pointNext},q=A(()=>{const E={};return e.depth&&(E.paddingLeft="calc(0.75rem + "+20*e.depth+"px)"),E}),$=(E,T=!1)=>{let J=S(E,T);return E===0||(m.value||S(E-1)?.parent)&&e.dragInfo.currentCanBeNested&&E+e.dragInfo.currentInnerDepth<=e.dragInfo.nestedLimit?J:!1},F=(E,T,J,le)=>{let ye=[],Me=!E,me={},X=!1,ae=0;const Ee=J??p.value?.coords?.slice(),B=le??p.value?.depth,H=r.value.slice(),ee=le??e.depth;let Q=_.value&&!c.value.subitems?.length;if(e.dragInfo.currentCanBeNested&&(p.value||!E)){if(E||Q)if(X=!!p.value&&(E&&te(Ee)||Q)&&T>B,X&&(p.value.parent||m.value)&&B+e.dragInfo.currentInnerDepth<e.dragInfo.nestedLimit)ye=Ee,J&&Ee[0]!==r.value[0]&&(ye.push(0),ae=B+1);else if((_.value||!G.value)&&(e.dragInfo.isLastChild&&_.value||ee===0)&&(E||Q)&&p.value){T=Math.min(T,B);for(let de=T;de>=0;de--)if(me=$(de),me&&te(me.coords)){ye=me.coords.slice(),ye=J??k(ye,1),ae=me.depth;break}}else(_.value||te(H)&&ee+e.dragInfo.currentInnerDepth<e.dragInfo.nestedLimit)&&(ye=H,ae=ee);if(!ye.length&&!E)if(Me=!0,X=T>ee,X&&(c.value.parent||m.value)&&!G.value&&ee+e.dragInfo.currentInnerDepth<e.dragInfo.nestedLimit)ye=H,ye.push(0),ae=ee+1;else{let de=$(ee,!0);if(de&&(G.value||(ye=de.coords,ye=k(ye,2),ae=ee)),T=Math.min(T,ee),e.dragInfo.isLastChild&&!(J&&G.value)){for(let Ve=T;Ve>=0;Ve--)if(me=$(Ve,!0),me&&te(me.coords)){ye=me.coords.slice(),ye=J??k(ye,3),ae=me.depth;break}}}}else if(ae=0,E)Me=!1,p.value?ee===0&&(ye=H):ye=J??[0];else if(Me=!0,h.value)ee===0&&!c.value.subitems?.length?(ye=H,ye=k(ye,4)):h.value.depth===0&&(ye=h.value.coords);else{let de=e.dragInfo?.listedRows.slice();de=de.filter(Ve=>!Ve.depth),ye=J?[+(J?.at(0)||0)+1]:[de.length]}return{coords:ye,depth:ae,fixArrowNext:Me}};return{item:c,itemRef:M,index:n,events:N,mouseMove:E=>{E.cancelable&&e.dragInfo?.dragInProgress&&E.preventDefault();let T=null,J=null;if(e.dragInfo?.dragInProgress){let le=M.value;if(!le)return;let ye=le.querySelector(".of--align-start");if(E.type==="touchmove"){if(ye=document.elementFromPoint(e.dragInfo?.tableLeft+55,E.changedTouches[0].clientY),!ye?.classList?.contains("of--align-start"))return;T=ye.getAttribute("data-index"),J=+ye.getAttribute("data-depth")||0,r.value=T=T?T?.split(","):[],e.idx==T&&(w.value=!0)}const Me=ye?.getBoundingClientRect()?.height,me=ye?.getBoundingClientRect()?.top;if(!Me||!me)return;let X=E.pageX??E.changedTouches[0].pageX,ae=E.offsetY??Math.floor((E.changedTouches[0].clientY-me)%Me);ae=ae<0?Me+ae:ae;let Ee=Math.min(Math.floor((X-e.dragInfo?.tableLeft-55)/20),e.dragInfo?.nestedLimit-1);Ee=Math.max(0,Ee);const B=ae<Me/2;let{coords:H,fixArrowNext:ee,depth:Q}=F(B,Ee,T,J);H.length&&t.emit("setCoords",{coords:H,element:ye,fixArrowNext:ee,depth:Q});return}},nestedStyle:q,isCurrentTarget:v,highlighted:y,dragStart:E=>{E.cancelable&&E.preventDefault(),t.emit("dragstart",{coords:e.coords,start:E.pageX??E.changedTouches[0].pageX,depth:e.depth,element:E.target,canBeNested:c.value.nested,innerDepth:d.value})},childDepths:L,rowUpdated:()=>{},setChildCoords:V,setNextPointer:Y,rowItem:l,currentCords:r,selectedItem:w,active:o,fieldEdited:E=>{t.emit("update:field",{name:E.name,value:E.value})},rowEditable:s,editingRow:i,hasTotalAmount:a}}}),yx={key:1},bx=["data-index","data-depth"],wx={key:0,width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"previousAltIconTitle",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",color:"#000000"},kx={key:1,class:"editable-fields"};function Cx(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-field"),l=K("of-editable-field"),c=K("of-data-type"),u=K("of-table-row");return P(),W(Pe,null,[(P(),W("div",{class:Xe(["of-data-table-row",{odd:e.index%2!=0,nested:e.item.nested,selected:e.isTouchable?e.selectedItem:e.highlighted||e.isCurrentTarget,active:e.active,"row-editable":e.rowEditable,"row-editing":e.editingRow,"total-amount":e.hasTotalAmount}]),ref:"itemRef",onMousemove:t[2]||(t[2]=d=>e.dragInfo?.draggable&&e.mouseMove(d)),onTouchmove:t[3]||(t[3]=d=>e.dragInfo?.draggable&&e.mouseMove(d)),key:e.item.id??e.index},[e.dragInfo?.draggable?(P(),W("div",{key:0,class:Xe(["grab-button",{draggable:e.item.draggable}]),onMousedown:t[0]||(t[0]=d=>e.item.draggable&&e.dragStart(d)),onTouchstart:t[1]||(t[1]=d=>e.item.draggable&&e.dragStart(d))},[e.item.draggable?(P(),ot(i,{key:0,name:"menu"})):$e("",!0)],34)):$e("",!0),e.rowsSelector?(P(),W("div",yx,[Qe(e.$slots,"rows-selector",{record:e.rowsRecord,item:e.row},()=>[b(a,{type:"toggle",variant:"basic",class:"row-selector","aria-label":"Row Selector",locked:e.selectLocked,mode:e.selectLocked?"disabled":"editable",record:e.selectLocked?void 0:e.rowsRecord,"model-value":e.selectLocked?!0:e.rowsRecord.value[e.item.id],name:e.item.id},null,8,["locked","mode","record","model-value","name"])]),Qe(e.$slots,"first-cell",{record:e.rowsRecord,item:e.row})])):$e("",!0),(P(!0),W(Pe,null,ct(e.rowItem.columns,(d,f)=>(P(),W("div",{style:Ht([d.value===e.dragInfo?.nestedIndicator?e.nestedStyle:{}]),class:Xe(d.class),key:f,"data-index":e.coords,"data-depth":e.depth},[d.value===e.dragInfo?.nestedIndicator&&e.depth?(P(),W("svg",wx,[...t[4]||(t[4]=[g("path",{d:"M8 4L4 8L8 12"},null,-1),g("path",{d:"M4 8H14.5C17.5376 8 20 10.4624 20 13.5V13.5C20 16.5376 17.5376 19 14.5 19H5"},null,-1)])])):$e("",!0),Array.isArray(e.item[d.value])?(P(),W("div",kx,[(P(!0),W(Pe,null,ct(e.item[d.value],(p,h)=>(P(),W(Pe,{key:h},[p.editable&&e.rowEditable&&e.editable?(P(),ot(l,{key:0,index:e.index,mode:e.editType,modelValue:e.item[d.value][h],"onUpdate:modelValue":m=>e.item[d.value][h]=m,"show-old-values":e.showOldValues,onValueChanged:e.fieldEdited,name:p.name,multi:p.multi,"add-remove":p.addRemove},null,8,["index","mode","modelValue","onUpdate:modelValue","show-old-values","onValueChanged","name","multi","add-remove"])):(P(),W("div",{class:Xe(["field-value",{postfix:h,"total-amount-fields":e.hasTotalAmount}]),key:h},[b(c,{value:e.item[d.value][h]},null,8,["value"])],2))],64))),128))])):(P(),W(Pe,{key:2},[e.item[d.value]?.editable&&e.rowEditable&&e.editable?(P(),ot(l,{key:0,index:e.index,mode:e.editType,modelValue:e.item[d.value],"onUpdate:modelValue":p=>e.item[d.value]=p,"show-old-values":e.showOldValues,onValueChanged:e.fieldEdited,name:d.value,multi:e.item[d.value]?.multi,"add-remove":e.item[d.value]?.addRemove},null,8,["index","mode","modelValue","onUpdate:modelValue","show-old-values","onValueChanged","name","multi","add-remove"])):(P(),W("div",{key:1,class:Xe(["field-value",{"total-amount-fields":e.hasTotalAmount}])},[b(c,{value:e.item[d.value]},null,8,["value"])],2))],64))],14,bx))),128))],34)),e.item.subitems?.length?(P(!0),W(Pe,{key:0},ct(e.item.subitems,(d,f)=>(P(),ot(u,Ke({key:e.setChildCoords(f).join("-"),row:d,"rows-selector":e.rowsSelector,"select-locked":e.selectLocked},Sl(e.events),{"onUpdate:row":e.rowUpdated,"drag-info":{...e.dragInfo,isLastChild:f===e.item.subitems.length-1,highlighted:e.highlighted||e.coords.join("-")===e.dragInfo?.draggingItem.join("-")},"edit-type":e.editType,editable:e.editable,depth:e.depth+1,coords:e.setChildCoords(f),"point-next":e.setNextPointer(f),"show-old-values":e.showOldValues,columns:e.rowItem.columns,"rows-record":e.rowsRecord,idx:f,"is-touchable":e.isTouchable}),{"first-cell":j(()=>[Qe(e.$slots,"first-cell",{record:e.rowsRecord,item:d})]),_:2},1040,["row","rows-selector","select-locked","onUpdate:row","drag-info","edit-type","editable","depth","coords","point-next","show-old-values","columns","rows-record","idx","is-touchable"]))),128)):$e("",!0)],64)}const Sx=cn(vx,[["render",Cx]]);var j1=(e=>(e.asc="asc",e.desc="desc",e.noOrder="",e))(j1||{});const Kh=(e,t)=>{let n=!1;return t&&t.hasOwnProperty(0)&&t[0].hasOwnProperty("id")&&(n=!0),(e&&n)??!1};let xx=0;const Ax=be({name:"OfDataTable",components:{OfTableRow:Sx,OfButton:Bs,OfOptionList:Qs,OfOverlay:Jo,OfIcon:Zt},props:{footerItems:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},itemsCount:[String,Number],itemsPerPage:[String,Number],page:[String,Number],rowsSelector:Boolean,resetSelection:Boolean,selectAll:Boolean,draggable:Boolean,dragOptions:{type:Object,required:!1},editable:{type:Boolean,default:!1},editType:{type:String,default:"inline"},showOldValues:{type:Boolean,default:!1},nestedIndicator:{type:String,default:"name"},density:[String,Number]},emits:{"rows-selected":null,"rows-select-all":null,"rows-select-page":null,"rows-deselect-page":null,"rows-deselect-all":null,"rows-sorted":null,"rows-moved":null,"rows-edited":null,"row-edited":null},setup(e,t){const n=Js(),o=C({column:"",order:""}),r=C(e.items||[]),s=jn(),i=C(!1),a=C(!1),l=C(!1),c=C([]),u=C(!1),d=C([]),f=C(0),p=C(!1),h=C(!1),m=C(0),v=C(0),y=pt({nested:!1,allNested:!0,nestedLimit:5,allParent:!0}),w=A(()=>55+20*m.value+"px");Ae(()=>e.dragOptions,I=>{if(I)for(const[Z,ue]of Object.entries(I))y[Z]=ue},{immediate:!0});const k=(I,Z)=>{let ue=I.length,Re=Z.length;if(ue===Re){let et=!0;for(let at=0;at<ue;at++)at===ue-1?I[at]===Z[at]||Z[at]-I[at]===1||(et=!1):I[at]!==Z[at]&&(et=!1);return et}return!1};Ae(()=>p.value,I=>{I||r.value.forEach(Z=>{_(Z)})});const S={dragstart:I=>{c.value=I.coords,d.value=I.coords,l.value=!0,u.value=I.canBeNested,m.value=I.depth,v.value=I.innerDepth,T(I.element)},setCoords:I=>{d.value=I.coords,m.value=I.depth,T(I.element,I.fixArrowNext)}},M=I=>{I.type==="touchstart"&&(h.value=!0),p.value&&(p.value=!1)},L=I=>{I.type==="touchend"&&(h.value=!1),l.value&&(l.value=!1,N(c.value,d.value))};document.addEventListener("mouseup",L),document.addEventListener("mousedown",M),document.addEventListener("touchstart",M,{passive:!0}),document.addEventListener("touchend",L,{passive:!0});const N=(I,Z)=>{if(I.length&&Z.length){if(!k(I,Z)){let ue=I.length,Re=Z.length,et=r.value,at=r.value;if(ue>1){et=et[I[0]].subitems;for(let O=1;O<ue-1;O++)et=et[I[O]].subitems}if(Re>1){at[Z[0]].subitems||(at[Z[0]].subitems=[]),at=at[Z[0]].subitems;for(let O=1;O<Re-1;O++)at[Z[O]].subitems||(at[Z[O]].subitems=[]),at=at[Z[O]].subitems}const Kt=et[I[ue-1]];let wn=Z[Re-1]-.5;at.push({...Kt,highlighted:!0,order:wn}),Kt.toRemove=!0}p.value=!0}d.value=[],c.value=[],G(),t.emit("rows-moved",r.value)},V=I=>{I.subitems&&(I.subitems=I.subitems.filter(Z=>!Z.toRemove),I.subitems.sort((Z,ue)=>Z.order-ue.order).forEach((Z,ue)=>{Z.order=ue,V(Z)}))},_=I=>{if(I.highlighted){delete I.highlighted;return}I.subitems&&I.subitems.sort((Z,ue)=>Z.order-ue.order).forEach((Z,ue)=>{_(Z)})},G=()=>{r.value=r.value.filter(I=>!I.toRemove),r.value.sort((I,Z)=>I.order-Z.order).forEach((I,Z)=>{I.order=Z,V(I)})},te=I=>{t.emit("row-edited",I),t.emit("rows-edited",r.value)},Y=()=>{fe()},q=A(()=>s.value?s.value?.getBoundingClientRect()?.left??0:0),$=(I,Z,ue,Re)=>{let et={...I};delete et.subitems,et.coordIndex=ue,et.coords=ue.split("-").map(at=>parseInt(at)),et.depth=Re,Z.push(et),I.subitems?.length&&I.subitems.map((at,Kt)=>{$(at,Z,ue+"-"+Kt,Re+1)})},F=A(()=>{let I=[];return qe.value.map((Z,ue)=>{$(Z,I,ue+"",0)}),I}),E=A(()=>"of-data-table-"+ ++xx),T=(I,Z=!1)=>{let ue=I?.closest(".of-data-table-row")?.querySelector(".of--align-start")?.getBoundingClientRect();if(!ue)return;let Re=ue.top,et=s?.value?.getBoundingClientRect()?.top;if(!et)return;let at=s?.value?.scrollTop;et===void 0||at===void 0||(Z?f.value=Re+at-et+ue.height:f.value=Re+at-et)},J=C(),le=C(),ye=C(),Me=C(!1),me=C(""),X=C([]),ae=C(!1),Ee=C({}),B=I=>E.value+"-header-"+I,H=()=>{clearTimeout(ye.value),clearTimeout(le.value),Me.value===!0&&(J.value=window.setTimeout(()=>{R()},500))},ee=(I,Z)=>{clearTimeout(J.value),ye.value=window.setTimeout(()=>{Q(Z),me.value=I},Me.value?500:0),Me.value!==!0&&(clearTimeout(le.value),le.value=window.setTimeout(()=>{x()},500))},Q=I=>{X.value=[];for(const Z of I){const ue={value:Z.value,text:Z.label},Re={icon:"select up",selected:o.value.column===Z.value&&o.value.order==="asc",order:"asc"},et={icon:"select down",selected:o.value.column===Z.value&&o.value.order==="desc",order:"desc"};X.value.push({...et,...ue}),X.value.push({...Re,...ue})}},de=()=>{clearTimeout(J.value)},Ve=()=>{H()},x=()=>{Me.value=!0},R=()=>{Me.value=!1},z=function(I,Z){o.value.order=Z,o.value.column=I},ne=A(()=>{const I=[];for(const Z of e.headers){const ue=Z.align,Re=["of--align-"+(ue||"start"),Z.class];typeof Z.sort=="string"&&z(Z.value,Z.sort),I.push(Object.assign({},Z,{align:ue,class:Re}))}return I}),re=A(()=>{const I=[];return e.headers?.forEach((Z,ue)=>Z.sum_total&&I.push(ue)),I}),oe=A(()=>parseInt(e.itemsPerPage,10)||10),Ce=C(0),fe=()=>{if(!re.value.length)return;let I="";const Z=ne.value[0].value,ue={nested:null,draggable:!1};re.value.forEach(Re=>{let et=[],at=0;const Kt=ne.value[Re].value;r.value?.forEach(wn=>{if(Array.isArray(wn[Kt])){let O=0;wn[Kt].forEach((se,Se)=>{const Ge=se?.rawValue??se?.value??"";if(isNaN(+Ge)){O++;return}et[Se-O]?et[Se-O].value+=+Ge:(I=se?.label,et.push({...se,value:+Ge}))})}else{I=wn[Kt]?.label;let O=wn[Kt]?.rawValue??wn[Kt]?.value??wn[Kt];isNaN(+O)||(at+=+O)}}),et.length?ue[Kt]=et:ue[Kt]={value:at||"",format:ne.value[Re]?.total_format??r.value?.[0]?.[Kt]?.format??r.value?.[0]?.[Kt]?.totalFormat??{},params:ne.value[Re]?.currency?{symbol:ne.value[Re].currency.symbol}:{}}}),Ee.value={...ue,[Z]:I||"Total amounts",editable:!1}};Ae(()=>e.page,I=>Ce.value=parseInt(I,10)||1,{immediate:!0}),Ae(()=>e.items,I=>r.value=I,{immediate:!0}),Ae(()=>re.value,I=>{I.length&&fe()},{immediate:!0}),Ae(()=>e.items,()=>{fe()},{deep:!0});const ge=A(()=>e.itemsCount!=null?0:Math.max(0,oe.value*(Ce.value-1))),U=A(()=>{const I=e.draggable?"50px ":"",Z=Kh(e.rowsSelector,qe.value)?"min-content":"",ue=e.headers?.map(Re=>{if(!Re.width)return"auto";const et=Re.width.toString();if(et.endsWith("%")||et.match(/^[0-9]+(\.[0-9]*)?$/)){const at=parseFloat(et);return isNaN(at)?"auto":""+at+"fr"}return et}).join(" ");return{"--of-table-columns":`${I} ${Z} ${ue}`}}),pe=A(()=>e.footerItems),ke=A(()=>Kh(e.rowsSelector,qe.value)),Oe=A(()=>e.selectAll),Le=(I,Z)=>(I.order=I.hasOwnProperty("order")?I.order:Z,I.subitems?.length&&I.subitems.forEach((ue,Re)=>{ue=Le(ue,Re)}),I),Ne=I=>{const Z=Je.value.value;return I.selected=I.selected||Z&&Z[I.id]?Z[I.id]:!!(Z&&Z.all),I.subitems?.length&&I.subitems.forEach((ue,Re)=>{Ne(ue)}),I},qe=A(()=>{const I=[];let Z=oe.value,ue=r.value;for(let Re=ge.value;Z>0&&Re<ue.length;Re++){let et=ue[Re];et=Le(et,Re),I.push(et)}return I}),Je=A(()=>{let I={};if(Oe.value)I={all:!0};else if(ke.value){for(const Z of qe.value)if(I[Z.id]=Z.selected||!1,Z.subitems)for(const ue of Z.subitems)I[ue.id]=ue.selected||!1}return wa(I)});Ae(qe,I=>{if(!(Je.value.value?.all??!1))for(const Z of I)Ne(Z)},{deep:!0}),Ae(()=>Je.value.value,I=>{t.emit("rows-selected",I),St.value=!0;for(const[Z,ue]of Object.entries(I))Z!=="all"&&!ue&&(St.value=!1)},{deep:!0}),Ae(()=>e.resetSelection,I=>{I&&Ct("deselect-all")});const Ct=function(I){if(!qe.value)return!1;const Z=I!="deselect-all"&&I!="deselect-page";if(St.value=Z,I==="all"){for(const ue of qe.value)if(Je.value.value[ue.id]=!0,ue.subitems)for(const Re of ue.subitems)Je.value.value[Re.id]=!0;ae.value=!0,t.emit("rows-select-all")}else{delete Je.value.value.all,ae.value=!1,I=="deselect-all"?(Je.value.value={},t.emit("rows-deselect-all")):I=="deselect-page"?t.emit("rows-deselect-page"):I=="page"&&t.emit("rows-select-page");for(const ue of qe.value)if(Je.value.value[ue.id]=Z,ue.subitems)for(const Re of ue.subitems)Je.value.value[Re.id]=Z}},St=C(!1),un=function(){St.value=!St.value;const I=St.value?"page":"deselect-page";Ct(I)},dn=[{key:"page",text:"Select Page",value:()=>Ct("page")},{key:"all",text:"Select All",value:()=>Ct("all")},{key:"clear",text:"Deselect All",value:()=>Ct("deselect-all")}],En=function(I,Z=void 0){R();const ue=o.value.order==""||o.value.column!==I?"asc":o.value.order=="asc"?"desc":"asc";z(I,Z?.order||ue),Ct("deselect-all"),t.emit("rows-sorted",o.value)},So=A(()=>{let I=e.density;return I==="default"?I=void 0:typeof I=="string"&&(I=parseInt(I,10),isNaN(I)&&(I=void 0)),typeof I!="number"&&(I=n.defaultDensity),typeof I!="number"&&(I=2),Math.max(0,Math.min(3,I||0))}),ie=A(()=>["of-data-table","of--density-"+So.value]);return{columns:ne,footerRows:pe,rows:qe,addRowsSelector:ke,draggingItem:c,rowsRecord:Je,selectRowsItems:dn,selectRows:Ct,onUpdateHeaderRowsSelector:un,headerRowsSelectorChecked:St,columnsStyle:U,onSort:En,sort:o,tableElt:s,arrowTop:f,currentNested:a,tableClass:ie,outerId:E,RowSortOrders:j1,sortPopupTarget:me,sortPopupOpened:Me,selectedColFields:X,selectLocked:ae,createColId:B,drag:i,sortColEnter:ee,sortColLeave:H,sortPopupEnter:de,sortPopupLeave:Ve,draggingOptions:y,dragInProgress:l,listedRows:F,tableLeft:q,currentCanBeNested:u,currentInnerDepth:v,updateRow:te,updateField:Y,currentCoords:d,highlightLastMoved:p,dragEvents:S,dragLeft:w,isTouchable:h,sumTotals:Ee,sumTotalColumns:re}}}),Mx=["id"],Tx={class:"of-data-table-header"},Ex={key:0},$x={key:1,class:"of-data-table-rows-selector"},Ox={class:"of-field-body"},Dx={class:"of-toggle-wrapper"},Rx={class:"of-toggle-input"},Nx=["id","tabindex","onMouseenter","onMouseleave","onClick","onKeydown"],Ix={key:1},Lx={key:0},Px={class:"drag-pointers-handler"};function Vx(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-button"),l=K("of-table-row"),c=K("of-format"),u=K("of-option-list"),d=K("of-overlay");return P(),W("div",{class:Xe([e.tableClass,{drag:e.dragInProgress},{editable:e.editable}]),style:Ht(e.columnsStyle),id:e.outerId,ref:"tableElt"},[g("div",Tx,[e.draggable?(P(),W("div",Ex)):$e("",!0),e.addRowsSelector?(P(),W("div",$x,[Qe(e.$slots,"header-rows-selector",{},()=>[b(a,{variant:"text",class:"header-rows-selector","keep-text-color":"",split:"",onClick:t[0]||(t[0]=()=>e.selectLocked?null:e.onUpdateHeaderRowsSelector()),"aria-label":e.selectRowsItems.find(f=>f.key==="page")?.text,items:e.selectRowsItems},{default:j(()=>[g("div",{class:Xe(["of-field","of-toggle-field","row-selector",{"of--mode-disabled":e.selectLocked},{"of--checked":e.headerRowsSelectorChecked}])},[g("div",Ox,[g("div",Dx,[g("div",Rx,[b(i,{name:"checkbox"+(e.headerRowsSelectorChecked?" checked":"")},null,8,["name"])])])])],2)]),_:1},8,["aria-label","items"])]),Qe(e.$slots,"header-first-cell")])):$e("",!0),(P(!0),W(Pe,null,ct(e.columns,(f,p)=>(P(),W("div",{class:Xe([f.class,{sortable:f.sortable!==!1,[e.sort.order]:e.sort.column===f.value}]),key:p},[f.sortable!==!1?(P(),W("span",{key:0,id:e.createColId(p),tabindex:f.sortable!==!1?"0":void 0,onMouseenter:h=>f.extra_sort_fields?e.sortColEnter("#"+e.createColId(p),f.extra_sort_fields):null,onMouseleave:h=>f.extra_sort_fields?e.sortColLeave():null,onClick:h=>e.onSort(f.value),onKeydown:Yr(jt(h=>e.onSort(f.value),["prevent"]),["enter"])},[ce(Fe(f.text)+" ",1),b(i,{name:e.sort.order==e.RowSortOrders.desc&&e.sort.column==f.value?"select down":"select up"},null,8,["name"])],40,Nx)):(P(),W("div",Ix,Fe(f.text),1))],2))),128))]),(P(!0),W(Pe,null,ct(e.rows,(f,p)=>(P(),ot(l,Ke({key:p,row:f,"drag-info":{draggable:e.draggable,dragInProgress:e.dragInProgress,nestedIndicator:e.nestedIndicator,currentCoords:e.currentCoords,nested:e.draggingOptions.nested,currentCanBeNested:e.draggingOptions.nested&&(e.draggingOptions.allNested||e.currentCanBeNested),draggingItem:e.draggingItem,nestedLimit:e.draggingOptions.nestedLimit,allParent:e.draggingOptions.allParent,listedRows:e.listedRows,tableLeft:e.tableLeft,highlightLastMoved:e.highlightLastMoved,currentInnerDepth:e.currentInnerDepth},coords:[p],"point-next":[p+1]},Sl(e.dragEvents),{"rows-selector":e.addRowsSelector,"select-locked":e.selectLocked,"edit-type":e.editType,editable:e.editable,"show-old-values":e.showOldValues,columns:e.columns,"rows-record":e.rowsRecord,idx:p,"is-touchable":e.isTouchable,"onUpdate:row":e.updateRow,"onUpdate:field":e.updateField}),{"rows-selector":j(()=>[Qe(e.$slots,"rows-selector",{record:e.rowsRecord,item:f})]),"first-cell":j(()=>[Qe(e.$slots,"first-cell",{record:e.rowsRecord,item:f})]),_:2},1040,["row","drag-info","coords","point-next","rows-selector","select-locked","edit-type","editable","show-old-values","columns","rows-record","idx","is-touchable","onUpdate:row","onUpdate:field"]))),128)),e.sumTotalColumns.length?(P(),ot(l,Ke({key:0,"total-amount":!0,row:e.sumTotals,"drag-info":{draggable:e.draggable,dragInProgress:e.dragInProgress,nestedIndicator:e.nestedIndicator,currentCoords:e.currentCoords,nested:e.draggingOptions.nested,currentCanBeNested:e.draggingOptions.nested&&(e.draggingOptions.allNested||e.currentCanBeNested),draggingItem:e.draggingItem,nestedLimit:e.draggingOptions.nestedLimit,allParent:e.draggingOptions.allParent,listedRows:e.listedRows,tableLeft:e.tableLeft,highlightLastMoved:e.highlightLastMoved,currentInnerDepth:e.currentInnerDepth},coords:[e.rows.length+1],"point-next":[e.rows.length+1]},Sl(e.dragEvents),{"rows-selector":e.addRowsSelector,"edit-type":e.editType,"show-old-values":e.showOldValues,columns:e.columns,"rows-record":e.rowsRecord,idx:e.rows.length+1,"is-touchable":e.isTouchable,"onUpdate:row":e.updateRow}),{"rows-selector":j(()=>[...t[3]||(t[3]=[g("div",null,null,-1)])]),_:1},16,["row","drag-info","coords","point-next","rows-selector","edit-type","show-old-values","columns","rows-record","idx","is-touchable","onUpdate:row"])):$e("",!0),e.footerRows?.length?(P(!0),W(Pe,{key:1},ct(e.footerRows,(f,p)=>(P(),W("div",{class:"of-data-table-footer",key:p},[e.draggable?(P(),W("div",Lx)):$e("",!0),e.addRowsSelector?(P(),W("div",{key:1,class:Xe({first:p==0})},"",2)):$e("",!0),(P(!0),W(Pe,null,ct(e.columns,(h,m)=>(P(),W("div",{class:Xe([h.class,p==0?"first":void 0]),key:m},[b(c,{type:h.format,value:f[h.value]},null,8,["type","value"])],2))),128))]))),128)):$e("",!0),b(d,{active:e.sortPopupOpened,capture:!1,shade:!1,target:e.sortPopupTarget},{default:j(()=>[b(u,{onMouseenter:t[1]||(t[1]=f=>e.sortPopupEnter()),onMouseleave:t[2]||(t[2]=f=>e.sortPopupLeave()),onClick:e.onSort,class:"of-extra-sort-popup of--elevated-1",items:e.selectedColFields},null,8,["onClick","items"])]),_:1},8,["active","target"]),e.draggable&&e.dragInProgress?(P(),W("div",{key:2,class:"drag-position-handler",style:Ht({top:e.arrowTop+"px"})},[g("div",Px,[g("div",{class:"drag-position-pointer",style:Ht({left:e.dragLeft})},[...t[4]||(t[4]=[g("svg",{width:"15",height:"18",viewBox:"0 0 15 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M0 17.2327V0.738281L14.3259 9.00047L0 17.2327Z",fill:"black"})],-1)])],4)])],4)):$e("",!0)],14,Mx)}const _x=cn(Ax,[["render",Vx]]),Bx=be({props:{value:{type:Object,required:!0}},render(){const e=Gn().getTextFormatter("number",{maximumFractionDigits:2,minimumFractionDigits:2,style:"decimal"})?.format(this.$props.value.value),t=this.$props.value?.params?.symbol||"$";return e?.value?D("span",{innerHTML:t+"&nbsp;"+e.textValue}):D("span",{innerHTML:""})}}),Hx=be({props:{value:{type:Object,required:!0}},render(){return D(Bf,{href:this.$props.value.params.href||null,to:this.$props.value.params.to||null,beforeNavigate:this.$props.value.params.beforeNavigate||null,ariaLabel:this.$props.value.params.ariaLabel||null},{default:()=>this.$props.value.value})}}),zx=be({name:"OfDataType",props:{editable:Boolean,value:{type:[String,Boolean,Number,Array,Object],default:null}},render(){if(this.$props.value&&typeof this.$props.value=="object")switch(this.$props.value.format?.type||this.$props.value.format){case"currency":return D(Bx,this.$props,this.$slots);case"link":return D(Hx,this.$props,this.$slots);default:return this.$props.value.value}return this.$props.value}}),Fx=be({name:"OfDateTimePopup",inheritAttrs:!1,props:{id:String,withTime:Boolean,withDate:Boolean,date:Date,monthStart:Date,isSelected:Function,accept:Function,withoutTitle:Boolean,weekStart:Number,showTodayButton:Boolean},emits:["blur"],setup(e,t){let n;const o=C(e.date??new Date),r=C(e.date??new Date),s=C(e.date??new Date),i=C(e.monthStart||o.value),a=C(!1),l=K("OfButton"),c=C(null),u=C(null),d=us(),f=Gn(),p=C(0),h=A(()=>e.withTime?d.localeParams?.dateTimeFormat?.timeZone:void 0),m=A(()=>{const B=e.weekStart===void 0?d.localeParams?.weekStart??1:e.weekStart;return Sa(B)}),v=A(()=>f.getTextFormatter("datetime",{locale:"en-US",timeFormat:"",dateFormat:"",nativeOptions:{timeZone:h.value,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hourCycle:"h23"}})),y=A(()=>v.value?.format(o.value)),w=A(()=>v.value?.format(o.value).parts),k=(B,H=void 0)=>w.value.find(ee=>ee.type===B)?.value??H;s.value=new Date(y.value?.value.getTime()),Ae(()=>e.monthStart,B=>i.value=B??new Date),Ae(()=>o.value,()=>{r.value=y.value?.localeValue,p.value=y.value?.tzOffset*1e3},{immediate:!0});const S=B=>{o.value=new Date(B.getTime()-p.value)},M=e.withTime?{hour:"numeric",minute:"numeric"}:{},L=f.getTextFormatter(e.withTime?"datetime":"date",{timeFormat:"",dateFormat:"",nativeOptions:{timeZone:h.value,month:"short",year:"numeric",day:"numeric",weekday:"short",...M}}),N=f.getTextFormatter("date",{locale:"en-US",timeFormat:"",dateFormat:"",nativeOptions:{timeZone:h.value,month:"short",year:"numeric"}}),V=(B,H=!1)=>{const ee=new Date(r.value.valueOf());ee.setUTCFullYear(B.getFullYear(),B.getMonth(),B.getDate()),e.withTime?H&&c?.value?.focus():e.accept?.(ee),i.value=B,S(ee)},_=B=>{const H=B.el;H.focus(),H.setSelectionRange(0,999999)},G=B=>{const H=new Date(e.withTime?r.value.getTime()+r.value.getTimezoneOffset()*60*1e3:o.value.getTime());return Xi(H,B.date)},te=B=>{let H=new Date(e.withTime?s.value.getTime()+p.value+s.value.getTimezoneOffset()*60*1e3:s.value.getTime());return Xi(H,B.date)},Y=()=>{i.value=kS(i.value)},q=()=>{i.value=CS(i.value)},$=B=>{a.value=B},F=B=>{if(B.key=="Escape"&&(a.value=!1,B.stopPropagation(),n&&n.el?.focus()),B.key=="Enter"){B.stopPropagation();const H=B.target,ee=parseInt(H.value);if(isNaN(ee)||ee<1)return;const Q=new Date(i.value.valueOf());Q.setFullYear(ee),i.value=Q,s.value=Q,a.value=!1,u?.value?.focus()}},E=B=>{B.key=="Escape"&&t.emit("blur")},T=B=>{let H=!1;if(B.code=="Enter"){H=!0;const ee=new Date(e.withTime?s.value.getTime()+p.value+r.value.getTimezoneOffset()*60*1e3:s.value.getTime());V(ee,!0)}else if(["ArrowUp","ArrowDown"].includes(B.code)){H=!0;const ee=B.code=="ArrowUp",Q=s.value.getDate();if(B.shiftKey){ee?Y():q(),s.value=Hf(s.value,ee?1:-1);const de=Hh(s.value).getDate();Q>de?s.value.setDate(de):s.value.setDate(Q)}else if(B.altKey||B.metaKey){const de=s.value.getMonth();s.value=ln(s.value,ee?7:-7),s.value.getMonth()!==de&&(ee?Y():q())}else Q===1&&!ee&&q(),Q===Hh(s.value).getDate()&&ee&&Y(),s.value=ln(s.value,ee?1:-1)}H&&(B.preventDefault(),B.stopPropagation())},J=B=>{let H=!1;if(B.code=="Enter")H=!0,e.accept?.(o.value);else if(["ArrowUp","ArrowDown"].includes(B.code)){H=!0;const ee=B.code=="ArrowUp";if(B.shiftKey)Ee("m",ee?1:-1);else if(B.altKey||B.metaKey){const Q=o.value.getHours();Q<=12&&ee?ye("h",12):Q>12&&!ee&&ye("h",-12)}else Ee("h",ee?1:-1)}H&&(B.preventDefault(),B.stopPropagation())},le=B=>{Ee()},ye=(B,H)=>{const ee=new Date(r.value.getTime());let Q=B=="h"?ee.getUTCHours():ee.getUTCMinutes();const de=B=="h"?23:59;Q+=H,Q<0&&(Q=de),Q>de&&(Q=0),B=="h"?ee.setUTCHours(Q):ee.setUTCMinutes(Q),S(ee)};let Me,me;const X=(B,H)=>()=>{ye(B,H)},ae=(B,H)=>()=>{ye(B,H),me=window.setInterval(X(B,H),100)},Ee=(B,H)=>{Me&&window.clearTimeout(Me),me&&window.clearInterval(me),me=Me=void 0,!(B==null||H==null)&&(ye(B,H),Me=window.setTimeout(ae(B,H),500))};return{OfButton:l,timeSelector:c,dateSelector:u,selMonthStart:i,useButtons:e.withTime,selectDate:V,selectToday:()=>V(new Date),checkSelected:A(()=>e.isSelected||G),checkFocused:A(()=>te),nextMonth:Y,prevMonth:q,editYear:$,yearInputHandler:F,timeClickHandler:Ee,focusYearInput:_,updateTime:ye,onAccept:()=>e.accept?.(o.value),onCancel:()=>e.accept?.(),onDateKeydown:T,onPopupKeydown:E,onTimeKeydown:J,onTimeKeyup:le,title:A(()=>L?.format(o.value).textValue),monthYear:A(()=>{const B=new Date(i.value.getTime());return N?.format(B).textValue}),hours:A(()=>k("hour","00")),minutes:A(()=>k("minute","00")),selDate:o,focusedDate:s,editingYear:a,cells:A(()=>B1(i.value,m.value).grid.reduce((B,H)=>(B.push(...H),B),[])),mounted:B=>{n=B},unmounted:()=>{n=null}}}}),jx={key:0,class:"of-date-picker-title"},Ux=["onblur","onVnodeMounted","onkeydown","value"],Kx=["onClick"],Wx={class:"time-value"},qx={class:"time-value"},Gx={key:1,class:"of-date-picker-buttons"},Jx={key:0,class:"of-calendar-today"};function Yx(e,t,n,o,r,s){const i=K("of-icon"),a=K("OfButton");return P(),W("div",{role:"menu",class:Xe(["of-menu of-datepicker-popup of--elevated-1",{"with-time":e.withTime,"with-date":e.withDate}]),"on:vueMounted":t[25]||(t[25]=(...l)=>e.mounted&&e.mounted(...l)),"on:vueUnmounted":t[26]||(t[26]=(...l)=>e.unmounted&&e.unmounted(...l)),onKeydown:t[27]||(t[27]=(...l)=>e.onPopupKeydown&&e.onPopupKeydown(...l))},[e.withDate&&!e.withoutTitle?(P(),W("div",jx,Fe(e.title),1)):$e("",!0),g("div",{class:"of-datepicker-selectors",onSelectstart:t[24]||(t[24]=jt(()=>{},["prevent"]))},[e.withDate?(P(),W("div",{key:0,ref:"dateSelector",class:"of-datepicker-grid",tabindex:"0",onKeydown:t[5]||(t[5]=(...l)=>e.onDateKeydown&&e.onDateKeydown(...l))},[g("div",{class:"of-datepicker-nav-button prev",onClick:t[0]||(t[0]=(...l)=>e.prevMonth&&e.prevMonth(...l))},[b(i,{name:"arrow left"})]),e.editingYear?$e("",!0):(P(),W("div",{key:0,class:"of-date-picker-cur-year",tabindex:"0",onClick:t[1]||(t[1]=()=>e.editYear(!0)),onKeydown:[t[2]||(t[2]=Yr(jt(()=>e.editYear(!0),["prevent","stop"]),["enter"])),t[3]||(t[3]=Yr(jt(()=>e.editYear(!0),["prevent","stop"]),["space"]))]},Fe(e.monthYear),33)),e.editingYear?(P(),W("input",{key:1,class:"of-date-picker-cur-year",type:"text",size:"4",maxlength:"4",onblur:()=>e.editYear(!1),onVnodeMounted:e.focusYearInput,onkeydown:e.yearInputHandler,value:e.selMonthStart.getFullYear()},null,8,Ux)):$e("",!0),g("div",{class:"of-datepicker-nav-button next",onClick:t[4]||(t[4]=(...l)=>e.nextMonth&&e.nextMonth(...l))},[b(i,{name:"arrow right"})]),(P(!0),W(Pe,null,ct(e.cells,l=>(P(),W("div",{key:l.date.toString(),class:Xe(["picker-date",{"selected-date":e.checkSelected(l),"focused-date":e.checkFocused(l),today:l.today,"other-month":l.otherMonth}]),onClick:c=>l.otherMonth?null:e.selectDate(l.date)},Fe(l.date.getDate()),11,Kx))),128))],544)):$e("",!0),e.withTime?(P(),W("div",{key:1,class:"of-time-selector",tabindex:"0",ref:"timeSelector",onKeydown:t[22]||(t[22]=(...l)=>e.onTimeKeydown&&e.onTimeKeydown(...l)),onKeyup:t[23]||(t[23]=(...l)=>e.onTimeKeyup&&e.onTimeKeyup(...l))},[t[28]||(t[28]=g("div",null,null,-1)),t[29]||(t[29]=g("div",null,null,-1)),t[30]||(t[30]=g("div",null,null,-1)),t[31]||(t[31]=g("div",null,null,-1)),t[32]||(t[32]=g("div",null,null,-1)),t[33]||(t[33]=g("div",null,null,-1)),b(i,{onMousedown:t[6]||(t[6]=l=>e.timeClickHandler("h",1)),onMouseup:t[7]||(t[7]=l=>e.timeClickHandler()),onMouseleave:t[8]||(t[8]=l=>e.timeClickHandler()),onBlur:t[9]||(t[9]=l=>e.timeClickHandler()),name:"select up",scale:"lg",class:"time-picker-arrow"}),t[34]||(t[34]=g("div",null,null,-1)),b(i,{onMousedown:t[10]||(t[10]=l=>e.timeClickHandler("m",1)),onMouseup:t[11]||(t[11]=l=>e.timeClickHandler()),onMouseleave:t[12]||(t[12]=l=>e.timeClickHandler()),onBlur:t[13]||(t[13]=l=>e.timeClickHandler()),name:"select up",scale:"lg",class:"time-picker-arrow"}),t[35]||(t[35]=g("div",null,null,-1)),t[36]||(t[36]=g("div",null,null,-1)),g("div",Wx,Fe(e.hours),1),t[37]||(t[37]=g("div",{class:"time-value"},":",-1)),g("div",qx,Fe(e.minutes),1),t[38]||(t[38]=g("div",null,null,-1)),t[39]||(t[39]=g("div",null,null,-1)),b(i,{onMousedown:t[14]||(t[14]=l=>e.timeClickHandler("h",-1)),onMouseup:t[15]||(t[15]=l=>e.timeClickHandler()),onMouseleave:t[16]||(t[16]=l=>e.timeClickHandler()),onBlur:t[17]||(t[17]=l=>e.timeClickHandler()),name:"select down",scale:"lg",class:"time-picker-arrow"}),t[40]||(t[40]=g("div",null,null,-1)),b(i,{onMousedown:t[18]||(t[18]=l=>e.timeClickHandler("m",-1)),onMouseup:t[19]||(t[19]=l=>e.timeClickHandler()),onMouseleave:t[20]||(t[20]=l=>e.timeClickHandler()),onBlur:t[21]||(t[21]=l=>e.timeClickHandler()),name:"select down",scale:"lg",class:"time-picker-arrow"}),t[41]||(t[41]=g("div",null,null,-1)),t[42]||(t[42]=g("div",null,null,-1)),t[43]||(t[43]=g("div",null,null,-1)),t[44]||(t[44]=g("div",null,null,-1)),t[45]||(t[45]=g("div",null,null,-1)),t[46]||(t[46]=g("div",null,null,-1))],544)):$e("",!0)],32),e.useButtons||e.showTodayButton&&e.withDate?(P(),W("div",Gx,[e.showTodayButton&&e.withDate?(P(),W("div",Jx,[b(a,{label:"Today",variant:"text",onclick:e.selectToday},null,8,["onclick"])])):$e("",!0),e.useButtons?(P(),W(Pe,{key:1},[b(a,{icon:"cancel",onclick:e.onCancel,variant:"text"},null,8,["onclick"]),b(a,{icon:"accept",onclick:e.onAccept,variant:"text"},null,8,["onclick"])],64)):$e("",!0)])):$e("",!0)],34)}const U1=cn(Fx,[["render",Yx]]),Zx=e=>D(U1,{date:e.selectedDate.value,monthStart:e.monthStart.value,weekStart:e.weekStart,withTime:e.withTime,withDate:e.withDate,showTodayButton:e.showTodayButton,accept:e.close,onBlur:()=>e.close()}),jf=(e,t,n)=>be({name:t,class:n,props:{...ko,weekStart:{type:Number,default:void 0},showTodayButton:{type:Boolean,default:!0},inDataTable:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue"],setup(o,r){const s=ei(o,r),i=e=="datetime"||e=="time",a=e=="datetime"||e=="date",l=!s.required,c=Gn(),u=C(),d=C(!1),f=A(()=>{switch(e){case"date":return c.getTextFormatter("date");case"time":return c.getTextFormatter("time");default:return c.getTextFormatter("datetime")}}),p=F=>{const E=f.value;try{const T=E.loadValue(F);T instanceof Date&&(F=T)}catch{}return F},h=A(()=>{let F=s.initialValue;return F===void 0&&(F=o.defaultValue),F=p(F),F??null}),m=C(),v=C(!1);let y;const w=A(()=>{let F=s.id;return F||(y||(y=wo()),F=y),F}),k=C(new Date),S=C(new Date),M=C(new Date),L=()=>{u.value?.focus()},N=F=>{v.value=!1,F&&L(),r.emit("blur")},V=F=>{let E=!1;if(F.type=="keydown"){const T=F;(T.key==" "||T.key=="Enter")&&(E=!0)}else E=!0;E&&(F.stopPropagation(),F.preventDefault(),s.onUpdate?.(""),o.inDataTable||L())};Ae(()=>o.mode,F=>{F==="editable"&&o.inDataTable&&_()}),Ae(()=>s.value,F=>{(F===void 0||F==="")&&(F=null);const E=p(F);E instanceof Date?(k.value=E,M.value=E,m.value=F):(k.value=new Date,M.value=new Date,m.value="")},{immediate:!0});const _=F=>(S.value=new Date(k.value.valueOf()),M.value=new Date(k.value.valueOf()),v.value=!0,!1),G=F=>{F&&s.onUpdate&&s.onUpdate(f.value.formatPortable(F)),N(!0)},te=()=>Zx({close:G,onBlur:N,selectedDate:S,monthStart:M,withTime:i,withDate:a,weekStart:o.weekStart,showTodayButton:o.showTodayButton}),Y={onBlur(F){d.value=!1},onFocus(F){r.emit("focus"),d.value=!0},onKeydown(F){[" ","Enter"].includes(F.key)&&(s.editable&&_(),F.preventDefault(),F.stopPropagation())}},q={interactiveContent:()=>{const F=m.value?f.value?.format(m.value)?.textValue:"";return[D("div",{class:["of-field-content-text","of--align-"+(o.align||"start")],id:w.value,tabindex:s.mode==="fixed"?-1:0,ref:u,...Y},F)]},append(){if(s.interactive)return[a?D(Zt,{name:"date",size:o.scale||"input"}):null,i&&!a?D(Zt,{name:"time",size:"input"}):null,l&&!(!s.editable||s.mode==="locked")&&m.value?D(Zt,{name:"cancel circle",size:o.scale||"input",tabindex:"0",class:"of-icon-clear-calendar",onClick:V,onKeydown:V}):null]}},$=Yo({focused:d,updated:A(()=>h.value!==m.value),cursor:A(()=>s.editable?"pointer":"default"),click:A(()=>s.editable?_:null),inputId:w,popup:{content:()=>v.value?te():null,visible:v,onBlur:N},value:m});return Zo($),()=>D(Xo,o,{...q,...r.slots})}}),K1=jf("datetime","OfDatetimeField","of-datetime-field"),W1=jf("date","OfDateField","of-date-field"),q1=jf("time","OfTimeField","of-time-field"),Xx=be({name:"OfDialog",components:{OfOverlay:Jo},inheritAttrs:!1,props:{class:String,id:String,loading:Boolean,modelValue:Boolean,resize:{type:Boolean,default:!1},dragAndDrop:{type:Boolean,default:!0},transition:{type:String,default:"slide-down"},hideOnBlur:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:function(e,t){const n=C(),o='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]',r=S=>{const M=n.value.querySelectorAll(o)[0],L=n.value.querySelectorAll(o),N=L[L.length-1];(S.key==="Tab"||S.keyCode===9)&&(S.shiftKey?document.activeElement===M&&(N.focus(),S.preventDefault()):(document.activeElement===N||!n.value.contains(document.activeElement))&&(M.focus(),S.preventDefault()))};Ae(()=>n.value,S=>{if(!S){document.removeEventListener("keydown",r);return}document.addEventListener("keydown",r)}),cs(()=>{document.removeEventListener("keydown",r)});const s=C(),i=C(e.modelValue),a=10,l=85;let c=C(100),u=C({1:0,2:0,3:0,4:0}),d=C(),f=C();Ae(()=>e.modelValue,S=>{i.value=S});const p=S=>{S.preventDefault(),window.innerWidth>800&&(document.documentElement.addEventListener("mousemove",h,!1),document.documentElement.addEventListener("mouseup",m,!1))};function h(S){S.preventDefault();const M=n.value.querySelector(".of-dialog-content"),L=parseInt(window.getComputedStyle(M).width,10),N=parseInt(window.getComputedStyle(M).height,10),V=n.value.querySelector(".dialog-resizer")?.getBoundingClientRect();if(!V)return;let _=L+S.clientX-parseInt(V.x,10)-V.width/4,G=N+S.clientY-parseInt(V.y,10)-V.height/4;S.clientX<window.innerWidth-a-V.width&&(n.value.style.maxWidth="inherit",M.style.width=_+"px"),S.clientY<window.innerHeight-a-V.height&&(n.value.style.maxHeight="inherit",M.style.height=G+"px")}function m(){document.documentElement.removeEventListener("mousemove",h,!1),document.documentElement.removeEventListener("mouseup",m,!1)}const v=S=>{if(S.button===0&&(S.preventDefault(),window.innerWidth>800&&e.dragAndDrop)){const M=n.value.querySelector(".of-dialog-content");n.value.style.zIndex=""+ ++c.value,d.value=parseInt(window.getComputedStyle(M).width,10),f.value=parseInt(window.getComputedStyle(M).height,10),u.value[3]=S.clientX,u.value[4]=S.clientY,document.addEventListener("mouseup",w),document.addEventListener("mousemove",y)}};function y(S){if(!n.value)return;u.value[1]=u.value[3]-S.clientX,u.value[2]=u.value[4]-S.clientY,u.value[3]=S.clientX,u.value[4]=S.clientY;let M=n.value.offsetLeft,L=n.value.offsetTop,N=M-u.value[1],V=L-u.value[2],_=window.innerWidth-d.value-M,G=window.innerHeight-f.value-L;N<=a&&(N=a),V<=a&&(V=a),_<=a&&M<N&&(N=window.innerWidth-d.value-a),G<=l&&L<V&&(V=window.innerHeight-f.value-l),n.value.style.left=N+"px",n.value.style.top=V+"px"}function w(){document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",y)}const k=A(()=>e.class);return{active:i,classAttr:k,hide:()=>{i.value=!1,t.emit("update:modelValue",!1)},show:()=>i.value=!0,dialog:n,dialogHeader:s,dragAndDropAction:v,resizeAction:p}}}),Qx={class:"of-dialog-outer"},eA=["id"],tA={class:"of-dialog-content"},nA={class:"of-dialog-footer"};function oA(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-overlay");return P(),ot(a,{active:e.active,onBlur:t[3]||(t[3]=l=>e.hideOnBlur?e.hide():void 0)},{default:j(({active:l})=>[g("div",Qx,[l?(P(),W("div",{key:0,ref:"dialog",role:"dialog",id:e.id,class:Xe(["of-dialog",e.classAttr])},[g("div",Ke({class:["of-dialog-header",{"drag-and-drop":e.dragAndDrop}],ref:"dialogHeader"},Sl({mousedown:e.dragAndDrop?e.dragAndDropAction:null},!0)),[e.showCloseButton?(P(),W("div",{key:0,class:"dialog-close",tabindex:"0",onClick:t[0]||(t[0]=c=>e.hide()),onKeydown:t[1]||(t[1]=Yr(c=>e.hide(),["enter"]))},[b(i,{name:"cancel"})],32)):$e("",!0),Qe(e.$slots,"header")],16),g("div",tA,[Qe(e.$slots,"default")]),g("div",nA,[e.resize?(P(),W("div",{key:0,class:"dialog-resizer",onMousedown:t[2]||(t[2]=(...c)=>e.resizeAction&&e.resizeAction(...c))},[b(i,{name:"popup resize"})],32)):$e("",!0),Qe(e.$slots,"footer")])],10,eA)):$e("",!0)])]),_:3},8,["active"])}const rA=cn(Xx,[["render",oA]]),sA=be({name:"OfFocusGroup",props:{focused:Boolean},emits:["focus","blur"],setup(e,t){const n={focused:C(!!e.focused)};return Ae(n.focused,o=>{o?t.emit("focus"):t.emit("blur")}),QS({focus(){n.focused.value=!0},blur(){n.focused.value=!1}}),{state:n}}});function iA(e,t,n,o,r,s){return Qe(e.$slots,"default",{state:e.state})}const aA=cn(sA,[["render",iA]]),lA=be({name:"OfFormat",props:{type:[String,Function,Object],options:Object,value:{type:[String,Boolean,Number,Array,Object],default:void 0}},setup(e){const t=Gn(),n=A(()=>e.type?t.getTextFormatter(e.type,e.options):void 0);return()=>{const o=n.value;if(o){const r=o.format(e.value);if(r)return D("span",{class:r.textClass},r.textValue)}return e.value===void 0?"":""+e.value}}}),cA=be({name:"OfTooltip",props:{text:String,position:{type:String,default:"right"}},setup(e,t){const n=C({}),o=C(),r=C(),s=C(!1),i=a=>{const l=a.target?.getBoundingClientRect();let c=o.value.getBoundingClientRect();const u=6,d=5,f=document.body.clientWidth-u-d,p=Math.round(l.width+u);r.value=e.position==="right"?c.right+p>f&&l.left-u>f-(l.left+u)?"left":"right":c.width+u>l.left&&f-l.right>l.left?"right":"left";const h=(r.value==="left"?l.left-u:f-l.right)-d;n.value={"--tt-text-offset":u+l.width+"px","max-width":Math.round(h-16)+"px",bottom:""},ut(()=>{c=o.value.getBoundingClientRect(),n.value.bottom=Math.round((l.height-c.height)/2)+"px"})};return()=>D("div",{role:"tooltip","aria-label":e.text,class:"of-tooltip"},D("div",{class:["of-tooltip-main"],onMouseenter:a=>{n.value={},s.value=!0,ut(()=>i(a))},onMouseleave:()=>{s.value=!1}},[t.slots.default?D("div",{},t.slots.default()):D(Zt,{name:"help circle",scale:1.71}),(e.text??"")!==""?D("div",{ref:o,style:n.value,class:["of-tooltip-text","of--elevated-1",r.value,{open:s.value}],onClick:a=>{a.stopPropagation(),a.preventDefault(),s.value=!1}},[D("div",{class:"triangle"},[D("svg",{width:"3",height:"6",viewBox:"0 0 3 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[D("path",{d:"M2.41421 0V6L0.292893 3.75C-0.0976311 3.33579 -0.0976311 2.66421 0.292893 2.25L2.41421 0Z",fill:"#151713"})])]),e.text]):void 0]))}}),uA=be({name:"OfListGroup",props:{modelValue:Boolean,transition:String,value:[Boolean,String]},emits:["update:modelValue"],setup(e,t){const n=C(!!e.modelValue||e.value);return{state:n,toggle:o=>{n.value=!n.value,t.emit("update:modelValue",n.value)}}}}),dA={class:"of-list-group"};function fA(e,t,n,o,r,s){return P(),W(Pe,null,[Qe(e.$slots,"activator",jr(hr({state:e.state,toggle:e.toggle}))),b(Pf,{name:e.transition},{default:j(()=>[Pv(g("div",dA,[Qe(e.$slots,"default",{state:e.state})],512),[[j2,e.state]])]),_:3},8,["name"])],64)}const pA=cn(uA,[["render",fA]]);let hA=0;const mA=be({name:"OfPagination",components:{OfOverlay:Jo},props:{id:String,modelValue:{type:Number,required:!0},totalPages:{type:Number,required:!0},totalVisible:Number,variant:String,density:{type:[String,Number],default:null},customOffsetPopup:[Boolean,String],startRecord:Number,minPerPage:Number,perPage:Number,rounded:Boolean,ariaLabels:Object,showOnlyPage:{type:Boolean,default:!0}},emits:["update:modelValue","select-page","update-offset"],setup(e,t){const n=_c();let o=A(()=>e.modelValue||1);const r=A(()=>e.totalVisible||5),s=C(null);let i;const a=A(()=>{let q=e.id;return q||(i||(i="of-pagination-"+ ++hA),q=i),q}),l=A(()=>e.variant||"default"),c=A(()=>e.density||"default"),u=function(){if(e.totalPages<=r.value)return 1;{let q=2;r.value<=q+1&&(q=1);let $=o.value-q;$=Math.max(1,$);const F=$+r.value-1;return F>e.totalPages&&($-=F-e.totalPages),$}},d=function(){if(e.totalPages<=r.value)return e.totalPages;{let q=u()+r.value-1;return q>e.totalPages&&(q=e.totalPages),q}},f=A(()=>{const q=u(),$=d();let F=[];for(let E=q;E<=$;E++)F.push(E);return F.length>1||e.showOnlyPage?F:[]}),p=A(()=>e.totalPages<=r.value?!1:u()>1),h=A(()=>e.totalPages<=r.value?!1:d()<e.totalPages),m=function(q){_(),t.emit("update:modelValue",q);const $={page:q,startRecord:k.value,perPage:S.value};t.emit("select-page",$)},v=()=>{ut(()=>{const q=s.value?.$el?.querySelector("button");q&&q.focus()})},y=function(){m(1),v()},w=function(){m(e.totalPages),v()},k=C(e.startRecord||1);Ae(()=>e.startRecord,q=>{k.value=q});const S=C(e.perPage||20),M=C(e.minPerPage||1);Ae(()=>e.perPage,q=>{S.value=q}),va(()=>{k.value<=0&&(k.value=1),S.value<M.value&&(S.value=M.value)});const L=A(()=>e.customOffsetPopup||!1),N=C(!1),V=()=>{N.value=!0},_=()=>{N.value=!1},G={hidden:!1,label:n.value.startAt,readOnly:!1,class:"of--small"},te={hidden:!1,label:n.value.perPage,readOnly:!1,class:"of--small"},Y=A(()=>{const q=[5,10,15,20,25,30,40,50,60,70,80,90,100];let $=[];for(const F of q)$.push({text:F,value:F,disabled:!1});return $});return{variantVal:l,densityVal:c,page:o,pages:f,outerId:a,activeButton:s,showGoToFirst:p,showGoToLast:h,onSelectPage:m,goToFirst:y,goToLast:w,showCustomOffsetPopup:L,offsetPopupOpened:N,openOffsetPopup:V,closeOffsetPopup:_,startAtValue:k,startAtField:G,perPageField:te,perPageValue:S,pageItems:Y,updateOffsetParams:function(){_();const q={page:o.value,startRecord:k.value,perPage:S.value};t.emit("update-offset",q)},lang:n}}}),gA=["id"],vA={class:"of-pagination-header"},yA=["aria-label"],bA={role:"menu",class:"of-menu of-pagination-offset of--elevated-1"},wA={class:"of-group-row of--pad"},kA={class:"of-group-row of--pad"};function CA(e,t,n,o,r,s){const i=K("of-button"),a=K("of-text-field"),l=K("of-overlay");return P(),W("div",{id:e.outerId,class:"of-pagination"},[g("div",vA,[g("span",{class:Xe(["of-buttonset",{"of-buttonset--rounded":e.rounded,"of--elevated":e.variant=="elevated"}]),"aria-label":e.ariaLabels?.pagination??"Pagination"},[e.showGoToFirst?(P(),ot(i,{key:0,icon:"page first","aria-label":e.ariaLabels?.first??"Go To First",variant:e.variantVal,density:e.densityVal,onClick:t[0]||(t[0]=c=>e.goToFirst())},null,8,["aria-label","variant","density"])):$e("",!0),(P(!0),W(Pe,null,ct(e.pages,c=>(P(),ot(i,{key:c,active:e.page===c,ref_for:!0,ref:e.page===c?"activeButton":null,variant:e.variantVal,density:e.densityVal,"aria-label":(e.ariaLabels?.page??"Page")+" "+c,onClick:u=>e.onSelectPage(c)},{default:j(()=>[ce(Fe(c),1)]),_:2},1032,["active","variant","density","aria-label","onClick"]))),128)),e.showGoToLast?(P(),ot(i,{key:1,icon:"page last","aria-label":e.ariaLabels?.last??"Go To Last",variant:e.variantVal,density:e.densityVal,onClick:t[1]||(t[1]=c=>e.goToLast())},null,8,["aria-label","variant","density"])):$e("",!0),e.showCustomOffsetPopup?(P(),ot(i,{key:2,id:e.outerId+"-expand",icon:"select down",variant:e.variantVal,density:e.densityVal,"aria-label":e.ariaLabels?.expand??"Expand",onClick:e.openOffsetPopup},Rc({_:2},[e.$slots["custom-offset-button"]?{name:"default",fn:j(()=>[Qe(e.$slots,"custom-offset-button")]),key:"0"}:void 0]),1032,["id","variant","density","aria-label","onClick"])):$e("",!0)],10,yA)]),b(l,{active:e.offsetPopupOpened,shade:!1,target:"#"+e.outerId+"-expand",onBlur:t[6]||(t[6]=c=>e.closeOffsetPopup())},{default:j(()=>[e.showCustomOffsetPopup?Qe(e.$slots,"custom-offset-popup",{key:0},()=>[g("div",bA,[g("form",{class:"of-group",method:"POST",action:"#",onSubmit:t[5]||(t[5]=jt(c=>e.updateOffsetParams(),["prevent"]))},[g("div",wA,[b(a,Ke(e.startAtField,{modelValue:e.startAtValue,"onUpdate:modelValue":t[2]||(t[2]=c=>e.startAtValue=c),modelModifiers:{number:!0},"input-type":"number"}),null,16,["modelValue"]),b(a,Ke(e.perPageField,{modelValue:e.perPageValue,"onUpdate:modelValue":t[3]||(t[3]=c=>e.perPageValue=c),modelModifiers:{number:!0},"input-type":"number"}),null,16,["modelValue"])]),g("div",kA,[b(i,{icon:"accept",onClick:t[4]||(t[4]=c=>e.updateOffsetParams())},{default:j(()=>[ce(Fe(e.lang.update),1)]),_:1})])],32)])]):$e("",!0)]),_:3},8,["active","target"])],8,gA)}const SA=cn(mA,[["render",CA]]),xA=be({name:"OfSelectPopup",props:{name:String,items:{type:[String,Array,Object],required:!0},multi:Boolean,addRemove:Boolean,closeAfterSelect:{type:Boolean,default:!0},addSearch:{type:Boolean,default:!0},closePopup:Function,value:[String,Array],class:[String,Array,Object]},emits:["updateValue","keydown:escape"],setup(e,t){const n=_c(),o=ba(),r=Ca(o),s=C(!1),i=p=>e.multi?!!~(Array.isArray(e.value)?e.value:[]).indexOf(p):e.value===p,a=p=>{if(!e.multi)return p;if(!Array.isArray(e.value))return[p];let h=!1;const m=e.value.filter(v=>v===p?(h=!0,!1):!0);return h||m.push(p),m},l=()=>{if(e.addRemove)return D("div",{style:"padding: 4px; display: flex; flex-direction: column; align-items: center"},D("div",{class:"of-buttonset"},[D(Bs,{variant:"outlined",active:!s.value,onClick:()=>s.value=!1},()=>n.value.selectFieldAddItems),D(Bs,{variant:"outlined",active:s.value,onClick:()=>s.value=!0},()=>n.value.selectFieldRemoveItems)]))},c=A(()=>_1(r,e.items)),u=A(()=>{const p=c.value,h=[];for(const m of p.items)typeof m=="string"?h.push({disabled:!1,text:m,selected:i(m),value:m}):typeof m=="object"&&h.push({disabled:p.disabledKey&&m[p.disabledKey],text:p.textKey&&m[p.textKey],selectedText:p.selectedTextKey&&m[p.selectedTextKey],value:p.valueKey&&m[p.valueKey],selected:p.valueKey&&i(m[p.valueKey]),special:p.specialKey&&m[p.specialKey],icon:(p.iconKey&&m[p.iconKey])??"",class:(p.classKey&&m[p.classKey])??""});return h}),d=A(()=>{if(!e.multi||!e.addRemove)return u.value;const p=Array.isArray(e.value)?e.value:[],h=s.value;return u.value.filter(m=>m.special||h==!!~p.indexOf(m.value))}),f=(p,h,m)=>{m?.stopPropagation(),m?.preventDefault();const v=a(p);t.emit("updateValue",v),e.multi||!e.closeAfterSelect||m?.shiftKey||(s.value=!1,e.closePopup?.(!0))};return()=>D(Qs,{items:d.value,class:e.class,onClick:f,onKeydown(p){p.key=="Escape"&&t.emit("keydown:escape")},addSearch:e.addSearch},{header:()=>l()})}}),G1=be({name:"OfSelectField",props:{...ko,multi:Boolean,addRemove:Boolean,closeAfterSelect:{type:Boolean,default:!0},inDataTable:{type:Boolean,default:!1}},emits:["focus","blur","update:modelValue"],setup(e,t){const n=_c(),o=ba(),r=Ca(o),s=ei(e,t);let i;const a=A(()=>{let E=s.initialValue;return E===void 0&&(E=e.defaultValue),E??null}),l=C(),c=C(),u=C(),d=C();Ae(()=>e.mode,E=>{E==="editable"&&L()}),Ae(()=>s.value,E=>{(E===void 0||E==="")&&(E=null),c.value=E,d.value=E,u.value=void 0},{immediate:!0});const f=C(),p=C(!1);let h;const m=A(()=>{let E=s.id;return E||(h||(h=wo()),E=h),E}),v=C(!1),y=A(()=>_1(r,e.items,e.name,e.record)),w=E=>{const T=y.value;let J,le={},ye=0;for(const Me of T.items){if(typeof Me=="string")J=Me;else if(typeof Me=="object"){if(T.specialKey&&Me[T.specialKey]){ye++;continue}J=T.valueKey&&Me[T.valueKey]}if(J===""&&(J=null),J===E){typeof Me=="string"?le={idx:ye,item:{value:Me,text:Me}}:le={idx:ye,item:Me};break}ye++}return le};let k=null;const S=E=>(v.value?M():s.editable&&!k&&(v.value=!0),!1),M=E=>{t.emit("blur"),v.value&&(v.value=!1,k&&clearTimeout(k),k=window.setTimeout(()=>{k=null},150),E&&!e.inDataTable&&L())},L=()=>{const E=f.value;E&&E.focus()},N=E=>{if(!e.multi)return E;if(!Array.isArray(c.value))return[E];let T=!1;const J=c.value.filter(le=>le===E?(T=!0,!1):!0);return T||J.push(E),J},V=(E,T,J)=>{const le=N(E);c.value=le,s.onUpdate?.(le),e.multi||!e.closeAfterSelect||J?.shiftKey||M(!0)},_=E=>{const T=w(E),J=T.item?.selectedText||T.item?.text||"";return T.item?.class?D("span",{class:T.item.class},J):J},G=()=>_(c.value),te=()=>(Array.isArray(c.value)?c.value:[]).map(E=>D(M1,{status:"primary",style:"margin-bottom:0",density:3},()=>[_(E),s.editable?D(Zt,{class:"remove-item",name:"cancel",size:"14px",tabindex:0,ariaLabel:n.value.remove+" "+_(E),onClick:T=>{T.stopPropagation(),V(E)},onKeydown(T){T.code==="Enter"&&(T.stopPropagation(),V(E),L())}}):void 0])),Y={onBlur(){p.value=!1},onFocus(E){t.emit("focus"),p.value=!0,l.value=""},onKeydown(E){(E.key==" "||E.key=="ArrowUp"||E.key=="ArrowDown")&&(S(),E.preventDefault(),E.stopPropagation())}},q={append:()=>{if(s.editable||s.mode==="locked")return D(Zt,{class:"of-select-icon",name:v.value?"select up":"select down",size:"input"})},interactiveContent:()=>{const E=e.multi?te():G();return[D("div",{role:"textbox",class:["of-field-content-text","of--align-"+(e.align||"start")],id:m.value,ref:f,tabindex:s.mode==="fixed"?-1:0,ariaLabel:s.ariaLabel??e.label??d.value??" ",...Y},E)]}},$={onMouseenter:()=>{clearTimeout(i)},onMouseleave:()=>{if(!v.value)return!1;i=window.setTimeout(()=>{M()},500)}},F=Yo({blank:A(()=>{if(e.multi)return!Array.isArray(c.value)||!c.value.length;if(!w(c.value).item)return!0;const E=c.value;return E==null||E===""}),class:"of-select-field",click:S,...$,cursor:A(()=>s.editable?"pointer":null),focus:L,focused:p,inputId:m,inputValue:c,pendingValue:u,popup:{content:()=>v.value?D(xA,{items:y.value,multi:e.multi,addRemove:e.addRemove,closeAfterSelect:e.closeAfterSelect,closePopup:M,value:c.value,onUpdateValue:E=>{s.onUpdate?.(E)},"onKeydown:escape":()=>M(),class:"of--elevated-1",...$}):void 0,visible:v,capture:!1},updated:A(()=>a.value!==d.value),value:d});return Zo(F),()=>D(Xo,e,{...q,...t.slots})}}),AA=be({name:"OfSidebar",components:{OfOverlay:Jo},inheritAttrs:!1,props:{class:String,embed:Boolean,id:String,loading:Boolean,modelValue:Boolean,capture:{type:Boolean,default:!0},shade:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,t){const n=C(e.modelValue);Ae(()=>e.modelValue,a=>{n.value=a});const o=A(()=>e.embed),r=A(()=>e.class),s=()=>{n.value=!1,t.emit("update:modelValue",!1)},i=()=>n.value=!0;return{activeSlot:n,idVal:A(()=>e.id),classAttr:r,embedVal:o,hide:s,show:i}}}),MA=["id"];function TA(e,t,n,o,r,s){const i=K("of-overlay");return P(),ot(i,{active:e.activeSlot,align:"left",pad:!1,embed:e.embedVal,capture:e.capture,shade:e.shade,onBlur:e.hide},{default:j(({state:a})=>[b(Pf,{name:a==="overlay"?"slide-right":void 0},{default:j(()=>[e.activeSlot?(P(),W("nav",{key:0,class:Xe(["of-sidebar",e.classAttr]),id:e.idVal,role:"navigation"},[Qe(e.$slots,"default")],10,MA)):$e("",!0)]),_:3},8,["name"])]),_:3},8,["active","embed","capture","shade","onBlur"])}const EA=cn(AA,[["render",TA]]);function $u(e){if(typeof e=="number")return Math.round(e);if(e!=null)return parseInt(e,10)}const J1=be({name:"OfSliderField",props:{...ko,min:[String,Number],max:[String,Number],step:[String,Number]},setup(e,t){const n=C(0),o=C(),r=C("of-slider-thumb"),s=xa(e,t),i=A(()=>{let T=s.initialValue;return T===void 0&&(T=e.defaultValue),T??null}),a=A(()=>{let T=$u(e.min)??0,J=$u(e.max)??100;if(T>J){const Me=J;J=T,T=Me}const le=J-T,ye=Math.max(0,Math.min(le,$u(e.step)??1));return{min:T,max:J,delta:le,step:ye}});Ae(()=>s?.value||null,T=>{isNaN(T)&&(T=a.value.min+(a.value.max-a.value.min)/2),n.value=T,o.value=T},{immediate:!0});const l=T=>{const{delta:J,step:le,min:ye,max:Me}=a.value;return J&&le&&(T=Math.round((T-ye)/le)*le+ye),T=Math.max(ye,Math.min(Me,T)),T};let c,u=n.value,d=0,f=0;const p=jn(),h=jn(),m=jn(),v=jn(),y=jn(),w=C(0),k=C(!1),S=()=>{p.value?.focus()},M=A(()=>{let T=s.id;return T||(c||(c=wo()),T=c),T}),L={onBlur(T){k.value=!1},onFocus(T){k.value=!0},onKeydown(T){T.key=="ArrowUp"||T.key=="ArrowRight"?Y(l(n.value+a.value.step)):T.key=="ArrowDown"||T.key=="ArrowLeft"?Y(l(n.value-a.value.step)):T.key=="Escape"&&(n.value=o.value,_())}},N={onMousedown(T){!h.value||!s.editable||T.button!==0||(T.stopPropagation(),T.preventDefault(),S(),d=T.pageX,f=n.value,document.addEventListener("mousemove",te),document.addEventListener("mouseup",G),te(T))},onTouchstart(T){T.stopPropagation(),T.cancelable&&T.preventDefault(),d=T.targetTouches[0].pageX,f=n.value,document.addEventListener("touchmove",te),document.addEventListener("touchend",G),te(T)}},V={onMousedown(T){const J=v.value;if(!J||!s.editable||T.button!==0)return;const le=J.getBoundingClientRect();le?.width&&(T.stopPropagation(),T.preventDefault(),S(),d=T.pageX,f=l((d-le.left)*a.value.delta/le.width+a.value.min),n.value=f,document.addEventListener("mousemove",te),document.addEventListener("mouseup",G))}},_=()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",G),document.removeEventListener("touchmove",te),document.removeEventListener("touchend",G),r.value="of-slider-thumb"},G=()=>{_(),Y(n.value)},te=T=>{const J=w.value;r.value="of-slider-thumb of--moved",J&&(n.value=l(f+((T?.targetTouches?.[0].pageX??T.pageX)-d)*a.value.delta/J),q(h.value,y.value))},Y=T=>{u=T,n.value=T,o.value=T,p.value&&(p.value.value=""+T),s.onUpdate&&s.onUpdate(T)},q=(T,J)=>{if(!T||!J)return;let le=Math.round(w.value/a.value.delta*n.value);le=le-T.offsetWidth+T.offsetWidth*.7,le<=0&&(le=0),J.style.width=le.toString()+"px"},$=Pc({immediate:!0});Ae($.positions,T=>{const J=T.values().next().value;w.value=Math.round(J?.width||0)}),Ae(v,T=>{$.disconnect(),T&&y&&$.observe(T)}),va(()=>{const{delta:T,min:J}=a.value,le=w.value,ye=n.value,Me=h.value,me=y.value;if(Me&&T&&le&&me){const X=(ye-J)*le/T*100/100+Me.offsetWidth;Me.style.left=X+"px",q(Me,me)}});const F={interactiveContent:()=>D("div",{class:{"of-slider":!0,"of--focused":k.value},onVnodeMounted:()=>{ut(()=>sl(v))},...V},[D("input",{id:M.value,name:s.name,ref:p,type:"text",class:"of-field-input",value:u,role:"slider","aria-describedby":e.label,"aria-valuemin":a.value.min,"aria-valuemax":a.value.max,"aria-valuenow":u,"aria-orientation":"horizontal",...L}),D("div",{class:r.value,ref:h,...N},D("div",{ref:m,class:"of-slider-label-container"},n.value)),D("div",{class:"of-slider-track",ref:v},D("div",{class:"of-slider-track-process",ref:y}))])},E=Yo({class:"of-slider-field",focus:S,focused:k,inputId:M,pendingValue:n,updated:A(()=>i.value!==o.value),undecorated:!0,value:o});return Zo(E),()=>D(Xo,e,{...F,...t.slots})}}),Wh=e=>{let t=e?.offsetWidth??0;if(e instanceof HTMLElement){const n=window.getComputedStyle(e,null);t+=parseFloat(n.marginLeft),t+=parseFloat(n.marginRight)}return t},Nd=(e,t,n=!0,o=!1)=>{const r=[];for(const s of e){let i="",a;i=s[t.textKey]?s[t.textKey]:"",!(i===""&&!s[t.iconKey])&&(o&&s.alwaysOverflow===!0&&(s.visible=!1),!(n&&s.visible===!1)&&(!n&&s.visible===!0||(s.subMenuItems&&(a=Nd(s.subMenuItems,t,!0,!1)),r.push({disabled:s[t.disabledKey]?s[t.disabledKey]:!1,icon:s[t.iconKey]?s[t.iconKey]:"",overflowButton:!1,text:s[t.textKey],ariaLabel:s.ariaLabel||s[t.textKey],key:parseInt(s.key),value:parseInt(s.key),selected:!1,parentKey:isNaN(s.parentKey)?void 0:parseInt(s.parentKey),visible:s.visible,params:s.params??void 0,attrs:s.attrs??void 0,subMenuItems:a,subMenuSlots:s.subMenuSlots,field:s.field,class:s.class??void 0,id:s.id,count:s.count>99?"99+":s.count}))))}return n&&o&&r.push({disabled:!1,icon:"more alt",overflowButton:!0,text:"",key:-1,parentKey:void 0}),r},$A=be({name:"OfTabs",components:{OfOverlay:Jo,OfOptionList:Qs},props:{items:{type:[String,Object,Array]},modelValue:Number,scrolling:{type:Boolean,default:!1},overflowButton:{type:Boolean,default:!1},showActiveTab:{type:Boolean,default:!0},variant:String,density:[String,Number],rounded:Boolean,withBorder:Boolean,activeOffset:String,topTabs:{type:Boolean,default:!1},params:{type:Object,required:!1},submenu:Boolean},emits:{"update:modelValue":null,"update:overflowOpened":null,"select-tab":null,"hover-tab":null,"leave-tab":null},setup(e,t){const n=Js();let o=C([]),r=C(),s=C(e.modelValue),i=C([]);const a=A(()=>e.activeOffset?{"--tab-active-border":e.activeOffset}:{}),l=A(()=>e.topTabs?{minWidth:re.value+"px"}:{}),c=A(()=>e.params?.overlayClassname),u=A(()=>{let ie=e.density;return ie==="default"?ie=void 0:typeof ie=="string"&&(ie=parseInt(ie,10),isNaN(ie)&&(ie=void 0)),typeof ie!="number"&&(ie=n.defaultDensity),typeof ie!="number"&&(ie=2),Math.max(0,Math.min(3,ie||0))}),d=A(()=>Array.isArray(e.items)?[...e.items]:[]);Ae(()=>e.modelValue,ie=>{s.value=ie,ut(()=>{$(),F()})}),Ae(()=>[d.value,e.variant,e.withBorder,e.overflowButton],()=>{_(),Y()});const f=A(()=>Pc());Ae(f.value.positions,()=>$());const p=A(()=>e.variant||"material"),h=A(()=>"of--variant-"+p.value);let m=A(()=>e.params?.submenuCloseDelay===void 0?500:e.params?.submenuCloseDelay);const v=A(()=>e.overflowButton||!1);let y=C(!1);const w=A(()=>e.scrolling&&p.value!=="osx"&&!v.value),k=A(()=>e.scrolling&&p.value!=="osx"&&!v.value),S=A(()=>e.scrolling&&p.value!=="osx"&&!v.value),M=Ca(),L=C({}),N=C(),V=C(),_=function(){const ie={disabledKey:"disabled",iconKey:"icon",textKey:"text",items:[]};Object.assign(ie,M.getItemList(d.value));for(const I in ie.items){let Z=ie.items[I];if(typeof Z=="string"&&Z!=="")Z={text:Z,key:parseInt(I),visible:!0};else if(typeof Z=="object"&&(Z.key=parseInt(I),Z.visible=void 0,Z.subMenuItems))for(const ue in Z.subMenuItems)Z.subMenuItems[ue].visible=!0,Z.subMenuItems[ue].key=parseInt(ue),Z.subMenuItems[ue].parentKey=Z.key;Z.disabled!==!0&&(N.value=N.value??Z.key,V.value=Z.key),ie.items[I]=Z}L.value=ie},G=A(()=>Nd(L.value.items,L.value,!0,y.value)),te=A(()=>Nd(L.value.items,L.value,!1));Gv(()=>{_()}),Go(()=>{window.addEventListener("resize",T),f.value.observe(r.value),Y()}),ga(()=>{window.removeEventListener("resize",T)});const Y=function(){ut(()=>{T(),$(),F(),E()})},q=function(ie,I=150){ie=="next"?r.value.scrollTo({left:r.value.scrollLeft+I,behavior:"smooth"}):ie=="prev"&&r.value.scrollTo({left:r.value.scrollLeft-I,behavior:"smooth"})},$=function(){if(p.value!=="osx"&&o.value){const ie=o.value?.querySelector?.(".of-tab-header-item.is-active");let I=o.value?.querySelector?.(".of-tabs-line");I&&(I.style.width=ie?.clientWidth+"px",I.style.left=ie?.offsetLeft+"px")}},F=function(){if(S.value){const ie=o.value?.querySelector(".of-tab-header-item.is-active"),I=o.value?.querySelector(".of-tabs-navigation.of-tabs-navigation-prev")?.getBoundingClientRect(),Z=o.value?.querySelector(".of-tabs-navigation.of-tabs-navigation-next")?.getBoundingClientRect(),ue=ie?.getBoundingClientRect();if(!I||!Z||!ue)return;let Re=0;ue.right>Z.left?(Re=Math.round(ue.right-Z.left)+5,q("next",Re)):ue.left<I.right&&(Re=Math.round(I.right-ue.left)+5,q("prev",Re))}},E=function(){if(v.value&&!S.value){i.value=[];for(let ie of r.value?.childNodes??[]){const I=Wh(ie);!I||!ie.classList.contains("of-tab-header-item")||i.value.push(I)}}},T=function(){if(v.value&&!S.value){ee();const ie=me(s.value);let I=0,Z=-1,ue=[];y.value=!0;for(const Re of L.value.items)ie?.key===Re.key?(Me(I,!0),Z=I):Re.key!==-1&&Me(I,!1),I!==Z&&Re.key!==-1&&ue.push(I),I++;ut(()=>{J(ue)})}else y.value=!1,L.value.items.forEach((ie,I)=>{Me(I,!0)})},J=function(ie){const I=Wh(r.value);let Z=0,ue=!1;for(const Re of ie)if(Me(Re,!0),Z=ye(),Z>I){ue=!0,Me(Re,!1);break}for(const Re of L.value.items)Re.disabled!==!0&&Re.visible==!0&&(V.value=Re.key),Re.alwaysOverflow===!0&&(ue=!0);y.value=ue,ut(()=>{$()})},le=C(),ye=function(){let ie=0;le.value=o.value?.querySelector(".of-tab-header-item.overflow-button");const I=o.value?.querySelector(".of-tab-header-item.overflow-button"),Z=o.value?.querySelector(".overflow-separator");ie+=I?.offsetWidth??0,ie+=Z?.offsetWidth??0;for(const ue of G.value)ue.visible&&(ie+=i.value[ue.key]??0);return ie},Me=function(ie,I){const Z=L.value.items[ie];typeof Z<"u"&&(Z.visible=I,L.value.items[ie]=Z)},me=function(ie){for(const I of G.value)if(I.key===ie)return I;for(const I of te.value)if(I.key===ie)return I};Ae(()=>e.variant,()=>{const ie=()=>{F(),$(),o.value?.removeEventListener("transitionend",ie)};o.value?.addEventListener("transitionend",ie)});const X=(ie,I)=>{ie.pointerType==="touch"&&L.value.items[I]?.subMenuItems&&qe.value!==I?ge(I,ie.target):ae(I)},ae=function(ie,I=!0){if(e.params?.disableTabSelect)ge(ie,Oe[ie],!0);else{const Z=me(ie);Z&&Z.overflowButton?H():Z&&(t.emit("update:modelValue",ie),I&&t.emit("select-tab",Z),e.params?.showSubmenuOnClick||ut(()=>{fe(),ee(),$(),F()}))}},Ee=function(ie){const I=me(ie);I&&(t.emit("update:modelValue",ie),t.emit("select-tab",I),ut(()=>{T()})),ee()},B=C(!1),H=()=>{B.value=!B.value},ee=()=>{B.value=!1};Ae(B,ie=>t.emit("update:overflowOpened",ie));const Q=A(()=>e.submenu),de=C(!1),Ve=C(!1),x=C(!1),R=C(),z=C([]),ne=C(),re=C(0),oe=C(),Ce=(ie,I,Z=500)=>{if(!Q.value||ie==-1)return!1;if(p.value!=="osx"){ee(),pe();const ue=me(ie);if(ue&&ue.subMenuItems)return ne.value=window.setTimeout(()=>{z.value=ue.subMenuItems??[],oe.value=ue.subMenuSlots??[],R.value=I,de.value=!0,qe.value=ie},de.value?0:Z),!0;fe()}else fe();return!1},fe=()=>{qe.value=null,de.value=!1,x.value=!1,ee()},ge=(ie,I,Z=!1)=>{(!e.params?.hideSubmenuOnHover||Ne.value&&Ne.value===ie||Z)&&(re.value=Oe[ie]?.offsetWidth||0,x.value&&(Ve.value=!0,En()),Ce(ie,I,e.params?.submenuDelay))},U=(ie=void 0)=>{if(!Q.value&&ie!==-1)return!1;pe(),ne.value=window.setTimeout(()=>{fe()},m.value)},pe=()=>{clearTimeout(ne.value)},ke=function(ie,I){typeof I.parentKey<"u"&&(ae(I.parentKey,!1),fe(),t.emit("select-tab",I))},Oe={},Le=C(null),Ne=C(),qe=C();Ae(()=>Ne.value,ie=>{typeof ie>"u"?Ve.value=!1:ie==-1?Le.value=le.value:Le.value=Oe[ie]});const Je=()=>(x.value=!1,Ce(Ne.value,Le.value,0)),Ct=()=>{x.value&&En()},St=ie=>{Ne.value=ie,En(),ut(()=>{!Ve.value&&!e.params?.disableTabSelect&&Je()})},un=(ie=void 0)=>{Ne.value=void 0,U(ie)},dn=ie=>{let I=!0,Z=L.value.items.findIndex(ue=>ue.key===Ne.value);switch(ie.key){case"Tab":Ne.value=So(Z,ie.shiftKey),ie.shiftKey&&Z==0&&(I=!1),En(),ut(()=>{Ve.value||Je()});break;case"ArrowUp":case"ArrowDown":qe.value&&qe.value!==Ne.value&&fe(),!de.value&&Ne.value!==-1?(Je(),Ve.value=!1):(x.value=!0,ut(()=>{pe()}));break;case"Escape":Ve.value=!0,fe();break;case" ":case"Enter":Ve.value=!0,ae(Ne.value);break}ie.key=="Tab"&&!ie.shiftKey&&(y.value&&Z==-1||!y.value&&Z==V.value)&&(Ne.value=void 0,I=!1,fe()),I&&ie.preventDefault()},En=()=>{ut(()=>{Le.value?.focus()})},So=(ie,I)=>{const Z=L.value.items.length-1;if(ie==-1)return I?V.value:ie;if(!I&&y.value&&ie==V.value)return-1;let ue=!1,Re=I?Math.max(ie-1,0):Math.min(ie+1,Z);for(;!ue;){const et=L.value.items[Re];et.disabled==!0||et.visible==!1?I&&Re==0||!I&&Re==Z?(Re=ie,ue=!0):I?Re--:Re++:ue=!0}return L.value.items[Re].key};return{tabsList:G,selectedTabKey:s,overflowButtonEl:le,normalizedDensity:u,showNavigation:S,navigateHeader:q,repositionLine:$,selectTab:ae,tabs:o,cls:h,offsetStyle:a,submenuMinWidth:re,invisibleTabsList:te,outsideTabsOpened:B,closeOverflowPopup:ee,selectInvisibleTab:Ee,overlayStyle:l,ofTabsHeader:r,ofTabsNavigationHeaderShowNextNavigation:w,ofTabsNavigationHeaderShowPreviousNavigation:k,overlayClassname:c,showSubMenu:Q,subMenuTabsList:z,subMenuSlots:oe,subMenuActive:de,subMenuOuter:R,openSubMenu:Ce,closeSubMenu:fe,selectSubMenuTab:ke,subMenuLeave:U,subMenuClearTimeout:pe,onMouseoverTab:ge,onBlurList:Ct,optionListFocused:x,navigate:dn,onFocusTab:St,onBlurTab:un,tabsRefs:Oe,focusedTabKey:Ne,openedMenuTabKey:qe,firstActiveTabIdx:N,lastActiveTabIdx:V,handleSelectTab:X}}}),OA={class:"of-tabs-header",ref:"ofTabsHeader",role:"tablist"},DA={key:0,class:"overflow-separator"},RA=["onPointerup","onMouseover","onMouseleave","onFocus","onBlur","id","aria-label","aria-haspopup","aria-selected"],NA={key:1},IA={key:0,class:"of-tab-count"},LA={class:"of-tabs-line",ref:"tabLine"};function PA(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-option-list"),l=K("of-overlay");return P(),W("div",{class:Xe(["of-tabs",{"of--with-border":e.withBorder,[`of--density-${e.normalizedDensity}`]:!0,"top-tabs":e.topTabs}]),ref:"tabs",style:Ht(e.offsetStyle)},[g("div",{class:Xe(e.cls)},[g("div",{class:Xe({"of-tabs-navigation-header":!0,"of-tabs-navigation-header-show-next-navigation":e.ofTabsNavigationHeaderShowNextNavigation,"of-tabs-navigation-header-show-previous-navigation":e.ofTabsNavigationHeaderShowPreviousNavigation,"of-tabs-navigation-header-has-navigation":e.showNavigation})},[e.showNavigation?(P(),W("div",{key:0,class:"of-tabs-navigation of-tabs-navigation-prev",onClick:t[0]||(t[0]=c=>e.navigateHeader("prev"))},[b(i,{name:"page previous",title:"Previous tab",scale:"input"})])):$e("",!0),g("div",OA,[(P(!0),W(Pe,null,ct(e.tabsList,(c,u)=>(P(),W(Pe,{key:c.key},[c.overflowButton?(P(),W("div",DA)):$e("",!0),g("div",{onPointerup:d=>c.disabled||e.handleSelectTab(d,c.key),onMouseover:d=>{c.disabled||(e.$emit("hover-tab",c.key),e.onMouseoverTab(c.key,d.target))},onMouseleave:()=>{c.disabled||(e.$emit("leave-tab",c.key),e.subMenuLeave(c.key))},onFocus:d=>e.onFocusTab(c.key),onBlur:d=>e.onBlurTab(c.key),onKeydown:t[1]||(t[1]=d=>e.navigate(d)),ref_for:!0,ref:d=>e.tabsRefs[u]=d,tabindex:"0",class:Xe([{"is-active":e.selectedTabKey===c.key&&e.showActiveTab,"is-disabled":c.disabled,"of--focused":e.showActiveTab&&e.focusedTabKey===c.key||e.openedMenuTabKey===c.key||c.key==-1&&e.outsideTabsOpened,"of-tab-header-item":!0,"overflow-button":c.overflowButton,"of--rounded":e.rounded,"of--with-border":e.withBorder},c.params?.className]),role:"tab",id:c.id,"aria-label":c.ariaLabel,"aria-haspopup":e.showSubMenu,"aria-selected":e.selectedTabKey===c.key},[t[8]||(t[8]=g("div",{class:"of--layer of--layer-bg"},null,-1)),t[9]||(t[9]=g("div",{class:"of--layer of--layer-brd"},null,-1)),t[10]||(t[10]=g("div",{class:"of--layer of--layer-outl"},null,-1)),g("div",{class:Xe(["of-tab-text",{"only-icon":!c.text}])},[c.icon?(P(),ot(i,{key:0,name:c.icon,scale:"1.1em"},null,8,["name"])):$e("",!0),c.text?(P(),W("span",NA,Fe(c.text),1)):$e("",!0)],2),t[11]||(t[11]=g("div",{class:"of--layer of--layer-state"},null,-1)),c.count?(P(),W("div",IA,Fe(c.count),1)):$e("",!0)],42,RA)],64))),128)),g("div",LA,null,512)],512),e.showNavigation?(P(),W("div",{key:1,class:"of-tabs-navigation of-tabs-navigation-next",onClick:t[2]||(t[2]=c=>e.navigateHeader("next"))},[b(i,{name:"page next",title:"Next tab",scale:"input"})])):$e("",!0)],2),b(l,{active:e.subMenuActive,focus:!1,capture:!1,shade:!1,target:e.subMenuOuter},{default:j(()=>[e.showSubMenu?Qe(e.$slots,"sub-menu",{key:0},()=>[b(a,{onMouseenter:t[3]||(t[3]=c=>e.subMenuClearTimeout()),onMouseleave:t[4]||(t[4]=c=>e.subMenuLeave()),onClick:e.selectSubMenuTab,onClose:t[5]||(t[5]=c=>e.closeSubMenu()),onBlur:e.onBlurList,class:Xe([[{"top-tabs-menu":e.topTabs},e.overlayClassname],"of--elevated-1"]),style:Ht(e.overlayStyle),items:e.subMenuTabsList,focus:e.optionListFocused},Rc({"option-icon":j(c=>[Qe(e.$slots,"submenu-option-icon",jr(hr(c)))]),_:2},[ct(e.subMenuSlots,(c,u)=>({name:u,fn:j(()=>[(P(),ot($f(c)))])}))]),1032,["onClick","onBlur","class","style","items","focus"])]):$e("",!0)]),_:3},8,["active","target"])],2),b(l,{active:e.outsideTabsOpened,focus:!1,shade:!1,capture:!1,target:e.overflowButtonEl,onBlur:e.closeOverflowPopup},{default:j(()=>[b(a,{class:"of--elevated-1",items:e.invisibleTabsList,focus:e.optionListFocused,onMouseenter:t[6]||(t[6]=c=>e.subMenuClearTimeout()),onMouseleave:t[7]||(t[7]=c=>e.subMenuLeave(-1)),onClick:e.selectInvisibleTab,onBlur:e.onBlurList},null,8,["items","focus","onClick","onBlur"])]),_:1},8,["active","target","onBlur"])],6)}const VA=cn($A,[["render",PA]]),_A=new Set(["date","datetime-local","email","month","number","password","tel","time","week","url"]),BA=new Set(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Backspace","Enter","Tab","Delete"]),HA=e=>e&&_A.has(e)?e:"text",ul=be({name:"OfTextField",props:{...ko,rows:[Number,String],inputType:String,focusItems:{type:Boolean,default:!0},filterItems:{type:Boolean,default:!0},showEmptyList:{type:Boolean,default:!1},openItemsOnChange:{type:Boolean,default:!1},capture:{type:Boolean,default:!0},setItem:Function},emits:["focus","input","keydown:escape","keydown:enter","keyup:enter","update:modelValue","blur"],setup(e,t){const n=ei(e,t),o=ba(),r=Ca(o),s=Gn(o),i=A(()=>s.getTextFormatter(e.type||e.inputType,e.formatOptions,n.name,e.record)),a=A(()=>{let X=n.initialValue;X===void 0&&(X=e.defaultValue);const ae=i.value;if(ae){const Ee=ae.format(X);Ee.error?console.error("Error loading initial value:",Ee.error):X=Ee.value}return X===void 0&&(X=null),X});let l="";const c=C(),u=C(""),d=C(),f=C(),p=C(!1),h=(X,ae)=>{let Ee=!1;if(ae){const B=ae.format(X);B.error?(console.error("Error loading field value:",B.error,X),Ee=!0):(l=B.textValue??"",X=B.value)}else X==null?l="":l=""+X,X=l;(X===void 0||X==="")&&(X=null),c.value=X==null,u.value=l,f.value=X,d.value=void 0,p.value=Ee};Ae(()=>[n.value,i.value],([X,ae],Ee)=>h(X,ae),{immediate:!0}),Ae(()=>e.items,()=>{e.openItemsOnChange&&(N.value=!0)});const m=C(),v=C(!1),y=C(!1),w=C(!1);let k;const S=A(()=>{let X=n.id;return X||(k||(k=wo()),X=k),X}),M=A(()=>!!(n.fieldType==="textarea"||i.value?.multiline)),L=A(()=>{const X=i.value;return M.value?void 0:X?.inputType||HA(e.inputType)}),N=C(!1),V=A(()=>n.editable&&!M.value&&(e.items?.length>0||e.showEmptyList)),_=A(()=>{const X=T.value?.trim().toLowerCase();return!X||!e.filterItems?e.items:e.items.filter(ae=>{if(ae.value!==void 0)return ae.text.toLowerCase().includes(X)})}),G=A(()=>{const X={items:[],textKey:"text",valueKey:"value",iconKey:"icon"},ae=r.getItemList(_.value);ae&&Object.assign(X,ae);const Ee=[];if(!X.items.length)return[];for(const B of X.items)typeof B=="string"?Ee.push({text:B,value:B}):typeof B=="object"&&Ee.push({text:B[X.textKey],value:B[X.valueKey],icon:B[X.iconKey]??""});return Ee});let te=null,Y=null,q=!1;const $=X=>(N.value?F():V.value&&!te&&(N.value=!0,Y&&clearTimeout(Y),Y=window.setTimeout(()=>{le(),Y=null},0)),!1),F=X=>{N.value&&(N.value=!1,te&&clearTimeout(te),te=window.setTimeout(()=>{te=null},150),X&&le())},E=X=>{h(X,i.value),n.onUpdate?.(X),T.value=X,F(!0)},T=C(u.value),J=x1(300,X=>{T.value=X.trim()}),le=X=>{if(t.emit("focus"),m.value)return m.value.focus(),X&&m.value.select(),!0},ye={onblur(X){const ae=X.target;if(ae){const B=i.value;let H=ae.value;B&&(H=B.unformat(H)),t.emit("blur",H)}v.value=!1;const Ee=i.value;Ee?.handleBlur&&Ee.handleBlur(X),/Safari/.test(navigator.userAgent)&&(e.type==="phone"||e.type==="number")&&q&&(X.target.dispatchEvent(new Event("change")),q=!1),!w.value&&!e.capture&&F(!0)},onFocus(X){v.value=!0},onChange(X){const ae=X.target;if(!ae)return;let Ee=ae.value;const B=i.value;if(B)try{Ee=B.unformat(Ee)}catch{p.value=!0,d.value=void 0;return}Ee===f.value?(h(Ee,B),ae.value=l):(c.value=Ee==null||Ee==="",d.value=void 0),n.onUpdate&&n.onUpdate(Ee)},onClick(X){X.stopPropagation()},onInput(X){const ae=X.target;e.inputType==="number"&&ae.value.length>1&&ae.value[0]==="0"&&(ae.value="0"),V.value&&(J(ae.value),u.value=ae.value,N.value||$());const Ee=i.value;if(Ee?.handleInput){const B=Ee.handleInput(X);if(B&&B.updated){q=!0;const H=B.textValue??"";ae.value=H,B.selStart!==void 0&&ae.setSelectionRange(B.selStart,B.selEnd),u.value=H,l=H,d.value=B.value}}n.onInput&&n.onInput(X.data,ae.value)},onKeyup(X){if(X.key==="Enter"&&n.onKeyup){const ae=X.target;if(!ae)return;const Ee=ae.value;n.onKeyup(Ee)}},onKeydown(X){if(!BA.has(X.key)&&e.inputType==="number"&&!(X.key==="0"||parseInt(X.key))){X.preventDefault();return}if(X.key==="Enter"){const ae=X.target;if(ae){const Ee=i.value;let B=ae.value;Ee&&(B=Ee.unformat(B)),t.emit("keydown:enter",B)}}if(V.value&&(X.key=="ArrowUp"||X.key=="ArrowDown"))$(),X.preventDefault(),X.stopPropagation();else if(X.key==="Escape")F(),t.emit("keydown:escape");else if(X.key==="Tab")N.value&&(y.value=!0,X.preventDefault(),X.stopPropagation());else if(!(/(^Key([A-Z]$))/.test(X.code)||!/(^Digit([0-9]$))/.test(X.code))||X.altKey||X.metaKey||X.ctrlKey){const ae=i.value;ae?.handleKeyDown&&ae.handleKeyDown(X)}},onKeypress(X){(/(^Key([A-Z]$))/.test(X.code)||/(^Digit([0-9]$))/.test(X.code))&&!X.altKey&&!X.metaKey&&!X.ctrlKey&&(N.value||$())},onVnodeMounted(X){m.value=X.el}},Me={interactiveContent:()=>{const X=i.value;return D(M.value?"textarea":"input",{class:["of-field-input",X?.inputClass,"of--align-"+(e.align||X?.align||"start")],...vC({inputmode:X?.inputMode,id:S.value,maxlength:e.maxlength,name:n.name,placeholder:e.placeholder,readonly:!n.editable||void 0,rows:e.rows,type:L.value,"aria-label":n.ariaLabel??n.label,autocomplete:n.autocomplete??null,autocapitalize:n.autocapitalize??null,autocorrect:n.autocorrect??null,spellcheck:n.spellcheck??null,value:u.value,...ye})})},fixedContent:()=>i.value?.formatFixed?.(n.value)??u.value},me=Yo({blank:c,class:A(()=>({"of-text-field":!0,"of--multiline":M})),click:()=>le(n.editable),cursor:A(()=>n.editable?"text":"normal"),focus:le,focused:v,inputId:S,inputValue:u,invalid:p,pendingValue:d,popup:{content:()=>V.value&&N.value?D(Qs,{items:G.value,focusOnMount:!1,focus:y.value,class:["of--elevated-1","of-text-items",{"text-items-loading":e.loading}],onFocused:()=>{y.value=!1,w.value=!0},onBlur:()=>{y.value=!1,w.value=!1,e.capture||F(!0)},onClick:(X,ae)=>e.setItem?e.setItem(X,ae):E(X)}):void 0,visible:N,onBlur:F,focus:e.focusItems,capture:e.capture},updated:A(()=>a.value!==f.value),value:f});return Zo(me),()=>D(Xo,e,{...Me,...t.slots})}}),Y1=be({props:{switch:Boolean,checked:[Boolean,Number],focused:Boolean,label:String,ariaLabel:String,inputId:String,align:String,name:String,mode:String,scale:[String,Number],outside:Boolean},emits:["focus","blur","inputMounted"],setup(e,t){const n=A(()=>"checkbox"+(e.checked?" checked":"")),o={onFocus(){t.emit("focus")},onBlur(){t.emit("blur")},onVnodeMounted(r){t.emit("inputMounted",r)}};return()=>{const r=e.label,s=r?D("label",{class:["of-field-content-text","of--align-"+(e.align||"start")],for:e.inputId,onClick:a=>a.stopPropagation()},[r]):void 0,i=[D("div",{class:{"of-toggle-input":!0,"of-toggle-input-switch":e.switch,"of--focused":e.focused}},[D("input",{class:["of-field-input",{"of--focused":e.focused}],checked:e.checked,id:e.inputId,tabindex:e.mode==="fixed"?-1:0,name:e.name,type:"checkbox",value:"1","aria-label":(e.ariaLabel??"")+" "+e.label,...o}),e.switch?D("div",{class:["of-switch",{outside:!e.outside}]},[D("div",{class:["of-switch-track",{outside:!e.outside}]}),D("div",{class:["of-switch-thumb",{outside:!e.outside}]})]):t.slots.icon?t.slots.icon(e.checked):D(Zt,{class:"of-toggle-icon",name:n.value,scale:e.scale||"input"})])];return s&&i.push(s),[D("div",{class:"of-toggle-wrapper"},i)]}}}),zA=new Set(["checkbox","switch"]),Z1=be({name:"OfToggleField",props:{...ko,inputType:String,switch:Boolean,outside:{type:Boolean,default:!0}},setup(e,t){const n=xa(e,t),o=A(()=>{let m=n.initialValue;return m===void 0&&(m=e.defaultValue),m??null}),r=C();Ae(()=>n.value,m=>{(m===void 0||m==="")&&e.checked&&(m=null),r.value=m??e.checked},{immediate:!0});const s=C(),i=C(!1);let a;const l=A(()=>{let m=n.id;return m||(a||(a=wo()),m=a),m}),c=A(()=>{const m=e.inputType;return m&&zA.has(m)?m:e.switch?"switch":"checkbox"}),u=()=>{const m=s.value;m&&m.focus()},d=m=>(n.editable&&(r.value=!r.value,n.onUpdate&&n.onUpdate(r.value)),u(),!1),f={onBlur(m){i.value=!1},onFocus(m){i.value=!0},onInputMounted(m){s.value=m.el},"onUpdate:checked":m=>{r.value=m,n.onUpdate&&n.onUpdate(r.value)}},p={interactiveContent:()=>D(Y1,{switch:c.value==="switch",outside:e.outside,checked:r.value,focused:i.value,label:n.inputLabel??"",inputId:l.value,align:e.align,name:e.name,mode:n.mode,scale:n.scale,ariaLabel:n.ariaLabel??e.label??"",...f},{icon:t.slots.icon})},h=Yo({active:!0,blank:A(()=>!r.value),class:A(()=>({"of-toggle-field":!0,"of--checked":!!r.value})),click:d,cursor:A(()=>n.editable?"pointer":null),focus:u,focused:i,inputId:l,updated:A(()=>o.value!==r.value),value:r,undecorated:!0,fieldContext:n});return Zo(h),()=>D(Xo,e,{...p,...t.slots})}}),X1=be({props:{checked:[Boolean,Number],label:[String,Number],inputId:String,align:String,name:String,mode:String,value:[String,Number],scale:[String,Number],focused:[Boolean],index:[Number]},emits:["focus","blur","inputMounted","selectItem"],setup(e,t){const n=A(()=>"radio"+(e.checked?" checked":"")),o={onFocus(){t.emit("focus",e.index)},onBlur(){t.emit("blur")},onVnodeMounted(r){t.emit("inputMounted",r)}};return()=>{const r=e.label,s=r?D("label",{class:["of-field-content-text","of--align-"+(e.align||"start")],for:e.inputId,onClick:a=>a.stopPropagation()},[r]):void 0,i=[D("div",{class:["of-toggle-input",{"of--focused":e.focused}]},[D("input",{class:"of-field-input",checked:e.checked,onClick:()=>{t.emit("selectItem",e.value)},id:e.inputId,tabindex:e.mode==="fixed"?-1:0,name:e.name,type:"radio",value:e.value,...o}),t.slots.icon?t.slots.icon(e.checked):D(Zt,{class:"of-toggle-icon",name:n.value,scale:e.scale||"input"})])];return s&&i.push(s),[D("div",{class:"of-toggle-wrapper"},i)]}}}),FA=e=>{switch(e){case"column":return{"of--column":!0};case"row":return{"of--row":!0};default:return{}}},Q1=be({name:"OfRadioField",props:{...ko,grid:String,inputType:String,switch:Boolean,outside:{type:Boolean,default:!0}},setup(e,t){const n=xa(e,t),o=A(()=>{let w=n.initialValue;return w===void 0&&(w=e.defaultValue),w??null}),r=A(()=>typeof e.items=="string"||Array.isArray(e.items)?QC(e.items):[]),s=C(),i=C(!1),a=C(),l=(w=void 0,k=void 0)=>{if(k!==void 0&&a.value!==void 0)a.value=k;else if(w){const S=a.value+w,M=r.value.length-1;a.value=S>M?0:S<0?M:S}else if(i.value){const S=r.value.findIndex(M=>M.value==s.value);a.value=S==-1?0:S}};Ae(()=>n.value,w=>{(w===void 0||w==="")&&(w=null),s.value=w,l()},{immediate:!0});const c=C();let u;const d=A(()=>{let w=n.id;return w||(u||(u=wo()),w=u),w}),f=()=>{const w=c.value;w&&w.focus()},p=w=>(n.editable&&n.onUpdate&&n.onUpdate(w),!1),h={onBlur(w){i.value=!1,a.value=void 0},onFocus(w){i.value=!0,l(void 0,w)},onInputMounted(w){c.value=w.el},"onUpdate:checked":w=>{s.value=w,n.onUpdate&&n.onUpdate(s.value)}},m=A(()=>{let w;for(const k of r.value)k.value===s.value&&(w=k.text);return w}),v={interactiveContent:()=>e.mode==="fixed"?[D("div",{role:"textbox",class:["of-field-content-text","of--align-"+(e.align||"start")],id:d.value,ref:c,tabindex:n.mode==="fixed"?-1:0,ariaLabel:n.ariaLabel??e.label??s.value??" ",...h},m.value)]:D("div",{class:["radio-group",FA(e.grid)]},[r.value.map((w,k)=>D(X1,{onSelectItem:S=>{p(S)},checked:s.value===w.value,focused:a.value===k,index:k,label:w.text,value:w.value,inputId:d.value+w.value,align:e.align,name:e.name??d.value,mode:n.mode,scale:e.scale,...h},{icon:t.slots.icon}))])},y=Yo({active:!0,blank:A(()=>!s.value),class:A(()=>({"of-toggle-field":!0,"of--checked":!!s.value})),cursor:A(()=>n.editable?"pointer":null),focus:f,focused:i,inputId:d,updated:A(()=>o.value!==s.value),value:s,fieldContext:n,keydown:w=>{let k=!1;["ArrowRight","ArrowDown"].includes(w.code)?(l(1),k=!0):["ArrowLeft","ArrowUp"].includes(w.code)?(l(-1),k=!0):["Enter","Space"].includes(w.code)&&(p(r.value[a.value].value),k=!0),k&&(w.preventDefault(),w.stopPropagation())}});return Zo(y),()=>D(Xo,e,{...v,...t.slots})}}),jA=be({name:"OfToggle",inheritAttrs:!1,props:{checked:{type:[Boolean,Number],default:!1},id:String,initialValue:{type:Boolean,default:void 0},inputType:String,label:String,loading:Boolean,locked:Boolean,mode:String,muted:Boolean,name:String,readonly:Boolean,record:Object,required:Boolean,switch:Boolean,value:String,scale:[String,Number]},emits:{"update:checked":null},setup(e,t){const n=wo(),o=Xs(),r=A(()=>e.record||o.getCurrentRecord()||void 0),s=A(()=>e.id||n),i=A(()=>{const f=e.name&&r.value?r.value.value[e.name]:e.checked;return typeof f=="number"?!!f:f}),a=A(()=>e.locked||r.value?.locked),l=C(!1),c=C(),u={onBlur(f){l.value=!1},onFocus(f){l.value=!0},onClick(){const f=!i.value;e.name&&r.value?r.value.value[e.name]=f:t.emit("update:checked",f)}},d=f=>{c.value=f.el};return()=>{const f=D(Y1,{switch:e.inputType==="switch"||e.switch,checked:!!i.value,label:e.label,inputId:s.value,name:e.name,scale:e.scale,onInputMounted:d});return D("div",{class:["of-toggle","of-field",{"of--active":!0,"of--focused":l.value,"of--muted":e.muted,"of--locked":a.value,"of--checked":!!i.value}],tabIndex:-1,...u},f)}}}),UA=be({name:"OfRadio",inheritAttrs:!1,props:{checked:{type:[Boolean,Number],default:!1},id:String,initialValue:{type:Boolean,default:void 0},label:String,loading:Boolean,locked:Boolean,mode:String,muted:Boolean,name:String,readonly:Boolean,record:Object,required:Boolean,value:String},emits:{"update:checked":null},setup(e,t){const n=wo(),o=Xs(),r=A(()=>e.record||o.getCurrentRecord()||void 0),s=A(()=>e.id||n),i=A(()=>{const f=e.checked;return typeof f=="number"?!!f:f}),a=A(()=>e.locked||r.value?.locked),l=C(!1),c=C(),u={onBlur(f){l.value=!1},onFocus(f){l.value=!0},onClick(){const f=!i.value;e.name&&r.value?r.value.value[e.name]=f:t.emit("update:checked",f)}},d=f=>{c.value=f.el};return()=>{const f=D(X1,{checked:e.checked,label:e.label,inputId:s.value,name:e.name,onInputMounted:d});return D("div",{class:["of-toggle","of-field",{"of--active":!0,"of--focused":l.value,"of--muted":e.muted,"of--locked":a.value,"of--checked":e.checked}],tabIndex:-1,...u},f)}}});let KA=class{format(t){let n=t,o="",r;try{n=Rd(n),o=n?Ri(n):""}catch(s){r=s.toString(),console.error(r)}return{error:r,value:n,textValue:o}}unformat(t){const n=Rd(t);return n?Ri(n):null}};const Fn=(e,t)=>{let n=""+e;for(;n.length<t;)n="0"+n;return n};let Uf=class{_locale;_options;constructor(t,n){const o=["Y-m-d","m-d-Y","d-m-Y","Y/m/d","m/d/Y","d/m/Y","Y.m.d","d.m.Y","m.d.Y"],r=["H:i","h:ia","h:i a","h:iA","h:i A","H.i","h.ia","h.i a","h.iA","h.i A"];this._locale=us(t),this._options=A(()=>{const s={};return s.locale=this._locale.locale,Object.assign(s,this._locale.localeParams?.dateTimeFormat),n&&Object.assign(s,n),(s.dateFormat===void 0||!o.includes(s.dateFormat))&&(s.dateFormat=""),(s.timeFormat===void 0||!r.includes(s.timeFormat))&&(s.timeFormat=""),s})}get options(){return this._options.value}get inputClass(){return"of--text-datetime"}getPart=(t,n)=>t.find(o=>o.type===n)?.value;formatterOptions(t){return{timeZone:this.options.timeZone}}unformat(t){throw new TypeError("Unsupported value")}format(t){let n,o="",r=t,s,i,a,l;try{if(r=this.loadValue(r),r!==null){const c=Intl.DateTimeFormat(this.options.locale,this.formatterOptions());o=this.formatLocale(c,r),s=Intl.DateTimeFormat("en-US",{timeZone:this.options.timeZone,day:"2-digit",hour:"numeric",minute:"numeric",month:"2-digit",year:"numeric",hourCycle:"h23"}).formatToParts(r);const u=this.getPart(s,"year")+"-"+this.getPart(s,"month")+"-"+this.getPart(s,"day")+"T"+this.getPart(s,"hour")+":"+this.getPart(s,"minute")+":00.000Z",d=new Date(u);if(!isNaN(d.getTime())){const f=new Date(r.getTime());f.setSeconds(0),f.setMilliseconds(0),a=(d.getTime()-f.getTime())/1e3,l=this.options.timeZone,i=d}}}catch(c){n=c.toString()}return{textValue:o,error:n,value:r,localeValue:i,tzOffset:a,tzName:l,textClass:this.inputClass,parts:s}}formatLocaleTime(t){const n=this.options.timeFormat,o=this.getPart(t,"hour")??"",r=this.getPart(t,"minute")??"",s=this.getPart(t,"dayPeriod")??"";return n.replace("H",o).replace("h",o).replace("i",r).replace("a",s.toLowerCase()).replace("A",s.toUpperCase())}formatLocaleDate(t){const n=this.options.dateFormat,o=this.getPart(t,"day")??"",r=this.getPart(t,"month")??"",s=this.getPart(t,"year")??"";return n?.replace("Y",s).replace("m",r).replace("d",o)}};class WA extends Uf{formatterOptions(t){if(this.options.nativeOptions!==void 0)return this.options.dateFormat="",this.options.timeFormat="",this.options.nativeOptions;const n=super.formatterOptions(t);return n.day="2-digit",n.month="2-digit",n.year="numeric",n.hour="numeric",n.minute="numeric",n}formatPortable(t){const n=t.getUTCFullYear(),o=t.getUTCMonth()+1,r=t.getUTCDate(),s=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds();return Fn(n,4)+"-"+Fn(o,2)+"-"+Fn(r,2)+" "+Fn(s,2)+":"+Fn(i,2)+":"+Fn(a,2)}formatLocale(t,n){const o=this.options.timeFormat,r=this.options.dateFormat;if(o==""&&r=="")return t.format(n);{const s=super.formatterOptions(),i=Intl.DateTimeFormat(this.options.locale,Fc.adjustOptions(s,o)),a=Intl.DateTimeFormat(this.options.locale,ey.adjustOptions(s,!1));return(r===""?a.format(n):this.formatLocaleDate(a.formatToParts(n)))+", "+(o===""?i.format(n):this.formatLocaleTime(i.formatToParts(n)))}}formatFixed(t){return this.format(t).textValue??t}loadValue(t){let n;if(typeof t=="string"&&(t=t.trim()),t===null||t==null)n=null;else if(t instanceof Date)n=t;else if(typeof t=="string"){const o=/^(\d\d\d\d)-(\d\d)-(\d\d)\s+(\d\d):(\d\d)(:\d\d)?$/.exec(t);if(!o)n=new Date;else{const r=o.slice(1,4).join("-")+"T"+o.slice(4,6).join(":")+":00Z";n=new Date(r)}}else if(typeof t=="number")n=new Date(t);else throw new TypeError("Unsupported value");return n}}let ey=class ty extends Uf{static adjustOptions(t,n=!0){return{...t,day:"2-digit",month:"2-digit",year:"numeric",timeZone:n?void 0:t.timeZone}}formatPortable(t){const n=Fn(t.getUTCFullYear(),4),o=Fn(t.getUTCMonth()+1,2),r=Fn(t.getUTCDate(),2);return n+"-"+o+"-"+r}formatLocale(t,n){return this.options.dateFormat===""?t.format(n):this.formatLocaleDate(t.formatToParts(n))}formatFixed(t){return this.format(t).textValue??t}formatterOptions(t){if(this.options.nativeOptions!==void 0)return this.options.dateFormat="",this.options.nativeOptions;const n=super.formatterOptions(t);return ty.adjustOptions(n)}loadValue(t){let n;if(typeof t=="string"&&(t=t.trim()),t===null||t==null)n=null;else if(t instanceof Date)n=t;else if(typeof t=="string"){const o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(t);if(!o)n=new Date;else{const r=o.slice(1,4).join("-")+"T00:00:00";n=new Date(r)}}else if(typeof t=="number")n=new Date(t);else throw new TypeError("Unsupported value");return n}};class Fc extends Uf{static adjustOptions(t,n){const o={hour:"numeric",minute:"numeric"};if(n!==""){const r=n.search(/[aA]/)!==-1;o.hour=r?"numeric":"2-digit",o.minute=r?"numeric":"2-digit",o.hourCycle=r?"h12":"h23"}return{...t,...o}}formatPortable(t){const n=t.getUTCHours(),o=t.getUTCMinutes(),r=t.getUTCSeconds();return Fn(n,2)+":"+Fn(o,2)+":"+Fn(r,2)}formatLocale(t,n){return this.options.timeFormat===""?t.format(n):this.formatLocaleTime(t.formatToParts(n))}formatFixed(t){return this.format(t).textValue??t}formatterOptions(t){if(this.options.nativeOptions!==void 0)return this.options.timeFormat="",this.options.nativeOptions;const n=this.options.timeFormat,o=super.formatterOptions(t);return Fc.adjustOptions(o,n)}loadValue(t){let n;if(typeof t=="string"&&(t=t.trim()),t===null||t==null)n=null;else if(t instanceof Date)n=t;else if(typeof t=="string"){const o=/^(\d\d):(\d\d)(:\d\d)?$/.exec(t);if(!o)n=new Date;else{const r="1970-01-01T"+o.slice(1,3).join(":")+":00Z";n=new Date(r)}}else if(typeof t=="number")n=new Date(t);else throw new TypeError("Unsupported value");return n}}let qA=class{get inputClass(){return"of--text-numeric"}get inputMode(){return"numeric"}parseInput(t){let n=0;if(typeof t=="string"&&t.length!==0){const o=t.split(" ");let r=o[0],s=o.length==2?o[1]:o[0];r=r.split("h"),r=r.length===2?r[0]:"",s=s.split("m"),s=s.length===2?s[0]:"";let i=parseInt(r,10),a=parseInt(s,10);isNaN(i)&&(i=0),isNaN(a)&&(a=0),n=i*60+a}return{input:t,value:n}}loadValue(t){if(typeof t=="number")return t;if(t==null)return null;if(typeof t=="string")return t=t.trim(),t.length?parseFloat(t):null;throw new TypeError("Unsupported value")}format(t){let n=t,o="",r;try{n=this.loadValue(t),n!=null&&(o=this.minToDurationConvert(t))}catch(s){r=s.toString()}return{error:r,value:n,textValue:o}}formatFixed(t){return this.format(t).textValue??t}minToDurationConvert(t){const n=parseFloat(t);let o=Math.round(n),r=Math.floor(o/60);return o=o%60,isNaN(r)&&(r=0),isNaN(o)&&(o=0),""+r+"h "+(o<10?"0"+o:o)+"m"}unformat(t){if(!isNaN(Number(t)))return this.treatAsHours(t);if(t==null)return null;if(typeof t=="string")return t=t.trim(),t.length?this.parseInput(t).value:null;throw new TypeError("Unsupported value")}treatAsHours(t){return isNaN(t)?0:((t<10||t%1!==0)&&(t*=60),t)}handleKeyDown(t){const n=t.target;let o=n.selectionStart,r=n.selectionEnd;if(!(o===null||r===null)&&(r<o&&(r=o,o=n.selectionEnd),t.key==="Backspace"||t.key==="Delete")){if(o===r)if(t.key==="Backspace")if(o>0)o--;else return;else if(r<n.value.length)r++;else return;if(!n.value.substring(o,r).match(/[0-9]/)){const s=t.key==="Backspace"?o:r;n.setSelectionRange(s,s),t.preventDefault()}}}},GA=class{_locale;_options;constructor(t,n){const o=[""," ",".",",","'"];this._locale=us(t),this._options=A(()=>{const r={};return r.locale=this._locale.locale,Object.assign(r,this._locale.localeParams?.numberFormat),n&&Object.assign(r,n),(r.groupSeparator===void 0||!o.includes(r.groupSeparator))&&(r.groupSeparator=void 0),(r.decimalSeparator===void 0||!o.includes(r.decimalSeparator))&&(r.decimalSeparator=void 0),r})}get inputClass(){return"of--text-numeric"}get inputMode(){return"numeric"}get options(){return this._options.value}formatterOptions(t){const n=this.options;return{maximumFractionDigits:Math.max(n.minimumFractionDigits??0,n.maximumFractionDigits??3),minimumFractionDigits:n.minimumFractionDigits,maximumSignificantDigits:t?void 0:n.maximumSignificantDigits,minimumSignificantDigits:n.minimumSignificantDigits,style:n.style,useGrouping:n.useGrouping}}parseInput(t,n,o=!0){const r=this.getSeparators(),s=o?r.decimal:".";typeof n!="number"&&(n=0);let i=t.indexOf(s);i<0&&(r.decimal!=="."&&n===t.length&&t.substring(n-1,n)==="."?i=n-1:i=null);let a="",l=!1,c=null;const u=!!(n&&Rh(t.substring(n-1,n)));let d=i===null||i>n?null:0;for(let p=0;p<t.length;p++)if(n===p&&(c=a.length),p===i)a+=".";else{const h=t.charAt(p);p===0&&h==="-"?l=!0:Rh(h)&&(a+=h,d!==null&&n>p&&p>i&&d++)}c===null&&(c=a.length);let f=a.length?parseFloat(a):null;return l&&(f=f?-Math.abs(f):null,a="-"+a),{input:t,parsed:a,selStart:c,selAfterDigit:u,value:f,minDecs:d,seps:r}}getSeparators(){const t=this.options;let n=t.groupSeparator,o=t.decimalSeparator;if(n===void 0||o===void 0){const r=Intl.NumberFormat(t.locale).formatToParts(12345.6);for(const s of r)s.type==="group"&&n===void 0?n=s.value:s.type==="decimal"&&o===void 0&&(o=s.value)}return o=o===void 0?".":o,n=n===void 0?",":n,{decimal:o,group:n}}loadValue(t){if(typeof t=="number")return t;if(t==null)return null;if(typeof t=="string")return t=t.trim(),t.length?parseFloat(t):null;throw new TypeError("Unsupported value")}format(t){let n=t,o="",r;try{if(n=this.loadValue(n),n!=null){const s=this.parseInput(n.toString(),1,!1);o=this.applyOptions(n,1,s).textValue}}catch(s){r=s.toString()}return{error:r,value:n,textValue:o,fixedValue:C(o),textClass:this.inputClass}}unformat(t){if(typeof t=="number")return t;if(t==null)return null;if(typeof t=="string")return t=t.trim(),t.length?this.parseInput(t).value:null;throw new TypeError("Unsupported value")}applyOptions(t,n,o){const r=this.formatterOptions(!0),{seps:s}=o;let{minDecs:i}=o;i!==null&&(i=Math.min(i,r.maximumFractionDigits||0));const a=Intl.NumberFormat(this.options.locale,r),l=o.value===null?[]:a.formatToParts(o.value);t="";let c=0;for(const u of l)if(u.type==="group")t+=s.group;else if(u.type==="decimal")t+=s.decimal,c++;else if(u.type==="integer"||u.type==="fraction"){let d=u.value;u.type==="fraction"&&(i&&i>d.length&&(d+="0".repeat(i-d.length)),i=null);for(const f of d.split(""))!o.selAfterDigit&&c===o.selStart&&(n=t.length),c++,t+=f,o.selAfterDigit&&c===o.selStart&&(n=t.length)}else t+=u.value;return i!==null&&(t+=s.decimal+"0".repeat(i)),{textValue:t===""&&o.input=="-"?"-":t,selStart:n}}handleInput(t){const n=t.target;let o=n.value,r=n.selectionStart||0;if(o.length){const s=this.parseInput(o,r),i=this.applyOptions(o,r,s);return o=i.textValue,r=Math.min(i.selStart,o.length),{textValue:o,selStart:r,selEnd:r,updated:n.value!==o,value:s.value}}return{updated:!1}}handleKeyDown(t){const n=t.target;let o=n.selectionStart,r=n.selectionEnd;if(!(o===null||r===null)&&(r<o&&(r=o,o=n.selectionEnd),t.key==="Backspace"||t.key==="Delete")){if(o===r)if(t.key==="Backspace")if(o>0)o--;else return;else if(r<n.value.length)r++;else return;const s=n.value.substring(o,r);if(!s.match(/-[0-9]/)&&s.indexOf(this.getSeparators().decimal)===-1){const i=t.key==="Backspace"?o:r;n.setSelectionRange(i,i),t.preventDefault()}}}};class JA{options;constructor(t,n){this.options=n}loadValue(t){return t==null?null:t.toString().trim()}format(t){let n=t,o="",r;try{n=this.loadValue(n),n!=null&&(o=this.fixUrl(n))}catch(s){r=s.toString(),console.error(r)}return{error:r,value:n,textValue:o}}fixUrl(t){let n=typeof t=="string"?t:t?t.toString():"",o;for(;o=n.match(/(.*:\/\/.*?)(\w+:\/\/.*)$/);)n=o[2];const r=n.match(/^(.*?(file|https?|ftp))?(:\/\/.*)/i);return r&&r[2]&&(n=r[2]+r[3]),n=n.replace(/:\/([^\/])/,"://$1"),!/:\/\//.test(n)&&n.length&&(n="http://"+n),n}unformat(t){return t}formatFixed(t){const n=this.fixUrl(t);return n===""?"":D("a",{href:n,target:"_blank"},n)}}const YA={search:["M21.1312 2.86C19.302 1.03 16.823 0 14.2441 0C11.6651 0 9.17618 1.03 7.35693 2.86C5.5277 4.69 4.49813 7.17 4.49813 9.75C4.49813 11.89 5.20783 13.95 6.4873 15.64C6.45731 15.6 6.41733 15.56 6.38734 15.52C6.32736 15.57 6.26739 15.62 6.21741 15.67L0.439817 21.44C0.159933 21.72 0 22.1 0 22.5C0 22.9 0.159933 23.28 0.439817 23.56C0.7197 23.84 1.09954 24 1.49938 24C1.89921 24 2.27905 23.84 2.55893 23.56L8.33653 17.79C8.38651 17.73 8.43648 17.68 8.48646 17.62C8.43648 17.58 8.3965 17.54 8.34652 17.5C10.0358 18.79 12.105 19.51 14.2541 19.51C16.843 19.51 19.3219 18.48 21.1412 16.65C22.9704 14.82 24 12.34 24 9.76C24 7.18 22.9704 4.69 21.1412 2.87L21.1312 2.86ZM20.0716 15.58C18.5223 17.13 16.4232 18 14.2441 18C13.1645 18 12.085 17.79 11.0854 17.37C10.0858 16.96 9.17618 16.35 8.4065 15.58C7.63682 14.81 7.03707 13.9 6.61724 12.9C6.20741 11.9 5.9875 10.83 5.9875 9.74C5.9875 8.65 6.19742 7.58 6.61724 6.58C7.02707 5.58 7.63682 4.67 8.4065 3.9C9.17618 3.13 10.0858 2.53 11.0854 2.11C12.085 1.7 13.1545 1.48 14.2441 1.48C16.4332 1.48 18.5323 2.35 20.0716 3.9C21.611 5.45 22.4906 7.55 22.4906 9.73C22.4906 11.91 21.621 14.02 20.0716 15.56V15.58Z"],"arrow left":["M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],hourglass:["M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"],user:["M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"],"checkbox checked":["M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"],cancel:["M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],"checkbox other":["M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M17,13H7v-2h10V13z"],"arrow right":["M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"],lock:["M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"],time:["M11.99,2C6.47,2 2,6.48 2,12C2,17.52 6.47,22 11.99,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 11.99,2ZM12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20ZM12.5,7L11,7L11,13L16.25,16.15L17,14.92L12.5,12.25L12.5,7Z"],"expand down":["M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"],radio:["M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"],"bullet down":["M5,9L12,16L19,9L5,9Z"],"bullet left":["M16,5L7,12L16,19L16,5Z"],"bullet right":["M7,5L16,12L7,19L7,5Z"],"bullet up":["M5,16L12,9L19,16L5,16Z"],"select down":["M7,11L12,16L17,11L7,11Z"],"select up":["M7,16L12,11L17,16L7,16Z"],external:["M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"],plus:["M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],minus:["M6 14h13a1 1 0 0 0 0-2H5a1 1 0 0 0 0 2z"],email:["M0 6C0 5.20435 0.316071 4.44129 0.87868 3.87868C1.44129 3.31607 2.20435 3 3 3H21C21.7956 3 22.5587 3.31607 23.1213 3.87868C23.6839 4.44129 24 5.20435 24 6V18C24 18.7956 23.6839 19.5587 23.1213 20.1213C22.5587 20.6839 21.7956 21 21 21H3C2.20435 21 1.44129 20.6839 0.87868 20.1213C0.316071 19.5587 0 18.7956 0 18V6ZM3 4.5C2.60218 4.5 2.22064 4.65804 1.93934 4.93934C1.65804 5.22064 1.5 5.60218 1.5 6V6.3255L12 12.6255L22.5 6.3255V6C22.5 5.60218 22.342 5.22064 22.0607 4.93934C21.7794 4.65804 21.3978 4.5 21 4.5H3ZM22.5 8.0745L15.438 12.312L22.5 16.6575V8.0745ZM22.449 18.3885L13.989 13.182L12 14.3745L10.011 13.182L1.551 18.387C1.63624 18.7062 1.82447 18.9883 2.08648 19.1896C2.34849 19.3908 2.66962 19.5 3 19.5H21C21.3302 19.5 21.6512 19.3911 21.9131 19.1902C22.1751 18.9892 22.3635 18.7074 22.449 18.3885ZM1.5 16.6575L8.562 12.312L1.5 8.0745V16.6575Z"],"arrow up":["M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"],gear:["M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"],"nav top":["M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"],"star checked":["M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],refresh:["M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"],"accept circle":["M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"],"info circle":["M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"],more:["M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"],"radio checked":["M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"],"page last":["M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"],accept:["M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"],star:["M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"],checkbox:["M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"],"expand open":["M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"],"plus circle":["M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"],phone:["M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"],mobile:["M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"],"more alt":["M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"],attach:["M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"],"page first":["M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],"page next":["M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],"arrow down":["M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"],"sign-in":["M11,7L9.6,8.4l2.6,2.6H2v2h10.2l-2.6,2.6L11,17l5-5L11,7z M20,19h-8v2h8c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-8v2h8V19z"],"minus circle":["M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"],date:["M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"],"page previous":["M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],"cancel circle":["M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"],"help circle":["M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"],menu:["M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"],"error circle":["M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"],"expand close":["M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"],print:["M3.8379 12.4811V0.972618C3.8379 0.436364 4.27426 0 4.81051 0H16.2874C16.545 0 16.7974 0.105148 16.9761 0.289157L19.8835 3.22804C20.0622 3.41205 20.1674 3.65389 20.1674 3.9115V12.4811C20.1674 13.0173 19.731 13.4537 19.1947 13.4537C18.6585 13.4537 18.2221 13.0173 18.2221 12.4811V4.31106L15.8826 1.94524H5.78313V12.4811C5.78313 13.0173 5.34677 13.4537 4.81051 13.4537C4.27426 13.4537 3.8379 13.0173 3.8379 12.4811ZM24 15.3568V21.1084C24 22.7014 22.7014 24 21.1084 24H2.89157C1.29858 24 0 22.7014 0 21.1084V15.3568C0 15.32 0 15.2832 0.00525739 15.2517L0.962103 6.61906C1.01993 6.0828 1.50361 5.70427 2.03461 5.7621C2.57087 5.81993 2.95465 6.30361 2.89157 6.83461L2.05038 14.3842H6.83987C7.71785 14.3842 8.46966 14.9783 8.71676 15.8668C8.94283 16.687 9.69989 17.2653 10.5516 17.2653H13.4274C14.2843 17.2653 15.0361 16.6922 15.2622 15.8668C15.5041 14.9836 16.2559 14.3895 17.1338 14.3895H21.9233L21.0821 6.83987C21.0243 6.30361 21.4081 5.82519 21.9391 5.76736C22.4701 5.70953 22.9538 6.09332 23.0116 6.62432L23.9685 15.257C23.9685 15.2938 23.9737 15.3306 23.9737 15.3621L24 15.3568ZM22.0548 16.3295H17.1601C17.1601 16.3295 17.1601 16.3505 17.1496 16.3768C16.6922 18.0434 15.1623 19.2053 13.4379 19.2053H10.5621C8.83242 19.2053 7.30778 18.0434 6.85038 16.3768C6.83987 16.34 6.8241 16.3189 6.81884 16.3189L1.94524 16.3295V21.1137C1.94524 21.6342 2.37108 22.06 2.89157 22.06H21.1084C21.6289 22.06 22.0548 21.6342 22.0548 21.1137V16.3347V16.3295ZM14.8784 5.27317H9.12683C8.59058 5.27317 8.15422 5.70953 8.15422 6.24578C8.15422 6.78204 8.59058 7.2184 9.12683 7.2184H14.8784C15.4147 7.2184 15.851 6.78204 15.851 6.24578C15.851 5.70953 15.4147 5.27317 14.8784 5.27317ZM14.8784 9.11106H9.12683C8.59058 9.11106 8.15422 9.54743 8.15422 10.0837C8.15422 10.6199 8.59058 11.0563 9.12683 11.0563H14.8784C15.4147 11.0563 15.851 10.6199 15.851 10.0837C15.851 9.54743 15.4147 9.11106 14.8784 9.11106Z"],"expand up":["M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"],required:["M10.3,18L12,15.015L13.7,18L16.3,16.487L14.6,13.503L18,13.503L18,10.477L14.6,10.477L16.3,7.513L13.7,6L12,8.965L10.3,6L7.7,7.513L9.4,10.477L6,10.477L6,13.503L9.4,13.503L7.7,16.487L10.3,18Z"],"format bold":["M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"],"format italic":["M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"],"format strikethrough":["M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"],"format underline":["M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"],"format list-bulleted":["M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"],"format list-numbered":["M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"],"format align-justify":["M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"],"format align-left":["M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"],"format align-right":["M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"],"format align-center":["M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"],"format quote":["M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"],"format clear":["M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"],"wrap-text":["M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3 3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"],paragraph:["M12 6v15h-2v-5a6 6 0 1 1 0-12h10v2h-3v15h-2V6h-3zm-2 0a4 4 0 1 0 0 8V6z"],code:["M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],"developer-mode":["M7 5h10v2h2V3c0-1.1-.9-1.99-2-1.99L7 1c-1.1 0-2 .9-2 2v4h2V5zm8.41 11.59L20 12l-4.59-4.59L14 8.83 17.17 12 14 15.17l1.41 1.42zM10 15.17L6.83 12 10 8.83 8.59 7.41 4 12l4.59 4.59L10 15.17zM17 19H7v-2H5v4c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2v-4h-2v2z"],"source-code":["M20,6h-8l-2-2H4C2.9,4,2.01,4.9,2.01,6L2,18c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M20,18L4,18V6h5.17 l2,2H20V18z M18,12H6v-2h12V12z M14,16H6v-2h8V16z"],table:["M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,5v3H5V5H19z M19,10v4H5v-4H19z M5,19v-3h14v3H5z"],highlight:["M6 14l3 3v5h6v-5l3-3V9H6v5zm2-3h8v2.17l-3 3V20h-2v-3.83l-3-3V11zm3-9h2v3h-2zM3.502 5.874L4.916 4.46l2.122 2.12-1.414 1.415zm13.458.708l2.123-2.12 1.413 1.416-2.123 2.12z"],"insert-photo":["M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"],"insert-link":["M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"],"h-3":["M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z"],"h-2":["M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z"],"h-1":["M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z"],undo:["M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"],redo:["M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"],separator:["M2 11h2v2H2v-2zm4 0h12v2H6v-2zm14 0h2v2h-2v-2z"],"theme light":["M0 3C0 2.20435 0.316071 1.44129 0.87868 0.87868C1.44129 0.316071 2.20435 0 3 0L15 0C15.7956 0 16.5587 0.316071 17.1213 0.87868C17.6839 1.44129 18 2.20435 18 3V6H21C21.7956 6 22.5587 6.31607 23.1213 6.87868C23.6839 7.44129 24 8.20435 24 9V21C24 21.7956 23.6839 22.5587 23.1213 23.1213C22.5587 23.6839 21.7956 24 21 24H9C8.20435 24 7.44129 23.6839 6.87868 23.1213C6.31607 22.5587 6 21.7956 6 21V18H3C2.20435 18 1.44129 17.6839 0.87868 17.1213C0.316071 16.5587 0 15.7956 0 15V3ZM7.5 18V21C7.5 21.3978 7.65804 21.7794 7.93934 22.0607C8.22064 22.342 8.60218 22.5 9 22.5H21C21.3978 22.5 21.7794 22.342 22.0607 22.0607C22.342 21.7794 22.5 21.3978 22.5 21V9C22.5 8.60218 22.342 8.22064 22.0607 7.93934C21.7794 7.65804 21.3978 7.5 21 7.5H18V15C18 15.7956 17.6839 16.5587 17.1213 17.1213C16.5587 17.6839 15.7956 18 15 18H7.5Z"],"theme dark":["M0 3C0 2.20435 0.316071 1.44129 0.87868 0.87868C1.44129 0.316071 2.20435 0 3 0L15 0C15.7956 0 16.5587 0.316071 17.1213 0.87868C17.6839 1.44129 18 2.20435 18 3V6H21C21.7956 6 22.5587 6.31607 23.1213 6.87868C23.6839 7.44129 24 8.20435 24 9V21C24 21.7956 23.6839 22.5587 23.1213 23.1213C22.5587 23.6839 21.7956 24 21 24H9C8.20435 24 7.44129 23.6839 6.87868 23.1213C6.31607 22.5587 6 21.7956 6 21V18H3C2.20435 18 1.44129 17.6839 0.87868 17.1213C0.316071 16.5587 0 15.7956 0 15V3ZM7.5 18V21C7.5 21.3978 7.65804 21.7794 7.93934 22.0607C8.22064 22.342 8.60218 22.5 9 22.5H21C21.3978 22.5 21.7794 22.342 22.0607 22.0607C22.342 21.7794 22.5 21.3978 22.5 21V9C22.5 8.60218 22.342 8.22064 22.0607 7.93934C21.7794 7.65804 21.3978 7.5 21 7.5H18V15C18 15.7956 17.6839 16.5587 17.1213 17.1213C16.5587 17.6839 15.7956 18 15 18H7.5Z"],"theme settings":["M0 3C0 2.20435 0.316071 1.44129 0.87868 0.87868C1.44129 0.316071 2.20435 0 3 0L15 0C15.7956 0 16.5587 0.316071 17.1213 0.87868C17.6839 1.44129 18 2.20435 18 3V6H21C21.7956 6 22.5587 6.31607 23.1213 6.87868C23.6839 7.44129 24 8.20435 24 9V21C24 21.7956 23.6839 22.5587 23.1213 23.1213C22.5587 23.6839 21.7956 24 21 24H9C8.20435 24 7.44129 23.6839 6.87868 23.1213C6.31607 22.5587 6 21.7956 6 21V18H3C2.20435 18 1.44129 17.6839 0.87868 17.1213C0.316071 16.5587 0 15.7956 0 15V3ZM7.5 18V21C7.5 21.3978 7.65804 21.7794 7.93934 22.0607C8.22064 22.342 8.60218 22.5 9 22.5H21C21.3978 22.5 21.7794 22.342 22.0607 22.0607C22.342 21.7794 22.5 21.3978 22.5 21V9C22.5 8.60218 22.342 8.22064 22.0607 7.93934C21.7794 7.65804 21.3978 7.5 21 7.5H18V15C18 15.7956 17.6839 16.5587 17.1213 17.1213C16.5587 17.6839 15.7956 18 15 18H7.5ZM16.5 6V3C16.5 2.60218 16.342 2.22064 16.0607 1.93934C15.7794 1.65804 15.3978 1.5 15 1.5H3C2.60218 1.5 2.22064 1.65804 1.93934 1.93934C1.65804 2.22064 1.5 2.60218 1.5 3V15C1.5 15.3978 1.65804 15.7794 1.93934 16.0607C2.22064 16.342 2.60218 16.5 3 16.5H6V9C6 8.20435 6.31607 7.44129 6.87868 6.87868C7.44129 6.31607 8.20435 6 9 6H16.5Z"],"popup resize":["M13.994,21.965L22.015,14.023L22.015,17.951L17.98,21.965L13.994,21.965ZM7.994,21.965L22.015,8.023L22.015,11.951L11.98,21.965L7.994,21.965ZM1.994,21.965L22.015,2.023L22.015,5.951L5.98,21.965L1.994,21.965Z"]},ZA={name:"mi",resolve(e,t){const n=YA[e];return n?{svg:{paths:[...n]}}:null}},ny=be({name:"OfFileField",props:{...ko},setup(e,t){const n=ei(e,t),o=A(()=>{let y=n.initialValue;return y===void 0&&(y=e.defaultValue),y??null}),r=C(),s=C();Ae(()=>n.value,y=>{(y===void 0||y==="")&&(y=null),s.value&&(s.value.value=""),r.value=y},{immediate:!0});const i=C(!1);let a;const l=A(()=>{let y=n.id;return y||(a||(a=wo()),y=a),y}),c=()=>{s.value?.focus()},u=y=>(n.editable&&(s.value?.focus(),s.value?.click()),!1),d=y=>{!s.value||!n.editable||(s.value.value="",y&&(y.stopPropagation(),y.preventDefault()),r.value=null,n.onUpdate&&n.onUpdate(null))},f=y=>{let w=null;y&&y.length&&(w=y[0]),r.value=w,n.onUpdate&&n.onUpdate(w)},p={onBlur(y){i.value=!1},onChange(y){f(y.target.files)},onClick(y){y.stopPropagation()},onFocus(y){i.value=!0},onVnodeMounted(y){s.value=y.el}},h={onDrop(y){const w=y.dataTransfer?.files||null;w&&s.value&&(s.value.files=w),f(w)}},m={append(){if(r.value&&(n.editable||n.mode==="locked"))return D(Zt,{class:"of-icon-clear-file",name:"cancel circle",scale:e.scale||"input",tabindex:"0",onClick:d,onKeydown(y){y.key=="Enter"&&d()}})},interactiveContent:()=>{let y;return r.value?y=D("label",{class:["of-field-content-text","of--align-"+(e.align||"start")],for:l.value,onClick:w=>w.stopPropagation()},r.value.name):y=D("label",{class:["of-field-content-text","of--align-"+(e.align||"start"),"of--text-placeholder"],for:l.value,onClick:w=>w.stopPropagation()},[e.placeholder||"Attach a file"]),D("div",{class:"of-file-input"},[D("input",{class:"of-field-input",id:l.value,disabled:!n.editable,name:n.name,type:"file",...p}),y])},prepend(){return D(Zt,{name:"attach",size:e.scale||"input"})}},v=Yo({blank:A(()=>!r.value),cursor:A(()=>n.editable?"pointer":"default"),dragIn:h,focus:c,focused:i,inputId:l,updated:A(()=>o.value!==r.value),value:r,class:A(()=>({"of-file-field":!0})),click:u});return Zo(v),()=>D(Xo,e,{...m,...t.slots})}}),oy=e=>(e.includes(" ")?e.split(" ").map(t=>t[0]).join(""):e.slice(0,2)).toUpperCase(),ci=(e,t,n,o)=>typeof t>"u"?!1:e>=t&&n!==o,Ou=e=>{try{return"detail"in e&&e.detail?.dragData?JSON.parse(e.detail.dragData):"dataTransfer"in e&&e.dataTransfer?JSON.parse(e.dataTransfer.getData("text/plain")||"{}"):null}catch{return null}},qh=(e,t,n)=>{const o=e.getBoundingClientRect(),r=e.scrollTop||0,s=Array.from(e.querySelectorAll(".of-kanban-card"));if(t<24||s.length===0||n&&s.length===1&&s[0]===n)return 12;for(let i=0;i<s.length;i++){const a=s[i];if(n&&a===n)continue;const l=a.getBoundingClientRect(),c=l.top-o.top+r,u=c+l.height,d=c+l.height/2;if(t<d)return c;if(i===s.length-1)return u+12}return 12},XA=(e,t,n,o)=>{const r=n.getBoundingClientRect(),s=n.scrollTop;for(let i=0;i<e.length;i++){const a=e[i];if(a===t)continue;const l=a.getBoundingClientRect(),c=l.top-r.top+s,u=c+l.height;if(Math.abs(c-o)<10)return{nearCard:e[i-1]??null,currIndex:i};if(Math.abs(u-(o-12))<10)return{nearCard:a,currIndex:i}}return{nearCard:null,currIndex:0}},QA=(e,t,n,o,r)=>{const s=Array.from(e.querySelectorAll(".of-kanban-card")),i=e.querySelector(".of-kanban-card.of--is-dragging");if(s.length===0||s.length===1&&s[0]===i||t<44)return 0;const a=parseFloat(i?.getAttribute("data-order")??"0"),l=n.sourceColumnId===r,{nearCard:c,currIndex:u}=XA(s,i,e,o);if(c){const d=parseFloat(c.getAttribute("data-order")??String(u));return a<d&&l?d:d+1}return 0};function eM(e,t){let n;return function(...o){clearTimeout(n),n=window.setTimeout(()=>e.apply(this,o),t)}}const tM=e=>{const t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return[]}return[]},nM=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch{}},oM=be({name:"OfKanbanCard",components:{OfIcon:Zt},props:{card:{type:Object,required:!0},columnId:{type:String,required:!0},isSelected:{type:Boolean,default:!1},draggedCardId:{type:[String,Number],default:void 0},cardMenuItems:{type:Array,default:()=>[]},hovering:{type:Boolean,default:!1}},emits:{"drag-start":null,"project-click":null,"assignee-click":null,"card-title-click":null,"card-click":null,"card-blur":null,"card-menu-item-click":(e,t)=>!0,"card-tag-click":null,"filter-change":null},setup(e,{emit:t}){const n=A(()=>e.draggedCardId===e.card.id),o=()=>{t("card-blur",e.card)},r=()=>{t("card-click",e.card)},s=w=>{t("card-menu-item-click",w.toString(),e.card)},i=C(e.hovering),a=w=>{w.target.closest(".of-kanban-card")&&(i.value=!0)},l=w=>{!w.relatedTarget?.closest(".of-kanban-card")&&!w.relatedTarget?.closest(".of-list-item")&&(i.value=!1)},c=A(()=>e.cardMenuItems?.map(w=>({text:w.text,value:typeof w.value=="function"?()=>w.value(e.card.id):()=>s(w.value)}))),u=A(()=>{const w=e.card.assignee?.name;return w?oy(w):"AN"}),d=w=>{w.dataTransfer&&(w.dataTransfer.effectAllowed="move",w.dataTransfer.setData("text/plain",JSON.stringify({cardId:e.card.id,sourceColumnId:e.columnId})),t("drag-start",e.card))};let f=null,p=!1,h=0,m=0,v=null,y=null;return{isCardDragging:n,handleDragStart:d,assigneeInitials:u,handleBlur:o,handleCardClick:r,handleTouchStart:w=>{v=w.currentTarget;const k=w.touches[0];h=k.clientY,m=k.clientX,y=v.getBoundingClientRect(),f=window.setTimeout(()=>{p=!0,v?.classList.add("of--is-dragging");const S={cardId:e.card.id,cardOrder:e.card.order,sourceColumnId:e.columnId,cardRect:{top:y?.top,left:y?.left,width:y?.width,height:y?.height}};v?.setAttribute("data-drag-data",JSON.stringify(S)),t("drag-start",e.card)},200)},handleTouchMove:w=>{if(!p||!v||!y){f&&(clearTimeout(f),f=null);return}w.preventDefault();const k=w.touches[0],S=k.clientX-m,M=k.clientY-h;v.style.position="fixed",v.style.top=`${y.top}px`,v.style.left=`${y.left}px`,v.style.width=`${y.width}px`,v.style.zIndex="1000",v.style.transform=`translate(${S}px, ${M}px)`;const L=document.elementFromPoint(k.clientX,k.clientY)?.closest(".of-kanban-column-content");L&&L.dispatchEvent(new CustomEvent("card-touch-hover",{detail:{clientX:k.clientX,clientY:k.clientY,dragData:v.getAttribute("data-drag-data"),cardRect:y},bubbles:!0}))},handleTouchEnd:w=>{if(f&&(clearTimeout(f),f=null),!p||!v||!y)return;w.preventDefault(),p=!1,v.style.position="",v.style.top="",v.style.left="",v.style.width="",v.style.zIndex="",v.style.transform="",v.classList.remove("of--is-dragging");const k=w.changedTouches[0],S=document.elementFromPoint(k.clientX,k.clientY)?.closest(".of-kanban-column-content");S&&S.dispatchEvent(new CustomEvent("card-touch-drop",{detail:{clientX:k.clientX,clientY:k.clientY,dragData:v.getAttribute("data-drag-data"),cardRect:y},bubbles:!0})),v.removeAttribute("data-drag-data"),v=null,y=null},handleMouseEnter:a,handleMouseLeave:l,isHovering:i,compactedMenuItems:c}}}),rM=["data-order"],sM={class:"card-content"},iM={class:"of-kanban-card-header"},aM={class:"project-container"},lM={key:0,class:"project-icon"},cM={key:1,class:"project-name"},uM={key:0,class:"of-kanban-card-actions"},dM=["title"],fM=["src","alt"],pM={key:1,class:"avatar-text"},hM={class:"title-container"},mM={class:"tags-container"};function gM(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-button");return P(),W("div",{class:Xe(["of-kanban-card of--elevated-1",{"of--is-dragging":e.isCardDragging,"of--is-selected":e.isSelected}]),"data-order":e.card.order,draggable:"true",onDragstart:t[3]||(t[3]=(...l)=>e.handleDragStart&&e.handleDragStart(...l)),onTouchstart:t[4]||(t[4]=(...l)=>e.handleTouchStart&&e.handleTouchStart(...l)),onTouchmove:t[5]||(t[5]=(...l)=>e.handleTouchMove&&e.handleTouchMove(...l)),onTouchend:t[6]||(t[6]=(...l)=>e.handleTouchEnd&&e.handleTouchEnd(...l)),onClick:t[7]||(t[7]=(...l)=>e.handleCardClick&&e.handleCardClick(...l)),onMouseenter:t[8]||(t[8]=(...l)=>e.handleMouseEnter&&e.handleMouseEnter(...l)),onMouseleave:t[9]||(t[9]=(...l)=>e.handleMouseLeave&&e.handleMouseLeave(...l)),onBlur:t[10]||(t[10]=(...l)=>e.handleBlur&&e.handleBlur(...l)),tabindex:"0"},[g("div",sM,[g("div",iM,[g("div",aM,[Qe(e.$slots,"project",{card:e.card},()=>[e.card.project?.name?(P(),W("div",lM,[b(i,{name:e.card.project?.icon??"mobile"},null,8,["name"])])):$e("",!0),e.card.project?.name?(P(),W("div",cM,[g("div",{class:"project-text",onClick:t[0]||(t[0]=l=>e.$emit("project-click",e.card.project))},Fe(e.card.project?.name),1)])):$e("",!0)]),e.isHovering?(P(),W("div",uM,[e.compactedMenuItems.length>0?(P(),ot(a,{key:0,variant:"text",icon:"more",size:"sm",items:e.compactedMenuItems},null,8,["items"])):$e("",!0)])):$e("",!0)]),Qe(e.$slots,"avatar",{card:e.card},()=>[e.card.assignee?(P(),W("div",{key:0,class:"of-kanban-avatar",onClick:t[1]||(t[1]=l=>e.$emit("assignee-click",e.card.assignee)),title:e.card.assignee.name},[e.card.assignee.avatar?(P(),W("img",{key:0,src:e.card.assignee.avatar,alt:e.card.assignee.name,class:"avatar-image"},null,8,fM)):(P(),W("div",pM,Fe(e.assigneeInitials),1))],8,dM)):$e("",!0)])]),g("div",hM,[Qe(e.$slots,"title",{card:e.card},()=>[g("div",{class:"title-text",onClick:t[2]||(t[2]=l=>e.$emit("card-title-click",e.card))},Fe(e.card.title),1)])]),g("div",mM,[(P(!0),W(Pe,null,ct(e.card.tags,l=>(P(),W("div",{class:"card-tags",key:l},[b(a,{variant:"outlined",icon:"",size:"sm",onClick:jt(c=>e.$emit("card-tag-click",l),["stop"])},{default:j(()=>[ce(Fe(l),1)]),_:2},1032,["onClick"])]))),128))])])],42,rM)}const vM=cn(oM,[["render",gM]]),yM=be({name:"OfKanbanColumn",components:{OfButton:Bs,KanbanCard:vM},props:{column:{type:Object,required:!0},menuItems:{type:Array,default:()=>[]},cardMenuItems:{type:Array,default:()=>[]},draggedCardId:{type:[String,Number],default:void 0},selectedCardId:{type:[String,Number],default:void 0},activeColumnId:{type:String,default:void 0},hasMore:{type:Boolean,default:!1},isCollapsed:{type:Boolean,default:!1}},emits:{"add-card":null,"menu-item-click":(e,t)=>!0,"card-menu-item-click":(e,t)=>!0,"card-click":e=>!0,"project-click":e=>!0,"assignee-click":e=>!0,"card-title-click":e=>!0,"card-tag-click":e=>!0,"card-blur":e=>!0,"card-moved":e=>!0,"card-drag-start":e=>!0,"column-click":e=>!0,"set-active-column":e=>!0,"load-more":null,"collapse-toggle":e=>!0},setup(e,{emit:t}){const n=A(()=>e.activeColumnId===e.column.id),o=C(0),r=C(null),s=C(null),i=A(()=>[...e.column.cards||[]].sort((V,_)=>V.order-_.order)),a=A(()=>e.column.limit?(e.column.cards?.length||0)>=e.column.limit:!1),l=V=>{if(!V.dataTransfer)return;const _=e.column.cards?.length||0;if(ci(_,e.column.limit,r.value??"",e.column.id)){V.dataTransfer.dropEffect="none";return}V.dataTransfer.dropEffect="move",V.preventDefault();const G=V.currentTarget,te=V.clientY-G.getBoundingClientRect().top+G.scrollTop,Y=G.querySelector(".of-kanban-card.of--is-dragging");o.value=qh(G,te,Y),t("set-active-column",e.column.id)},c=V=>{if(V.dataTransfer){if(e.column.limit!==void 0){const _=e.column.cards?.length||0,G=Ou(V);if(!G||ci(_,e.column.limit,G.sourceColumnId??"",e.column.id))return}V.preventDefault(),t("set-active-column",e.column.id)}},u=V=>{const _=V.relatedTarget,G=V.currentTarget;(!_||!G.contains(_))&&t("set-active-column",null)},d=V=>{if(V.preventDefault(),t("set-active-column",null),!V.dataTransfer)return;const _=Ou(V);if(!_?.cardId||!_?.sourceColumnId)return;const G=e.column.cards?.length||0;if(ci(G,e.column.limit,_.sourceColumnId,e.column.id))return;const te=V.currentTarget,Y=V.clientY-te.getBoundingClientRect().top+te.scrollTop,q=QA(te,Y,_,o.value,e.column.id);t("card-moved",{cardId:_.cardId,fromColumn:_.sourceColumnId,toColumn:e.column.id,newOrder:q})},f=V=>{r.value=e.column.id,t("card-drag-start",V)},p=()=>{o.value=0,r.value=null,t("set-active-column",null)},h=V=>{const{clientY:_}=V.detail,G=V.currentTarget;if(!G)return;if(s.value&&(clearTimeout(s.value),s.value=null),ci(e.column.cards?.length||0,e.column.limit,r.value??"",e.column.id)){t("set-active-column",null);return}const te=G.getBoundingClientRect(),Y=20;if(_>=te.top-Y&&_<=te.bottom+Y&&V.detail.clientX>=te.left-Y&&V.detail.clientX<=te.right+Y){const q=_-te.top+(G.scrollTop||0);o.value=qh(G,q),t("set-active-column",e.column.id)}else s.value=window.setTimeout(()=>{t("set-active-column",null)},150)},m=V=>{const _=Ou(V);if(!_)return;if(!_.cardId||!_.sourceColumnId){t("set-active-column",null);return}if(ci(e.column.cards?.length||0,e.column.limit,_.sourceColumnId,e.column.id)){t("set-active-column",null);return}const G=V.currentTarget;if(!G){t("set-active-column",null);return}const te=G.getBoundingClientRect(),Y=G.scrollTop||0;if(V.detail.clientY<te.top||V.detail.clientY>te.bottom||V.detail.clientX<te.left||V.detail.clientX>te.right){t("set-active-column",null);return}const q=Array.from(G.querySelectorAll(".of-kanban-card:not(.of--is-selected)"));let $=0;if(q.length===0)$=0;else{let T=0;for(const J of q){const le=J.getBoundingClientRect(),ye=le.top-te.top+Y+le.height/2;if(o.value-12<=ye)break;T++}$=T}const F=_.cardOrder<=$,E=_.sourceColumnId===e.column.id;F&&E&&$++,t("card-moved",{cardId:_.cardId,fromColumn:_.sourceColumnId,toColumn:e.column.id,newOrder:$}),t("set-active-column",null)},v=V=>{t("card-click",V)},y=V=>{V.target.closest(".of-kanban-card")||t("column-click",e.column)},w=V=>{t("menu-item-click",V,e.column.id)},k=A(()=>e.menuItems?.map(V=>({text:V.text,value:typeof V.value=="function"?()=>V.value(e.column.id):()=>w(V.value)}))),S=A(()=>({top:`${o.value-6}px`})),M=C(null),L=100,N=eM(()=>{if(!M.value||!e.hasMore)return;const{scrollTop:V,scrollHeight:_,clientHeight:G}=M.value;_-V-G<L&&t("load-more",e.column.id)},10);return Go(()=>{M.value&&M.value.addEventListener("scroll",N,{passive:!0})}),cs(()=>{s.value&&clearTimeout(s.value),M.value&&M.value.removeEventListener("scroll",N)}),{isDropTarget:n,isAtLimit:a,sortedCards:i,dropIndicatorStyle:S,compactedMenuItems:k,columnContentRef:M,handleDragOver:l,handleDragEnter:c,handleDragLeave:u,handleDrop:d,handleCardDragStart:f,handleCardClick:v,handleDragEnd:p,handleColumnClick:y,handleCardTouchHover:h,handleCardTouchDrop:m}}}),bM={class:"of-kanban-column-header"},wM={class:"of-kanban-column-title"},kM={class:"of-kanban-column-count"},CM={class:"of-kanban-column-actions"},SM=["data-column-id"],xM={class:"of-kanban-column-footer"};function AM(e,t,n,o,r,s){const i=K("of-button"),a=K("kanban-card");return P(),W("div",{class:Xe(["of-kanban-column",{"of-is-collapsed":e.isCollapsed}]),onDragend:t[13]||(t[13]=(...l)=>e.handleDragEnd&&e.handleDragEnd(...l)),onTouchend:t[14]||(t[14]=(...l)=>e.handleDragEnd&&e.handleDragEnd(...l)),onClick:t[15]||(t[15]=(...l)=>e.handleColumnClick&&e.handleColumnClick(...l))},[g("div",bM,[g("div",wM,[g("h3",null,Fe(e.column.title),1),g("span",kM,[ce(Fe(e.column.total||e.column.cards?.length||0)+" ",1),e.column.limit?(P(),W(Pe,{key:0},[ce(" / "+Fe(e.column.limit),1)],64)):$e("",!0)])]),g("div",CM,[b(i,{variant:"text",class:"of-kanban-column-collapse-button",icon:e.isCollapsed?"expand open":"expand close",size:"sm",onClick:t[0]||(t[0]=jt(l=>e.$emit("collapse-toggle",e.column.id),["stop"]))},null,8,["icon"]),e.compactedMenuItems.length>0&&!e.isCollapsed?(P(),ot(i,{key:0,variant:"text",icon:"more",size:"sm",items:e.compactedMenuItems},null,8,["items"])):$e("",!0)])]),g("div",{class:"of-kanban-column-content","data-column-id":e.column.id,onDragover:t[6]||(t[6]=jt((...l)=>e.handleDragOver&&e.handleDragOver(...l),["prevent"])),onDrop:t[7]||(t[7]=jt((...l)=>e.handleDrop&&e.handleDrop(...l),["prevent"])),onDragenter:t[8]||(t[8]=jt((...l)=>e.handleDragEnter&&e.handleDragEnter(...l),["prevent"])),onDragleave:t[9]||(t[9]=jt((...l)=>e.handleDragLeave&&e.handleDragLeave(...l),["prevent"])),onCardTouchHover:t[10]||(t[10]=(...l)=>e.handleCardTouchHover&&e.handleCardTouchHover(...l)),onCardTouchDrop:t[11]||(t[11]=(...l)=>e.handleCardTouchDrop&&e.handleCardTouchDrop(...l)),ref:"columnContentRef"},[(P(!0),W(Pe,null,ct(e.sortedCards,l=>(P(),ot(a,{key:l.id,card:l,"column-id":e.column.id,"is-selected":e.selectedCardId===l.id,"dragged-card-id":e.draggedCardId,"card-menu-items":e.cardMenuItems,onCardClick:e.handleCardClick,onDragStart:e.handleCardDragStart,onProjectClick:t[1]||(t[1]=c=>e.$emit("project-click",c)),onAssigneeClick:t[2]||(t[2]=c=>e.$emit("assignee-click",c)),onCardTitleClick:t[3]||(t[3]=c=>e.$emit("card-title-click",c)),onCardTagClick:t[4]||(t[4]=c=>e.$emit("card-tag-click",c)),onCardMenuItemClick:c=>e.$emit("card-menu-item-click",c,l),onCardBlur:t[5]||(t[5]=c=>e.$emit("card-blur",c))},{title:j(c=>[Qe(e.$slots,"card-title",{card:c.card})]),project:j(c=>[Qe(e.$slots,"project",{card:c.card})]),avatar:j(c=>[Qe(e.$slots,"avatar",{card:c.card})]),_:2},1032,["card","column-id","is-selected","dragged-card-id","card-menu-items","onCardClick","onDragStart","onCardMenuItemClick"]))),128)),e.isDropTarget?(P(),W("div",{key:0,style:Ht(e.dropIndicatorStyle),class:"of-kanban-column-drop-indicator"},null,4)):$e("",!0)],40,SM),g("div",xM,[b(i,{class:"create-issue-button",onClick:t[12]||(t[12]=l=>e.$emit("add-card")),disabled:e.isAtLimit,variant:"elevated",tint:"primary",icon:"plus"},{default:j(()=>[Qe(e.$slots,"create-button",{},()=>[t[16]||(t[16]=ce(" Create Issue ",-1))])]),_:3},8,["disabled"])])],34)}const MM=cn(yM,[["render",AM]]),TM=be({name:"OfKanbanFilters",props:{assignees:{type:Array,default:()=>[]},searchInputPlaceholder:{type:String,default:"Search by keyword..."},tags:{type:Set,default:()=>new Set},debounceTime:{type:Number,default:300}},emits:["filter-change","clear-filters"],setup(e,{emit:t}){const n=C(""),o=C([]);let r;const s=u=>u?oy(u):"AN",i=()=>{t("filter-change",{keyword:n.value,assignees:o.value,tags:Array.from(e.tags)})},a=(u,d)=>{n.value=d.trim(),clearTimeout(r),r=setTimeout(()=>{i()},e.debounceTime)},l=u=>{const d=o.value.indexOf(u);d===-1?o.value.push(u):o.value.splice(d,1),i()},c=()=>{n.value="",o.value=[],clearTimeout(r),t("clear-filters",{keyword:"",assignees:[]})};return cs(()=>{clearTimeout(r)}),{keyword:n,selectedAssignees:o,handleKeywordChange:a,handleClearFilters:c,toggleAssignee:l,getAssigneeInitials:s}}}),EM={class:"of-kanban-filters"},$M={class:"of-kanban-filters-content"},OM={class:"of-kanban-filters-left"},DM={class:"of-default-filters"},RM={class:"of-kanban-avatars"},NM=["onClick","title"],IM=["src","alt"],LM={key:1,class:"avatar-text"},PM={class:"of-kanban-filters-right"};function VM(e,t,n,o,r,s){const i=K("of-field"),a=K("of-button");return P(),W("div",EM,[g("div",$M,[g("div",OM,[g("div",DM,[b(i,{class:"of-filter-input",modelValue:e.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>e.keyword=l),type:"text",onInput:e.handleKeywordChange,placeholder:e.searchInputPlaceholder},null,8,["modelValue","onInput","placeholder"]),g("div",RM,[(P(!0),W(Pe,null,ct(e.assignees,l=>(P(),W("div",{key:l.id,class:Xe({"of-kanban-avatar":!0,"of--selected":e.selectedAssignees.includes(l.id)}),onClick:c=>e.toggleAssignee(l.id),title:l.name},[l.avatar?(P(),W("img",{key:0,src:l.avatar,alt:l.name,class:"avatar-image"},null,8,IM)):(P(),W("div",LM,Fe(e.getAssigneeInitials(l.name)),1))],10,NM))),128))]),Qe(e.$slots,"tag-filters"),b(a,{class:"of-clear-filters",onClick:e.handleClearFilters,variant:"text"},{default:j(()=>[Qe(e.$slots,"clear-filters",{},()=>[t[1]||(t[1]=ce(" Clear filters ",-1))])]),_:3},8,["onClick"])])]),g("div",PM,[Qe(e.$slots,"custom-filters")])])])}const _M=cn(TM,[["render",VM]]),BM=be({name:"OfKanbanBoard",components:{KanbanColumn:MM,KanbanFilters:_M},props:{columns:{type:Array,required:!0},columnMenuItems:{type:Array,default:()=>[]},cardMenuItems:{type:Array,default:()=>[]},searchInputPlaceholder:{type:String,default:"Search by keyword..."},hasMoreCards:{type:Object,default:()=>({})},id:{type:String,default:"default"}},emits:["update:columns","card-moved","column-menu-item-click","add-card","card-click","project-click","assignee-click","card-title-click","card-tag-click","card-menu-item-click","filter-change","load-more"],setup(e,{emit:t}){const n=C(),o=C(void 0),r=C(void 0),s=C([]),i=pt({keyword:"",assignees:[],tags:new Set}),a=C(null),l=A(()=>`kanban-collapsed-columns-${e.id}`),c=A({get:()=>Array.from(i.tags),set:$=>{i.tags=new Set($)}});Ae(s,$=>{nM(l.value,$)});const u=A(()=>{const $=new Map;return e.columns.forEach(F=>{F.cards?.forEach(E=>{E.assignee&&$.set(E.assignee.id,E.assignee)})}),Array.from($.values())}),d=A(()=>{const $=new Set;return e.columns.forEach(F=>{F.cards?.forEach(E=>{E.tags?.forEach(T=>$.add(T))})}),Array.from($)}),f=A(()=>e.columns.map($=>{if(!$.cards)return $;const F=$.cards.filter(E=>{const T=i.keyword?E.title.toLowerCase().includes(i.keyword.toLowerCase()):!0,J=i.assignees.length?E.assignee&&i.assignees.includes(E.assignee.id):!0,le=i.tags.size?E.tags?.some(ye=>i.tags.has(ye)):!0;return T&&J&&le});return{...$,cards:F}})),p=A(()=>Array.from(i.tags)),h=$=>{o.value=$.id,r.value=$.id},m=$=>{r.value===$.id&&(r.value=void 0)},v=$=>{r.value=$.id,t("card-click",$)},y=$=>{i.tags.has($)?i.tags.delete($):i.tags.add($),t("card-tag-click",$)},w=$=>{r.value=void 0},k=()=>{r.value=void 0},S=({cardId:$,fromColumn:F,toColumn:E,newOrder:T})=>{const J=[...e.columns],le=J.findIndex(ae=>ae.id===F),ye=J.findIndex(ae=>ae.id===E),Me=J[le].cards?.find(ae=>ae.id===$);if(!Me)return;J[le]={...J[le],cards:J[le].cards?.filter(ae=>ae.id!==$).map((ae,Ee)=>({...ae,order:Ee}))};const me=J[ye];me.cards||(me.cards=[]);const X=[...me.cards];X.splice(T,0,Me),J[ye]={...me,cards:X.map((ae,Ee)=>({...ae,order:Ee}))},o.value=void 0,t("update:columns",J),t("card-moved",{cardId:$,fromColumn:F,toColumn:E,newOrder:T})},M=$=>{const F=$.target;F.closest(".of-kanban-card")||F.closest(".of-kanban-column")||F.closest("button")||(r.value=void 0)},L=$=>{n.value&&!n.value.contains($.target)&&(r.value=void 0)},N=()=>{o.value=void 0},V=($,F)=>{t("column-menu-item-click",$,F)},_=($,F=!1)=>{i.keyword=$.keyword,i.assignees=$.assignees,i.tags=new Set($.tags),F&&i.tags.clear(),t("filter-change",i)},G=$=>{a.value=$},te=$=>t("load-more",$),Y=$=>{s.value.indexOf($)===-1?s.value=[...s.value,$]:s.value=s.value.filter(F=>F!==$)},q=$=>{i.tags.delete($),t("filter-change",i)};return Go(()=>{s.value=tM(l.value),window.addEventListener("click",L),window.addEventListener("dragend",N)}),cs(()=>{window.removeEventListener("click",L),window.removeEventListener("dragend",N)}),{boardRef:n,draggedCardId:o,selectedCardId:r,assignees:u,tags:d,filteredColumns:f,activeColumnId:a,collapsedColumns:s,currentFilters:i,selectedTags:p,getSelectedTags:c,handleCardMove:S,handleCardDragStart:h,handleCardBlur:m,handleCardClick:v,handleCardTagClick:y,handleColumnClick:w,handleBlur:k,handleBoardClick:M,handleColumnMenuItemClick:V,handleFilterChange:_,setActiveColumn:G,handleLoadMore:te,handleColumnCollapse:Y,removeTag:q}}}),HM={class:"selected-tags"},zM=["onClick"],FM={class:"of-kanban-columns"};function jM(e,t,n,o,r,s){const i=K("kanban-filters"),a=K("kanban-column");return P(),W("div",{class:"of-kanban-board",onBlur:t[5]||(t[5]=(...l)=>e.handleBlur&&e.handleBlur(...l)),tabindex:"-1",ref:"boardRef",onClick:t[6]||(t[6]=(...l)=>e.handleBoardClick&&e.handleBoardClick(...l))},[b(i,{assignees:e.assignees,"search-input-placeholder":e.searchInputPlaceholder,tags:e.currentFilters.tags,onFilterChange:e.handleFilterChange,onClearFilters:t[0]||(t[0]=l=>e.handleFilterChange(l,!0))},{"custom-filters":j(()=>[Qe(e.$slots,"filters")]),"tag-filters":j(()=>[g("div",HM,[(P(!0),W(Pe,null,ct(e.getSelectedTags,l=>(P(),W("button",{key:l,class:"tag-button",onClick:c=>e.removeTag(l)},[ce(Fe(l)+" ",1),t[7]||(t[7]=g("span",{class:"remove-icon"},"",-1))],8,zM))),128))])]),"clear-filters":j(()=>[Qe(e.$slots,"clear-filters")]),_:3},8,["assignees","search-input-placeholder","tags","onFilterChange"]),g("div",FM,[(P(!0),W(Pe,null,ct(e.filteredColumns,l=>(P(),ot(a,{key:l.id,column:l,"menu-items":e.columnMenuItems,"card-menu-items":e.cardMenuItems,"dragged-card-id":e.draggedCardId,"selected-card-id":e.selectedCardId,"active-column-id":e.activeColumnId,"has-more":e.hasMoreCards[l.id],"is-collapsed":e.collapsedColumns.includes(l.id),onMenuItemClick:e.handleColumnMenuItemClick,onColumnClick:e.handleColumnClick,onCardBlur:e.handleCardBlur,onCardMoved:e.handleCardMove,onCardDragStart:e.handleCardDragStart,onCardClick:e.handleCardClick,onAddCard:c=>e.$emit("add-card",l.id),onProjectClick:t[1]||(t[1]=c=>e.$emit("project-click",c)),onAssigneeClick:t[2]||(t[2]=c=>e.$emit("assignee-click",c)),onCardTitleClick:t[3]||(t[3]=c=>e.$emit("card-title-click",c)),onCardTagClick:e.handleCardTagClick,onCardMenuItemClick:t[4]||(t[4]=(c,u)=>e.$emit("card-menu-item-click",c,u)),onSetActiveColumn:e.setActiveColumn,onLoadMore:e.handleLoadMore,onCollapseToggle:e.handleColumnCollapse},{"card-title":j(c=>[Qe(e.$slots,"card-title",{card:c.card})]),project:j(c=>[Qe(e.$slots,"project",{card:c.card})]),avatar:j(c=>[Qe(e.$slots,"avatar",{card:c.card})]),"create-button":j(()=>[Qe(e.$slots,"create-button")]),_:3},8,["column","menu-items","card-menu-items","dragged-card-id","selected-card-id","active-column-id","has-more","is-collapsed","onMenuItemClick","onColumnClick","onCardBlur","onCardMoved","onCardDragStart","onCardClick","onAddCard","onCardTagClick","onSetActiveColumn","onLoadMore","onCollapseToggle"]))),128))])],544)}const UM=cn(BM,[["render",jM]]),KM=(e,t)=>t*e-t,WM=(e,t)=>KM(e,t)+1,qM=(e,t)=>Math.floor((e-1+t)/t),Gh={OfConfig:ix,OfDataTable:_x,OfDatetimeField:K1,OfDateField:W1,OfTimeField:q1,OfDateTimePopup:U1,OfDialog:rA,OfField:ka,OfIcon:Zt,OfTooltip:cA,OfFocusGroup:aA,OfFormat:lA,OfLink:Bf,OfListItem:V1,OfListGroup:pA,OfNavGroup:L1,OfOverlay:Jo,OfPagination:SA,OfSelectField:G1,OfSidebar:EA,OfSliderField:J1,OfTabs:VA,OfCalendar:JS,OfTextField:ul,OfToggleField:Z1,OfRadioField:Q1,OfToggle:jA,OfRadio:UA,OfSpinner:O1,OfButton:Bs,OfColorField:F1,OfDataType:zx,OfBadge:M1,OfOptionList:Qs,OfFileField:ny,OfKanbanBoard:UM},Jh={file:ny,select:G1,text:ul,textarea:ul,password:ul,slider:J1,toggle:Z1,radio:Q1,datetime:K1,date:W1,time:q1,color:F1},Yh={color:KA,duration:qA,number:GA,url:JA,datetime:WA,date:ey,time:Fc},Zh={},GM={install(e,t){Ih(()=>{for(const n in Jh)R1(n,Jh[n]);for(const n in Yh)jC(n,Yh[n]);$1(ZA)}),t&&typeof t.config=="function"&&Ih(t.config);for(const n in Gh)e.component(n,Gh[n]);for(const n in Zh)e.directive(n,Zh[n])}};const ws=typeof document<"u";function JM(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const vt=Object.assign;function Du(e,t){const n={};for(const o in t){const r=t[o];n[o]=so(r)?r.map(e):e(r)}return n}const Ni=()=>{},so=Array.isArray,ry=/#/g,YM=/&/g,ZM=/\//g,XM=/=/g,QM=/\?/g,sy=/\+/g,eT=/%5B/g,tT=/%5D/g,iy=/%5E/g,nT=/%60/g,ay=/%7B/g,oT=/%7C/g,ly=/%7D/g,rT=/%20/g;function Kf(e){return encodeURI(""+e).replace(oT,"|").replace(eT,"[").replace(tT,"]")}function sT(e){return Kf(e).replace(ay,"{").replace(ly,"}").replace(iy,"^")}function Id(e){return Kf(e).replace(sy,"%2B").replace(rT,"+").replace(ry,"%23").replace(YM,"%26").replace(nT,"`").replace(ay,"{").replace(ly,"}").replace(iy,"^")}function iT(e){return Id(e).replace(XM,"%3D")}function aT(e){return Kf(e).replace(ry,"%23").replace(QM,"%3F")}function lT(e){return e==null?"":aT(e).replace(ZM,"%2F")}function Qi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const cT=/\/$/,uT=e=>e.replace(cT,"");function Ru(e,t,n="/"){let o,r={},s="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(o=o||t.slice(0,a),i=t.slice(a,t.length)),o=hT(o??t,n),{fullPath:o+(s&&"?")+s+i,path:o,query:r,hash:Qi(i)}}function dT(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Xh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function fT(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&Hs(t.matched[o],n.matched[r])&&cy(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Hs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function cy(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pT(e[n],t[n]))return!1;return!0}function pT(e,t){return so(e)?Qh(e,t):so(t)?Qh(t,e):e===t}function Qh(e,t){return so(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function hT(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let s=n.length-1,i,a;for(i=0;i<o.length;i++)if(a=o[i],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(i).join("/")}var ea;(function(e){e.pop="pop",e.push="push"})(ea||(ea={}));var Ii;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ii||(Ii={}));function mT(e){if(!e)if(ws){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),uT(e)}const gT=/^[^#]+#/;function vT(e,t){return e.replace(gT,"#")+t}function yT(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const jc=()=>({left:window.scrollX,top:window.scrollY});function bT(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=yT(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function em(e,t){return(history.state?history.state.position-t:-1)+e}const Ld=new Map;function wT(e,t){Ld.set(e,t)}function kT(e){const t=Ld.get(e);return Ld.delete(e),t}let CT=()=>location.protocol+"//"+location.host;function uy(e,t){const{pathname:n,search:o,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Xh(l,"")}return Xh(n,e)+o+r}function ST(e,t,n,o){let r=[],s=[],i=null;const a=({state:f})=>{const p=uy(e,location),h=n.value,m=t.value;let v=0;if(f){if(n.value=p,t.value=f,i&&i===h){i=null;return}v=m?f.position-m.position:0}else o(p);r.forEach(y=>{y(n.value,h,{delta:v,type:ea.pop,direction:v?v>0?Ii.forward:Ii.back:Ii.unknown})})};function l(){i=n.value}function c(f){r.push(f);const p=()=>{const h=r.indexOf(f);h>-1&&r.splice(h,1)};return s.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(vt({},f.state,{scroll:jc()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function tm(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?jc():null}}function xT(e){const{history:t,location:n}=window,o={value:uy(e,n)},r={value:t.state};r.value||s(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:CT()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function i(l,c){const u=vt({},t.state,tm(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),o.value=l}function a(l,c){const u=vt({},r.value,t.state,{forward:l,scroll:jc()});s(u.current,u,!0);const d=vt({},tm(o.value,l,null),{position:u.position+1},c);s(l,d,!1),o.value=l}return{location:o,state:r,push:a,replace:i}}function AT(e){e=mT(e);const t=xT(e),n=ST(e,t.state,t.location,t.replace);function o(s,i=!0){i||n.pauseListeners(),history.go(s)}const r=vt({location:"",base:e,go:o,createHref:vT.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function MT(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),AT(e)}function TT(e){return typeof e=="string"||e&&typeof e=="object"}function dy(e){return typeof e=="string"||typeof e=="symbol"}const rr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},fy=Symbol("");var nm;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(nm||(nm={}));function zs(e,t){return vt(new Error,{type:e,[fy]:!0},t)}function To(e,t){return e instanceof Error&&fy in e&&(t==null||!!(e.type&t))}const om="[^/]+?",ET={sensitive:!1,strict:!1,start:!0,end:!0},$T=/[.+*?^${}()[\]/\\]/g;function OT(e,t){const n=vt({},ET,t),o=[];let r=n.start?"^":"";const s=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let p=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace($T,"\\$&"),p+=40;else if(f.type===1){const{value:h,repeatable:m,optional:v,regexp:y}=f;s.push({name:h,repeatable:m,optional:v});const w=y||om;if(w!==om){p+=10;try{new RegExp(`(${w})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${h}" (${w}): `+S.message)}}let k=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(k=v&&c.length<2?`(?:/${k})`:"/"+k),v&&(k+="?"),r+=k,p+=20,v&&(p+=-8),m&&(p+=-20),w===".*"&&(p+=-50)}u.push(p)}o.push(u)}if(n.strict&&n.end){const c=o.length-1;o[c][o[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(i),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",h=s[f-1];d[h.name]=p&&h.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:h,repeatable:m,optional:v}=p,y=h in c?c[h]:"";if(so(y)&&!m)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const w=so(y)?y.join("/"):y;if(!w)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${h}"`);u+=w}}return u||"/"}return{re:i,score:o,keys:s,parse:a,stringify:l}}function DT(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function py(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const s=DT(o[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-o.length)===1){if(rm(o))return 1;if(rm(r))return-1}return r.length-o.length}function rm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const RT={type:0,value:""},NT=/[a-zA-Z0-9_]/;function IT(e){if(!e)return[[]];if(e==="/")return[[RT]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,o=n;const r=[];let s;function i(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function d(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),i()):l===":"?(d(),n=1):f();break;case 4:f(),n=o;break;case 1:l==="("?n=2:NT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),i(),r}function LT(e,t,n){const o=OT(IT(e.path),n),r=vt(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function PT(e,t){const n=[],o=new Map;t=am({strict:!1,end:!0,sensitive:!1},t);function r(u){return o.get(u)}function s(u,d,f){const p=!f,h=VT(u);h.aliasOf=f&&f.record;const m=am(t,u),v=[h];if("alias"in u){const k=typeof u.alias=="string"?[u.alias]:u.alias;for(const S of k)v.push(vt({},h,{components:f?f.record.components:h.components,path:S,aliasOf:f?f.record:h}))}let y,w;for(const k of v){const{path:S}=k;if(d&&S[0]!=="/"){const M=d.record.path,L=M[M.length-1]==="/"?"":"/";k.path=d.record.path+(S&&L+S)}if(y=LT(k,d,m),f?f.alias.push(y):(w=w||y,w!==y&&w.alias.push(y),p&&u.name&&!im(y)&&i(u.name)),hy(y)&&l(y),h.children){const M=h.children;for(let L=0;L<M.length;L++)s(M[L],y,f&&f.children[L])}f=f||y}return w?()=>{i(w)}:Ni}function i(u){if(dy(u)){const d=o.get(u);d&&(o.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(i),d.alias.forEach(i))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&o.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){const d=HT(u,n);n.splice(d,0,u),u.record.name&&!im(u)&&o.set(u.record.name,u)}function c(u,d){let f,p={},h,m;if("name"in u&&u.name){if(f=o.get(u.name),!f)throw zs(1,{location:u});m=f.record.name,p=vt(sm(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),u.params&&sm(u.params,f.keys.map(w=>w.name))),h=f.stringify(p)}else if(u.path!=null)h=u.path,f=n.find(w=>w.re.test(h)),f&&(p=f.parse(h),m=f.record.name);else{if(f=d.name?o.get(d.name):n.find(w=>w.re.test(d.path)),!f)throw zs(1,{location:u,currentLocation:d});m=f.record.name,p=vt({},d.params,u.params),h=f.stringify(p)}const v=[];let y=f;for(;y;)v.unshift(y.record),y=y.parent;return{name:m,path:h,params:p,matched:v,meta:BT(v)}}return e.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function sm(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function VT(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:_T(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function _T(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function im(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function BT(e){return e.reduce((t,n)=>vt(t,n.meta),{})}function am(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function HT(e,t){let n=0,o=t.length;for(;n!==o;){const s=n+o>>1;py(e,t[s])<0?o=s:n=s+1}const r=zT(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function zT(e){let t=e;for(;t=t.parent;)if(hy(t)&&py(e,t)===0)return t}function hy({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function FT(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const s=o[r].replace(sy," "),i=s.indexOf("="),a=Qi(i<0?s:s.slice(0,i)),l=i<0?null:Qi(s.slice(i+1));if(a in t){let c=t[a];so(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function lm(e){let t="";for(let n in e){const o=e[n];if(n=iT(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(so(o)?o.map(s=>s&&Id(s)):[o&&Id(o)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function jT(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=so(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const UT=Symbol(""),cm=Symbol(""),Uc=Symbol(""),my=Symbol(""),Pd=Symbol("");function ui(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ur(e,t,n,o,r,s=i=>i()){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(zs(4,{from:n,to:t})):f instanceof Error?l(f):TT(f)?l(zs(2,{from:t,to:f})):(i&&o.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),a())},u=s(()=>e.call(o&&o.instances[r],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Nu(e,t,n,o,r=s=>s()){const s=[];for(const i of e)for(const a in i.components){let l=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(KT(l)){const u=(l.__vccOpts||l)[t];u&&s.push(ur(u,n,o,i,a,r))}else{let c=l();s.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const d=JM(u)?u.default:u;i.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&ur(p,n,o,i,a,r)()}))}}return s}function KT(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function um(e){const t=An(Uc),n=An(my),o=A(()=>{const l=eo(e.to);return t.resolve(l)}),r=A(()=>{const{matched:l}=o.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Hs.bind(null,u));if(f>-1)return f;const p=dm(l[c-2]);return c>1&&dm(u)===p&&d[d.length-1].path!==p?d.findIndex(Hs.bind(null,l[c-2])):f}),s=A(()=>r.value>-1&&JT(n.params,o.value.params)),i=A(()=>r.value>-1&&r.value===n.matched.length-1&&cy(n.params,o.value.params));function a(l={}){return GT(l)?t[eo(e.replace)?"replace":"push"](eo(e.to)).catch(Ni):Promise.resolve()}return{route:o,href:A(()=>o.value.href),isActive:s,isExactActive:i,navigate:a}}const WT=be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:um,setup(e,{slots:t}){const n=pt(um(e)),{options:o}=An(Uc),r=A(()=>({[fm(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[fm(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:D("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),qT=WT;function GT(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function JT(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!so(r)||r.length!==o.length||o.some((s,i)=>s!==r[i]))return!1}return!0}function dm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const fm=(e,t,n)=>e??t??n,YT=be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=An(Pd),r=A(()=>e.route||o.value),s=An(cm,0),i=A(()=>{let c=eo(s);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=A(()=>r.value.matched[i.value]);Ho(cm,A(()=>i.value+1)),Ho(UT,a),Ho(Pd,r);const l=C();return Ae(()=>[l.value,a.value,e.name],([c,u,d],[f,p,h])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Hs(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,d=a.value,f=d&&d.components[u];if(!f)return pm(n.default,{Component:f,route:c});const p=d.props[u],h=p?p===!0?c.params:typeof p=="function"?p(c):p:null,v=D(f,vt({},h,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return pm(n.default,{Component:v,route:c})||v}}});function pm(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ZT=YT;function XT(e){const t=PT(e.routes,e),n=e.parseQuery||FT,o=e.stringifyQuery||lm,r=e.history,s=ui(),i=ui(),a=ui(),l=jn(rr);let c=rr;ws&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Du.bind(null,H=>""+H),d=Du.bind(null,lT),f=Du.bind(null,Qi);function p(H,ee){let Q,de;return dy(H)?(Q=t.getRecordMatcher(H),de=ee):de=H,t.addRoute(de,Q)}function h(H){const ee=t.getRecordMatcher(H);ee&&t.removeRoute(ee)}function m(){return t.getRoutes().map(H=>H.record)}function v(H){return!!t.getRecordMatcher(H)}function y(H,ee){if(ee=vt({},ee||l.value),typeof H=="string"){const z=Ru(n,H,ee.path),ne=t.resolve({path:z.path},ee),re=r.createHref(z.fullPath);return vt(z,ne,{params:f(ne.params),hash:Qi(z.hash),redirectedFrom:void 0,href:re})}let Q;if(H.path!=null)Q=vt({},H,{path:Ru(n,H.path,ee.path).path});else{const z=vt({},H.params);for(const ne in z)z[ne]==null&&delete z[ne];Q=vt({},H,{params:d(z)}),ee.params=d(ee.params)}const de=t.resolve(Q,ee),Ve=H.hash||"";de.params=u(f(de.params));const x=dT(o,vt({},H,{hash:sT(Ve),path:de.path})),R=r.createHref(x);return vt({fullPath:x,hash:Ve,query:o===lm?jT(H.query):H.query||{}},de,{redirectedFrom:void 0,href:R})}function w(H){return typeof H=="string"?Ru(n,H,l.value.path):vt({},H)}function k(H,ee){if(c!==H)return zs(8,{from:ee,to:H})}function S(H){return N(H)}function M(H){return S(vt(w(H),{replace:!0}))}function L(H){const ee=H.matched[H.matched.length-1];if(ee&&ee.redirect){const{redirect:Q}=ee;let de=typeof Q=="function"?Q(H):Q;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=w(de):{path:de},de.params={}),vt({query:H.query,hash:H.hash,params:de.path!=null?{}:H.params},de)}}function N(H,ee){const Q=c=y(H),de=l.value,Ve=H.state,x=H.force,R=H.replace===!0,z=L(Q);if(z)return N(vt(w(z),{state:typeof z=="object"?vt({},Ve,z.state):Ve,force:x,replace:R}),ee||Q);const ne=Q;ne.redirectedFrom=ee;let re;return!x&&fT(o,de,Q)&&(re=zs(16,{to:ne,from:de}),Me(de,de,!0,!1)),(re?Promise.resolve(re):G(ne,de)).catch(oe=>To(oe)?To(oe,2)?oe:ye(oe):J(oe,ne,de)).then(oe=>{if(oe){if(To(oe,2))return N(vt({replace:R},w(oe.to),{state:typeof oe.to=="object"?vt({},Ve,oe.to.state):Ve,force:x}),ee||ne)}else oe=Y(ne,de,!0,R,Ve);return te(ne,de,oe),oe})}function V(H,ee){const Q=k(H,ee);return Q?Promise.reject(Q):Promise.resolve()}function _(H){const ee=ae.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(H):H()}function G(H,ee){let Q;const[de,Ve,x]=QT(H,ee);Q=Nu(de.reverse(),"beforeRouteLeave",H,ee);for(const z of de)z.leaveGuards.forEach(ne=>{Q.push(ur(ne,H,ee))});const R=V.bind(null,H,ee);return Q.push(R),B(Q).then(()=>{Q=[];for(const z of s.list())Q.push(ur(z,H,ee));return Q.push(R),B(Q)}).then(()=>{Q=Nu(Ve,"beforeRouteUpdate",H,ee);for(const z of Ve)z.updateGuards.forEach(ne=>{Q.push(ur(ne,H,ee))});return Q.push(R),B(Q)}).then(()=>{Q=[];for(const z of x)if(z.beforeEnter)if(so(z.beforeEnter))for(const ne of z.beforeEnter)Q.push(ur(ne,H,ee));else Q.push(ur(z.beforeEnter,H,ee));return Q.push(R),B(Q)}).then(()=>(H.matched.forEach(z=>z.enterCallbacks={}),Q=Nu(x,"beforeRouteEnter",H,ee,_),Q.push(R),B(Q))).then(()=>{Q=[];for(const z of i.list())Q.push(ur(z,H,ee));return Q.push(R),B(Q)}).catch(z=>To(z,8)?z:Promise.reject(z))}function te(H,ee,Q){a.list().forEach(de=>_(()=>de(H,ee,Q)))}function Y(H,ee,Q,de,Ve){const x=k(H,ee);if(x)return x;const R=ee===rr,z=ws?history.state:{};Q&&(de||R?r.replace(H.fullPath,vt({scroll:R&&z&&z.scroll},Ve)):r.push(H.fullPath,Ve)),l.value=H,Me(H,ee,Q,R),ye()}let q;function $(){q||(q=r.listen((H,ee,Q)=>{if(!Ee.listening)return;const de=y(H),Ve=L(de);if(Ve){N(vt(Ve,{replace:!0}),de).catch(Ni);return}c=de;const x=l.value;ws&&wT(em(x.fullPath,Q.delta),jc()),G(de,x).catch(R=>To(R,12)?R:To(R,2)?(N(R.to,de).then(z=>{To(z,20)&&!Q.delta&&Q.type===ea.pop&&r.go(-1,!1)}).catch(Ni),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),J(R,de,x))).then(R=>{R=R||Y(de,x,!1),R&&(Q.delta&&!To(R,8)?r.go(-Q.delta,!1):Q.type===ea.pop&&To(R,20)&&r.go(-1,!1)),te(de,x,R)}).catch(Ni)}))}let F=ui(),E=ui(),T;function J(H,ee,Q){ye(H);const de=E.list();return de.length?de.forEach(Ve=>Ve(H,ee,Q)):console.error(H),Promise.reject(H)}function le(){return T&&l.value!==rr?Promise.resolve():new Promise((H,ee)=>{F.add([H,ee])})}function ye(H){return T||(T=!H,$(),F.list().forEach(([ee,Q])=>H?Q(H):ee()),F.reset()),H}function Me(H,ee,Q,de){const{scrollBehavior:Ve}=e;if(!ws||!Ve)return Promise.resolve();const x=!Q&&kT(em(H.fullPath,0))||(de||!Q)&&history.state&&history.state.scroll||null;return ut().then(()=>Ve(H,ee,x)).then(R=>R&&bT(R)).catch(R=>J(R,H,ee))}const me=H=>r.go(H);let X;const ae=new Set,Ee={currentRoute:l,listening:!0,addRoute:p,removeRoute:h,hasRoute:v,getRoutes:m,resolve:y,options:e,push:S,replace:M,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:s.add,beforeResolve:i.add,afterEach:a.add,onError:E.add,isReady:le,install(H){const ee=this;H.component("RouterLink",qT),H.component("RouterView",ZT),H.config.globalProperties.$router=ee,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>eo(l)}),ws&&!X&&l.value===rr&&(X=!0,S(r.location).catch(Ve=>{}));const Q={};for(const Ve in rr)Object.defineProperty(Q,Ve,{get:()=>l.value[Ve],enumerable:!0});H.provide(Uc,ee),H.provide(my,$v(Q)),H.provide(Pd,l);const de=H.unmount;ae.add(H),H.unmount=function(){ae.delete(H),ae.size<1&&(c=rr,q&&q(),q=null,l.value=rr,X=!1,T=!1),de()}}};function B(H){return H.reduce((ee,Q)=>ee.then(()=>_(Q)),Promise.resolve())}return Ee}function QT(e,t){const n=[],o=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let i=0;i<s;i++){const a=t.matched[i];a&&(e.matched.find(c=>Hs(c,a))?o.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(c=>Hs(c,l))||r.push(l))}return[n,o,r]}function e3(){return An(Uc)}function t3(e){return(e.stack||e).toString()}const hm=["primary","secondary","tertiary"],n3=be({name:"App",setup(){const e=C("primary"),t=C(null);Jv(h=>(t.value=t3(h),!0));const n=Vc(),o=e3(),r=C("16"),s=C(!1),i=C(!1),a=A(()=>n.isMobile),l=C(!1),c=C(!0),u=A({get(){return a.value?l.value:c.value},set(h){(a.value?l:c).value=h}});Ae(r,h=>{ut(()=>{document.documentElement.style.fontSize=h+"px"})});const d=()=>{s.value=!0},f=()=>{a.value?l.value=!l.value:c.value=!c.value};Ae(o.currentRoute,()=>{a.value&&(l.value=!1)}),Ae(()=>i.value,h=>{const m=document.body.parentElement;m&&(m.className=h?"-of-theme-dark":"")},{immediate:!0}),Ae(()=>e.value,h=>{const m=document.body;m&&(hm.forEach(v=>{m.classList.remove(`of--tint-${v}`)}),m.classList.add(`of--tint-${h}`))},{immediate:!0});const p=A(()=>hm.map(h=>({name:h,icon:h==e.value?"accept circle":"radio checked"})));return{baseFontSize:r,configActive:s,error:t,isMobile:a,showConfig:d,sidebarActive:u,toggleSidebar:f,dark:i,tint:e,tintParams:p}}}),ht=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},o3={class:"app-header"},r3={class:"container"},s3={class:"app-config-source",style:{width:"auto","flex-direction":"row"}},i3=["onClick"],a3={class:"app-body"},l3={class:"app-main"};function c3(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-slider-field"),l=K("of-dialog"),c=K("of-list-item"),u=K("of-list-group"),d=K("of-nav-group"),f=K("of-sidebar"),p=K("router-view"),h=K("of-config");return P(),ot(h,{form:{locked:!0}},{default:j(()=>[g("header",o3,[t[7]||(t[7]=g("div",{class:"app-header-gradient"},null,-1)),g("div",{class:"app-menu-source",onClick:t[0]||(t[0]=jt((...m)=>e.toggleSidebar&&e.toggleSidebar(...m),["prevent"]))},[b(i,{name:"menu"})]),t[8]||(t[8]=g("div",{class:"app-header-main"},[g("div",{class:"app-title"},"Oceanfront"),g("div",{class:"app-tag"},"dev")],-1)),g("div",{class:"app-config-source",onClick:t[3]||(t[3]=jt((...m)=>e.showConfig&&e.showConfig(...m),["prevent"]))},[b(i,{name:"theme settings"}),b(l,{modelValue:e.configActive,"onUpdate:modelValue":t[2]||(t[2]=m=>e.configActive=m)},{default:j(()=>[g("div",r3,[t[6]||(t[6]=g("h4",null,"Theme Config",-1)),b(a,{id:"baseFontSize",label:"Base font size",min:"10",max:"30",step:"2",modelValue:e.baseFontSize,"onUpdate:modelValue":t[1]||(t[1]=m=>e.baseFontSize=m)},null,8,["modelValue"])])]),_:1},8,["modelValue"])]),g("div",s3,[(P(!0),W(Pe,null,ct(e.tintParams,m=>(P(),W("div",{style:{margin:"2px",display:"flex",padding:"0","align-items":"center","justify-content":"center",background:"var(--of-color-background)","border-radius":"20em"},key:m.name},[g("div",{style:{display:"flex",color:"var(--of-primary-tint)"},class:Xe(`of--tinted of--tint-${m.name}`),onClick:jt(()=>e.tint=m.name,["prevent"])},[b(i,{name:m.icon},null,8,["name"])],10,i3)]))),128))]),g("div",{class:"app-config-source",onClick:t[4]||(t[4]=jt(()=>{e.dark=!e.dark},["prevent"]))},[b(i,{name:"theme "+(e.dark?"light":"dark")},null,8,["name"])])]),g("div",a3,[b(f,{modelValue:e.sidebarActive,"onUpdate:modelValue":t[5]||(t[5]=m=>e.sidebarActive=m),embed:!e.isMobile},{default:j(()=>[b(d,null,{default:j(()=>[b(c,{to:"/"},{default:j(()=>[...t[9]||(t[9]=[ce("Overview",-1)])]),_:1}),b(c,{to:"/color-scheme"},{default:j(()=>[...t[10]||(t[10]=[ce("Colors & Theming",-1)])]),_:1}),b(c,{to:"/elevation"},{default:j(()=>[...t[11]||(t[11]=[ce("Elevation",-1)])]),_:1}),b(c,{to:"/icons"},{default:j(()=>[...t[12]||(t[12]=[ce("Icons",-1)])]),_:1}),b(c,{to:"/calendar"},{default:j(()=>[...t[13]||(t[13]=[ce("Calendar",-1)])]),_:1}),b(u,{value:"1"},{activator:j(({state:m,toggle:v})=>[b(c,{expand:m,onClick:jt(v,["prevent"])},{default:j(()=>[...t[14]||(t[14]=[ce(" Forms & Inputs ",-1)])]),_:1},8,["expand","onClick"])]),default:j(()=>[b(c,{to:"/buttons"},{default:j(()=>[...t[15]||(t[15]=[ce("Buttons",-1)])]),_:1}),b(c,{to:"/field-states"},{default:j(()=>[...t[16]||(t[16]=[ce("Field States",-1)])]),_:1}),b(c,{to:"/file-inputs"},{default:j(()=>[...t[17]||(t[17]=[ce("File Inputs",-1)])]),_:1}),b(c,{to:"/select-inputs"},{default:j(()=>[...t[18]||(t[18]=[ce("Select Inputs",-1)])]),_:1}),b(c,{to:"/slider-inputs"},{default:j(()=>[...t[19]||(t[19]=[ce("Slider Inputs",-1)])]),_:1}),b(c,{to:"/text-inputs"},{default:j(()=>[...t[20]||(t[20]=[ce("Text Inputs",-1)])]),_:1}),b(c,{to:"/toggle-inputs"},{default:j(()=>[...t[21]||(t[21]=[ce("Toggle Inputs",-1)])]),_:1}),b(c,{to:"/radio-inputs"},{default:j(()=>[...t[22]||(t[22]=[ce("Radio Inputs",-1)])]),_:1}),b(c,{to:"/datetime-inputs"},{default:j(()=>[...t[23]||(t[23]=[ce("Date & Time Inputs",-1)])]),_:1}),b(c,{to:"/color-picker-inputs"},{default:j(()=>[...t[24]||(t[24]=[ce("Color Picker",-1)])]),_:1}),b(c,{to:"/group-inputs"},{default:j(()=>[...t[25]||(t[25]=[ce("Grouped Inputs",-1)])]),_:1}),b(c,{to:"/records"},{default:j(()=>[...t[26]||(t[26]=[ce("Records",-1)])]),_:1}),b(c,{to:"/custom-records"},{default:j(()=>[...t[27]||(t[27]=[ce("Custom Records",-1)])]),_:1}),b(c,{to:"/formatters"},{default:j(()=>[...t[28]||(t[28]=[ce("Value Formatters",-1)])]),_:1}),b(c,{to:"/html-editor"},{default:j(()=>[...t[29]||(t[29]=[ce("HTML Editor",-1)])]),_:1})]),_:1}),b(u,{value:"1"},{activator:j(({state:m,toggle:v})=>[b(c,{expand:m,onClick:jt(v,["prevent"])},{default:j(()=>[...t[30]||(t[30]=[ce(" Lists ",-1)])]),_:1},8,["expand","onClick"])]),default:j(()=>[b(c,{to:"/data-tables"},{default:j(()=>[...t[31]||(t[31]=[ce("Data Tables",-1)])]),_:1}),b(c,{disabled:""},{default:j(()=>[...t[32]||(t[32]=[ce("Menus and Toolbars",-1)])]),_:1}),b(c,{to:"/pagination"},{default:j(()=>[...t[33]||(t[33]=[ce("Pagination",-1)])]),_:1})]),_:1}),b(c,{to:"/tabs"},{default:j(()=>[...t[34]||(t[34]=[ce("Tabs",-1)])]),_:1}),b(c,{to:"/popups"},{default:j(()=>[...t[35]||(t[35]=[ce("Popups and Dialogs",-1)])]),_:1}),b(c,{to:"/badges"},{default:j(()=>[...t[36]||(t[36]=[ce("Badges",-1)])]),_:1}),b(c,{to:"/kanban"},{default:j(()=>[...t[37]||(t[37]=[ce("Kanban Board",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","embed"]),g("main",l3,[(P(),ot(m2,null,{default:j(()=>[b(p)]),fallback:j(()=>[...t[38]||(t[38]=[ce(" Loading... ",-1)])]),_:1}))])])]),_:1})}const u3=ht(n3,[["render",c3]]),d3=be({props:{allowInputLabelPosition:Boolean},setup(e){const t=pt({density:"default",labelPosition:"default",mode:"editable",variant:"compare",tint:"default",scale:"nm",width:"100%",containerTint:"default",required:!1,block:!1,tooltip:""}),n=["default","0","1","2","3"],o=["default","primary","secondary","tertiary"],r=["sm","nm","lg","2","16px"],s=["100%","50%","300px","20ch","30em"],i=["default","none","frame","left","right","top",...e.allowInputLabelPosition?["input"]:[]],a=["editable","locked","readonly","disabled","fixed"],l=["default","outlined","filled","compare"],c=A(()=>["content","of--tinted",`of--tint-${t.containerTint}`]),u=A(()=>{let f={...t};return f.tooltip=d.showTooltip?"Demo Field Tooltip":"",f.variant==="default"&&delete f.variant,f.variant==="compare"?[{...f,variant:"outlined"},{...f,variant:"filled"}]:[f]}),d=pt({switch:!1,showTooltip:!1});return{allParams:u,densityOptions:n,tintOptions:o,containerClass:c,labelPosOptions:i,modeOptions:a,variantOptions:l,params:t,props:e,customProps:d,scaleOptions:r,widthOptions:s}}}),f3={class:"of-demo-field of--elevated-1"},p3={class:"options of--elevated"},h3={class:"options-fields"},m3={class:"options-fields"};function g3(e,t,n,o,r,s){const i=K("of-field");return P(),W("div",f3,[g("div",{class:Xe(e.containerClass)},[(P(!0),W(Pe,null,ct(e.allParams,(a,l)=>(P(),W("div",{class:"field",key:l},[Qe(e.$slots,"default",Ke({ref_for:!0},a))]))),128))],2),g("div",p3,[g("div",h3,[b(i,{modelValue:e.params.containerTint,"onUpdate:modelValue":t[0]||(t[0]=a=>e.params.containerTint=a),label:"Container Tint",type:"select",items:e.tintOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.variant,"onUpdate:modelValue":t[1]||(t[1]=a=>e.params.variant=a),label:"Variant Type",type:"select",items:e.variantOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.labelPosition,"onUpdate:modelValue":t[2]||(t[2]=a=>e.params.labelPosition=a),label:"Label Position",type:"select",items:e.labelPosOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.density,"onUpdate:modelValue":t[3]||(t[3]=a=>e.params.density=a),label:"Density",type:"select",items:e.densityOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.tint,"onUpdate:modelValue":t[4]||(t[4]=a=>e.params.tint=a),label:"Tint",type:"select",items:e.tintOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.scale,"onUpdate:modelValue":t[5]||(t[5]=a=>e.params.scale=a),label:"Scale",type:"select",items:e.scaleOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.width,"onUpdate:modelValue":t[6]||(t[6]=a=>e.params.width=a),label:"Width",type:"select",items:e.widthOptions},null,8,["modelValue","items"]),b(i,Ke({type:"toggle",label:"Full Width (block)",modelValue:e.params.block,"onUpdate:modelValue":t[7]||(t[7]=a=>e.params.block=a)},{...e.props,inputType:e.customProps.switch?"switch":null,inputLabel:e.params.block?"On":"Off",labelPosition:"top"}),null,16,["modelValue"])]),t[11]||(t[11]=g("hr",null,null,-1)),g("div",m3,[b(i,{modelValue:e.params.mode,"onUpdate:modelValue":t[8]||(t[8]=a=>e.params.mode=a),label:"Mode",type:"select",items:e.modeOptions},null,8,["modelValue","items"]),Qe(e.$slots,"options"),b(i,Ke({type:"toggle",label:"Required",modelValue:e.params.required,"onUpdate:modelValue":t[9]||(t[9]=a=>e.params.required=a)},{...e.props,inputType:e.customProps.switch?"switch":null,inputLabel:e.params.required?"On":"Off",labelPosition:"top"}),null,16,["modelValue"]),b(i,Ke({type:"toggle",label:"Tooltip",modelValue:e.customProps.showTooltip,"onUpdate:modelValue":t[10]||(t[10]=a=>e.customProps.showTooltip=a)},{inputLabel:e.customProps.showTooltip?"On":"Off"}),null,16,["modelValue"])])])])}const v3=ht(d3,[["render",g3]]);function y3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Iu,mm;function b3(){if(mm)return Iu;mm=1;function e(O){return O instanceof Map?O.clear=O.delete=O.set=function(){throw new Error("map is read-only")}:O instanceof Set&&(O.add=O.clear=O.delete=function(){throw new Error("set is read-only")}),Object.freeze(O),Object.getOwnPropertyNames(O).forEach(se=>{const Se=O[se],Ge=typeof Se;(Ge==="object"||Ge==="function")&&!Object.isFrozen(Se)&&e(Se)}),O}class t{constructor(se){se.data===void 0&&(se.data={}),this.data=se.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(O){return O.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function o(O,...se){const Se=Object.create(null);for(const Ge in O)Se[Ge]=O[Ge];return se.forEach(function(Ge){for(const Vt in Ge)Se[Vt]=Ge[Vt]}),Se}const r="</span>",s=O=>!!O.scope,i=(O,{prefix:se})=>{if(O.startsWith("language:"))return O.replace("language:","language-");if(O.includes(".")){const Se=O.split(".");return[`${se}${Se.shift()}`,...Se.map((Ge,Vt)=>`${Ge}${"_".repeat(Vt+1)}`)].join(" ")}return`${se}${O}`};class a{constructor(se,Se){this.buffer="",this.classPrefix=Se.classPrefix,se.walk(this)}addText(se){this.buffer+=n(se)}openNode(se){if(!s(se))return;const Se=i(se.scope,{prefix:this.classPrefix});this.span(Se)}closeNode(se){s(se)&&(this.buffer+=r)}value(){return this.buffer}span(se){this.buffer+=`<span class="${se}">`}}const l=(O={})=>{const se={children:[]};return Object.assign(se,O),se};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(se){this.top.children.push(se)}openNode(se){const Se=l({scope:se});this.add(Se),this.stack.push(Se)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(se){return this.constructor._walk(se,this.rootNode)}static _walk(se,Se){return typeof Se=="string"?se.addText(Se):Se.children&&(se.openNode(Se),Se.children.forEach(Ge=>this._walk(se,Ge)),se.closeNode(Se)),se}static _collapse(se){typeof se!="string"&&se.children&&(se.children.every(Se=>typeof Se=="string")?se.children=[se.children.join("")]:se.children.forEach(Se=>{c._collapse(Se)}))}}class u extends c{constructor(se){super(),this.options=se}addText(se){se!==""&&this.add(se)}startScope(se){this.openNode(se)}endScope(){this.closeNode()}__addSublanguage(se,Se){const Ge=se.root;Se&&(Ge.scope=`language:${Se}`),this.add(Ge)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function d(O){return O?typeof O=="string"?O:O.source:null}function f(O){return m("(?=",O,")")}function p(O){return m("(?:",O,")*")}function h(O){return m("(?:",O,")?")}function m(...O){return O.map(Se=>d(Se)).join("")}function v(O){const se=O[O.length-1];return typeof se=="object"&&se.constructor===Object?(O.splice(O.length-1,1),se):{}}function y(...O){return"("+(v(O).capture?"":"?:")+O.map(Ge=>d(Ge)).join("|")+")"}function w(O){return new RegExp(O.toString()+"|").exec("").length-1}function k(O,se){const Se=O&&O.exec(se);return Se&&Se.index===0}const S=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function M(O,{joinWith:se}){let Se=0;return O.map(Ge=>{Se+=1;const Vt=Se;let _t=d(Ge),Ie="";for(;_t.length>0;){const De=S.exec(_t);if(!De){Ie+=_t;break}Ie+=_t.substring(0,De.index),_t=_t.substring(De.index+De[0].length),De[0][0]==="\\"&&De[1]?Ie+="\\"+String(Number(De[1])+Vt):(Ie+=De[0],De[0]==="("&&Se++)}return Ie}).map(Ge=>`(${Ge})`).join(se)}const L=/\b\B/,N="[a-zA-Z]\\w*",V="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",G="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",te="\\b(0b[01]+)",Y="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",q=(O={})=>{const se=/^#![ ]*\//;return O.binary&&(O.begin=m(se,/.*\b/,O.binary,/\b.*/)),o({scope:"meta",begin:se,end:/$/,relevance:0,"on:begin":(Se,Ge)=>{Se.index!==0&&Ge.ignoreMatch()}},O)},$={begin:"\\\\[\\s\\S]",relevance:0},F={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[$]},E={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[$]},T={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},J=function(O,se,Se={}){const Ge=o({scope:"comment",begin:O,end:se,contains:[]},Se);Ge.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Vt=y("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Ge.contains.push({begin:m(/[ ]+/,"(",Vt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Ge},le=J("//","$"),ye=J("/\\*","\\*/"),Me=J("#","$"),me={scope:"number",begin:_,relevance:0},X={scope:"number",begin:G,relevance:0},ae={scope:"number",begin:te,relevance:0},Ee={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[$,{begin:/\[/,end:/\]/,relevance:0,contains:[$]}]},B={scope:"title",begin:N,relevance:0},H={scope:"title",begin:V,relevance:0},ee={begin:"\\.\\s*"+V,relevance:0};var de=Object.freeze({__proto__:null,APOS_STRING_MODE:F,BACKSLASH_ESCAPE:$,BINARY_NUMBER_MODE:ae,BINARY_NUMBER_RE:te,COMMENT:J,C_BLOCK_COMMENT_MODE:ye,C_LINE_COMMENT_MODE:le,C_NUMBER_MODE:X,C_NUMBER_RE:G,END_SAME_AS_BEGIN:function(O){return Object.assign(O,{"on:begin":(se,Se)=>{Se.data._beginMatch=se[1]},"on:end":(se,Se)=>{Se.data._beginMatch!==se[1]&&Se.ignoreMatch()}})},HASH_COMMENT_MODE:Me,IDENT_RE:N,MATCH_NOTHING_RE:L,METHOD_GUARD:ee,NUMBER_MODE:me,NUMBER_RE:_,PHRASAL_WORDS_MODE:T,QUOTE_STRING_MODE:E,REGEXP_MODE:Ee,RE_STARTERS_RE:Y,SHEBANG:q,TITLE_MODE:B,UNDERSCORE_IDENT_RE:V,UNDERSCORE_TITLE_MODE:H});function Ve(O,se){O.input[O.index-1]==="."&&se.ignoreMatch()}function x(O,se){O.className!==void 0&&(O.scope=O.className,delete O.className)}function R(O,se){se&&O.beginKeywords&&(O.begin="\\b("+O.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",O.__beforeBegin=Ve,O.keywords=O.keywords||O.beginKeywords,delete O.beginKeywords,O.relevance===void 0&&(O.relevance=0))}function z(O,se){Array.isArray(O.illegal)&&(O.illegal=y(...O.illegal))}function ne(O,se){if(O.match){if(O.begin||O.end)throw new Error("begin & end are not supported with match");O.begin=O.match,delete O.match}}function re(O,se){O.relevance===void 0&&(O.relevance=1)}const oe=(O,se)=>{if(!O.beforeMatch)return;if(O.starts)throw new Error("beforeMatch cannot be used with starts");const Se=Object.assign({},O);Object.keys(O).forEach(Ge=>{delete O[Ge]}),O.keywords=Se.keywords,O.begin=m(Se.beforeMatch,f(Se.begin)),O.starts={relevance:0,contains:[Object.assign(Se,{endsParent:!0})]},O.relevance=0,delete Se.beforeMatch},Ce=["of","and","for","in","not","or","if","then","parent","list","value"],fe="keyword";function ge(O,se,Se=fe){const Ge=Object.create(null);return typeof O=="string"?Vt(Se,O.split(" ")):Array.isArray(O)?Vt(Se,O):Object.keys(O).forEach(function(_t){Object.assign(Ge,ge(O[_t],se,_t))}),Ge;function Vt(_t,Ie){se&&(Ie=Ie.map(De=>De.toLowerCase())),Ie.forEach(function(De){const Ze=De.split("|");Ge[Ze[0]]=[_t,U(Ze[0],Ze[1])]})}}function U(O,se){return se?Number(se):pe(O)?0:1}function pe(O){return Ce.includes(O.toLowerCase())}const ke={},Oe=O=>{console.error(O)},Le=(O,...se)=>{console.log(`WARN: ${O}`,...se)},Ne=(O,se)=>{ke[`${O}/${se}`]||(console.log(`Deprecated as of ${O}. ${se}`),ke[`${O}/${se}`]=!0)},qe=new Error;function Je(O,se,{key:Se}){let Ge=0;const Vt=O[Se],_t={},Ie={};for(let De=1;De<=se.length;De++)Ie[De+Ge]=Vt[De],_t[De+Ge]=!0,Ge+=w(se[De-1]);O[Se]=Ie,O[Se]._emit=_t,O[Se]._multi=!0}function Ct(O){if(Array.isArray(O.begin)){if(O.skip||O.excludeBegin||O.returnBegin)throw Oe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),qe;if(typeof O.beginScope!="object"||O.beginScope===null)throw Oe("beginScope must be object"),qe;Je(O,O.begin,{key:"beginScope"}),O.begin=M(O.begin,{joinWith:""})}}function St(O){if(Array.isArray(O.end)){if(O.skip||O.excludeEnd||O.returnEnd)throw Oe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),qe;if(typeof O.endScope!="object"||O.endScope===null)throw Oe("endScope must be object"),qe;Je(O,O.end,{key:"endScope"}),O.end=M(O.end,{joinWith:""})}}function un(O){O.scope&&typeof O.scope=="object"&&O.scope!==null&&(O.beginScope=O.scope,delete O.scope)}function dn(O){un(O),typeof O.beginScope=="string"&&(O.beginScope={_wrap:O.beginScope}),typeof O.endScope=="string"&&(O.endScope={_wrap:O.endScope}),Ct(O),St(O)}function En(O){function se(Ie,De){return new RegExp(d(Ie),"m"+(O.case_insensitive?"i":"")+(O.unicodeRegex?"u":"")+(De?"g":""))}class Se{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(De,Ze){Ze.position=this.position++,this.matchIndexes[this.matchAt]=Ze,this.regexes.push([Ze,De]),this.matchAt+=w(De)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const De=this.regexes.map(Ze=>Ze[1]);this.matcherRe=se(M(De,{joinWith:"|"}),!0),this.lastIndex=0}exec(De){this.matcherRe.lastIndex=this.lastIndex;const Ze=this.matcherRe.exec(De);if(!Ze)return null;const Wt=Ze.findIndex((oi,uu)=>uu>0&&oi!==void 0),Bt=this.matchIndexes[Wt];return Ze.splice(0,Wt),Object.assign(Ze,Bt)}}class Ge{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(De){if(this.multiRegexes[De])return this.multiRegexes[De];const Ze=new Se;return this.rules.slice(De).forEach(([Wt,Bt])=>Ze.addRule(Wt,Bt)),Ze.compile(),this.multiRegexes[De]=Ze,Ze}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(De,Ze){this.rules.push([De,Ze]),Ze.type==="begin"&&this.count++}exec(De){const Ze=this.getMatcher(this.regexIndex);Ze.lastIndex=this.lastIndex;let Wt=Ze.exec(De);if(this.resumingScanAtSamePosition()&&!(Wt&&Wt.index===this.lastIndex)){const Bt=this.getMatcher(0);Bt.lastIndex=this.lastIndex+1,Wt=Bt.exec(De)}return Wt&&(this.regexIndex+=Wt.position+1,this.regexIndex===this.count&&this.considerAll()),Wt}}function Vt(Ie){const De=new Ge;return Ie.contains.forEach(Ze=>De.addRule(Ze.begin,{rule:Ze,type:"begin"})),Ie.terminatorEnd&&De.addRule(Ie.terminatorEnd,{type:"end"}),Ie.illegal&&De.addRule(Ie.illegal,{type:"illegal"}),De}function _t(Ie,De){const Ze=Ie;if(Ie.isCompiled)return Ze;[x,ne,dn,oe].forEach(Bt=>Bt(Ie,De)),O.compilerExtensions.forEach(Bt=>Bt(Ie,De)),Ie.__beforeBegin=null,[R,z,re].forEach(Bt=>Bt(Ie,De)),Ie.isCompiled=!0;let Wt=null;return typeof Ie.keywords=="object"&&Ie.keywords.$pattern&&(Ie.keywords=Object.assign({},Ie.keywords),Wt=Ie.keywords.$pattern,delete Ie.keywords.$pattern),Wt=Wt||/\w+/,Ie.keywords&&(Ie.keywords=ge(Ie.keywords,O.case_insensitive)),Ze.keywordPatternRe=se(Wt,!0),De&&(Ie.begin||(Ie.begin=/\B|\b/),Ze.beginRe=se(Ze.begin),!Ie.end&&!Ie.endsWithParent&&(Ie.end=/\B|\b/),Ie.end&&(Ze.endRe=se(Ze.end)),Ze.terminatorEnd=d(Ze.end)||"",Ie.endsWithParent&&De.terminatorEnd&&(Ze.terminatorEnd+=(Ie.end?"|":"")+De.terminatorEnd)),Ie.illegal&&(Ze.illegalRe=se(Ie.illegal)),Ie.contains||(Ie.contains=[]),Ie.contains=[].concat(...Ie.contains.map(function(Bt){return ie(Bt==="self"?Ie:Bt)})),Ie.contains.forEach(function(Bt){_t(Bt,Ze)}),Ie.starts&&_t(Ie.starts,De),Ze.matcher=Vt(Ze),Ze}if(O.compilerExtensions||(O.compilerExtensions=[]),O.contains&&O.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return O.classNameAliases=o(O.classNameAliases||{}),_t(O)}function So(O){return O?O.endsWithParent||So(O.starts):!1}function ie(O){return O.variants&&!O.cachedVariants&&(O.cachedVariants=O.variants.map(function(se){return o(O,{variants:null},se)})),O.cachedVariants?O.cachedVariants:So(O)?o(O,{starts:O.starts?o(O.starts):null}):Object.isFrozen(O)?o(O):O}var I="11.11.1";class Z extends Error{constructor(se,Se){super(se),this.name="HTMLInjectionError",this.html=Se}}const ue=n,Re=o,et=Symbol("nomatch"),at=7,Kt=function(O){const se=Object.create(null),Se=Object.create(null),Ge=[];let Vt=!0;const _t="Could not find the language '{}', did you forget to load/include a language module?",Ie={disableAutodetect:!0,name:"Plain text",contains:[]};let De={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function Ze(we){return De.noHighlightRe.test(we)}function Wt(we){let ze=we.className+" ";ze+=we.parentNode?we.parentNode.className:"";const lt=De.languageDetectRe.exec(ze);if(lt){const xt=tr(lt[1]);return xt||(Le(_t.replace("{}",lt[1])),Le("Falling back to no-highlight mode for this block.",we)),xt?lt[1]:"no-highlight"}return ze.split(/\s+/).find(xt=>Ze(xt)||tr(xt))}function Bt(we,ze,lt){let xt="",Ft="";typeof ze=="object"?(xt=we,lt=ze.ignoreIllegals,Ft=ze.language):(Ne("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ne("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Ft=we,xt=ze),lt===void 0&&(lt=!0);const Jn={code:xt,language:Ft};Oa("before:highlight",Jn);const nr=Jn.result?Jn.result:oi(Jn.language,Jn.code,lt);return nr.code=Jn.code,Oa("after:highlight",nr),nr}function oi(we,ze,lt,xt){const Ft=Object.create(null);function Jn(Te,_e){return Te.keywords[_e]}function nr(){if(!tt.keywords){nn.addText(At);return}let Te=0;tt.keywordPatternRe.lastIndex=0;let _e=tt.keywordPatternRe.exec(At),rt="";for(;_e;){rt+=At.substring(Te,_e.index);const gt=lo.case_insensitive?_e[0].toLowerCase():_e[0],fn=Jn(tt,gt);if(fn){const[xo,Rw]=fn;if(nn.addText(rt),rt="",Ft[gt]=(Ft[gt]||0)+1,Ft[gt]<=at&&(Na+=Rw),xo.startsWith("_"))rt+=_e[0];else{const Nw=lo.classNameAliases[xo]||xo;ao(_e[0],Nw)}}else rt+=_e[0];Te=tt.keywordPatternRe.lastIndex,_e=tt.keywordPatternRe.exec(At)}rt+=At.substring(Te),nn.addText(rt)}function Da(){if(At==="")return;let Te=null;if(typeof tt.subLanguage=="string"){if(!se[tt.subLanguage]){nn.addText(At);return}Te=oi(tt.subLanguage,At,!0,Up[tt.subLanguage]),Up[tt.subLanguage]=Te._top}else Te=du(At,tt.subLanguage.length?tt.subLanguage:null);tt.relevance>0&&(Na+=Te.relevance),nn.__addSublanguage(Te._emitter,Te.language)}function Nn(){tt.subLanguage!=null?Da():nr(),At=""}function ao(Te,_e){Te!==""&&(nn.startScope(_e),nn.addText(Te),nn.endScope())}function Hp(Te,_e){let rt=1;const gt=_e.length-1;for(;rt<=gt;){if(!Te._emit[rt]){rt++;continue}const fn=lo.classNameAliases[Te[rt]]||Te[rt],xo=_e[rt];fn?ao(xo,fn):(At=xo,nr(),At=""),rt++}}function zp(Te,_e){return Te.scope&&typeof Te.scope=="string"&&nn.openNode(lo.classNameAliases[Te.scope]||Te.scope),Te.beginScope&&(Te.beginScope._wrap?(ao(At,lo.classNameAliases[Te.beginScope._wrap]||Te.beginScope._wrap),At=""):Te.beginScope._multi&&(Hp(Te.beginScope,_e),At="")),tt=Object.create(Te,{parent:{value:tt}}),tt}function Fp(Te,_e,rt){let gt=k(Te.endRe,rt);if(gt){if(Te["on:end"]){const fn=new t(Te);Te["on:end"](_e,fn),fn.isMatchIgnored&&(gt=!1)}if(gt){for(;Te.endsParent&&Te.parent;)Te=Te.parent;return Te}}if(Te.endsWithParent)return Fp(Te.parent,_e,rt)}function Tw(Te){return tt.matcher.regexIndex===0?(At+=Te[0],1):(mu=!0,0)}function Ew(Te){const _e=Te[0],rt=Te.rule,gt=new t(rt),fn=[rt.__beforeBegin,rt["on:begin"]];for(const xo of fn)if(xo&&(xo(Te,gt),gt.isMatchIgnored))return Tw(_e);return rt.skip?At+=_e:(rt.excludeBegin&&(At+=_e),Nn(),!rt.returnBegin&&!rt.excludeBegin&&(At=_e)),zp(rt,Te),rt.returnBegin?0:_e.length}function $w(Te){const _e=Te[0],rt=ze.substring(Te.index),gt=Fp(tt,Te,rt);if(!gt)return et;const fn=tt;tt.endScope&&tt.endScope._wrap?(Nn(),ao(_e,tt.endScope._wrap)):tt.endScope&&tt.endScope._multi?(Nn(),Hp(tt.endScope,Te)):fn.skip?At+=_e:(fn.returnEnd||fn.excludeEnd||(At+=_e),Nn(),fn.excludeEnd&&(At=_e));do tt.scope&&nn.closeNode(),!tt.skip&&!tt.subLanguage&&(Na+=tt.relevance),tt=tt.parent;while(tt!==gt.parent);return gt.starts&&zp(gt.starts,Te),fn.returnEnd?0:_e.length}function Ow(){const Te=[];for(let _e=tt;_e!==lo;_e=_e.parent)_e.scope&&Te.unshift(_e.scope);Te.forEach(_e=>nn.openNode(_e))}let Ra={};function jp(Te,_e){const rt=_e&&_e[0];if(At+=Te,rt==null)return Nn(),0;if(Ra.type==="begin"&&_e.type==="end"&&Ra.index===_e.index&&rt===""){if(At+=ze.slice(_e.index,_e.index+1),!Vt){const gt=new Error(`0 width match regex (${we})`);throw gt.languageName=we,gt.badRule=Ra.rule,gt}return 1}if(Ra=_e,_e.type==="begin")return Ew(_e);if(_e.type==="illegal"&&!lt){const gt=new Error('Illegal lexeme "'+rt+'" for mode "'+(tt.scope||"<unnamed>")+'"');throw gt.mode=tt,gt}else if(_e.type==="end"){const gt=$w(_e);if(gt!==et)return gt}if(_e.type==="illegal"&&rt==="")return At+=`
`,1;if(hu>1e5&&hu>_e.index*3)throw new Error("potential infinite loop, way more iterations than matches");return At+=rt,rt.length}const lo=tr(we);if(!lo)throw Oe(_t.replace("{}",we)),new Error('Unknown language: "'+we+'"');const Dw=En(lo);let pu="",tt=xt||Dw;const Up={},nn=new De.__emitter(De);Ow();let At="",Na=0,Pr=0,hu=0,mu=!1;try{if(lo.__emitTokens)lo.__emitTokens(ze,nn);else{for(tt.matcher.considerAll();;){hu++,mu?mu=!1:tt.matcher.considerAll(),tt.matcher.lastIndex=Pr;const Te=tt.matcher.exec(ze);if(!Te)break;const _e=ze.substring(Pr,Te.index),rt=jp(_e,Te);Pr=Te.index+rt}jp(ze.substring(Pr))}return nn.finalize(),pu=nn.toHTML(),{language:we,value:pu,relevance:Na,illegal:!1,_emitter:nn,_top:tt}}catch(Te){if(Te.message&&Te.message.includes("Illegal"))return{language:we,value:ue(ze),illegal:!0,relevance:0,_illegalBy:{message:Te.message,index:Pr,context:ze.slice(Pr-100,Pr+100),mode:Te.mode,resultSoFar:pu},_emitter:nn};if(Vt)return{language:we,value:ue(ze),illegal:!1,relevance:0,errorRaised:Te,_emitter:nn,_top:tt};throw Te}}function uu(we){const ze={value:ue(we),illegal:!1,relevance:0,_top:Ie,_emitter:new De.__emitter(De)};return ze._emitter.addText(we),ze}function du(we,ze){ze=ze||De.languages||Object.keys(se);const lt=uu(we),xt=ze.filter(tr).filter(Bp).map(Nn=>oi(Nn,we,!1));xt.unshift(lt);const Ft=xt.sort((Nn,ao)=>{if(Nn.relevance!==ao.relevance)return ao.relevance-Nn.relevance;if(Nn.language&&ao.language){if(tr(Nn.language).supersetOf===ao.language)return 1;if(tr(ao.language).supersetOf===Nn.language)return-1}return 0}),[Jn,nr]=Ft,Da=Jn;return Da.secondBest=nr,Da}function gw(we,ze,lt){const xt=ze&&Se[ze]||lt;we.classList.add("hljs"),we.classList.add(`language-${xt}`)}function fu(we){let ze=null;const lt=Wt(we);if(Ze(lt))return;if(Oa("before:highlightElement",{el:we,language:lt}),we.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",we);return}if(we.children.length>0&&(De.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(we)),De.throwUnescapedHTML))throw new Z("One of your code blocks includes unescaped HTML.",we.innerHTML);ze=we;const xt=ze.textContent,Ft=lt?Bt(xt,{language:lt,ignoreIllegals:!0}):du(xt);we.innerHTML=Ft.value,we.dataset.highlighted="yes",gw(we,lt,Ft.language),we.result={language:Ft.language,re:Ft.relevance,relevance:Ft.relevance},Ft.secondBest&&(we.secondBest={language:Ft.secondBest.language,relevance:Ft.secondBest.relevance}),Oa("after:highlightElement",{el:we,result:Ft,text:xt})}function vw(we){De=Re(De,we)}const yw=()=>{$a(),Ne("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function bw(){$a(),Ne("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Vp=!1;function $a(){function we(){$a()}if(document.readyState==="loading"){Vp||window.addEventListener("DOMContentLoaded",we,!1),Vp=!0;return}document.querySelectorAll(De.cssSelector).forEach(fu)}function ww(we,ze){let lt=null;try{lt=ze(O)}catch(xt){if(Oe("Language definition for '{}' could not be registered.".replace("{}",we)),Vt)Oe(xt);else throw xt;lt=Ie}lt.name||(lt.name=we),se[we]=lt,lt.rawDefinition=ze.bind(null,O),lt.aliases&&_p(lt.aliases,{languageName:we})}function kw(we){delete se[we];for(const ze of Object.keys(Se))Se[ze]===we&&delete Se[ze]}function Cw(){return Object.keys(se)}function tr(we){return we=(we||"").toLowerCase(),se[we]||se[Se[we]]}function _p(we,{languageName:ze}){typeof we=="string"&&(we=[we]),we.forEach(lt=>{Se[lt.toLowerCase()]=ze})}function Bp(we){const ze=tr(we);return ze&&!ze.disableAutodetect}function Sw(we){we["before:highlightBlock"]&&!we["before:highlightElement"]&&(we["before:highlightElement"]=ze=>{we["before:highlightBlock"](Object.assign({block:ze.el},ze))}),we["after:highlightBlock"]&&!we["after:highlightElement"]&&(we["after:highlightElement"]=ze=>{we["after:highlightBlock"](Object.assign({block:ze.el},ze))})}function xw(we){Sw(we),Ge.push(we)}function Aw(we){const ze=Ge.indexOf(we);ze!==-1&&Ge.splice(ze,1)}function Oa(we,ze){const lt=we;Ge.forEach(function(xt){xt[lt]&&xt[lt](ze)})}function Mw(we){return Ne("10.7.0","highlightBlock will be removed entirely in v12.0"),Ne("10.7.0","Please use highlightElement now."),fu(we)}Object.assign(O,{highlight:Bt,highlightAuto:du,highlightAll:$a,highlightElement:fu,highlightBlock:Mw,configure:vw,initHighlighting:yw,initHighlightingOnLoad:bw,registerLanguage:ww,unregisterLanguage:kw,listLanguages:Cw,getLanguage:tr,registerAliases:_p,autoDetection:Bp,inherit:Re,addPlugin:xw,removePlugin:Aw}),O.debugMode=function(){Vt=!1},O.safeMode=function(){Vt=!0},O.versionString=I,O.regex={concat:m,lookahead:f,either:y,optional:h,anyNumberOfTimes:p};for(const we in de)typeof de[we]=="object"&&e(de[we]);return Object.assign(O,de),O},wn=Kt({});return wn.newInstance=()=>Kt({}),Iu=wn,wn.HighlightJS=wn,wn.default=wn,Iu}var w3=b3();const Kc=y3(w3),k3=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),C3=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],S3=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],x3=[...C3,...S3],A3=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),M3=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),T3=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),E3=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function $3(e){const t=e.regex,n=k3(e),o={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},r="and or not only",s=/@-?\w[\w]*(-\w+)*/,i="[a-zA-Z-][a-zA-Z0-9_-]*",a=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,o,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+i,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+M3.join("|")+")"},{begin:":(:)?("+T3.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+E3.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:r,attribute:A3.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+x3.join("|")+")\\b"}]}}function O3(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},o=["true","false","null"],r={scope:"literal",beginKeywords:o.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:o},contains:[t,n,e.QUOTE_STRING_MODE,r,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function D3(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),o=/[\p{L}0-9._:-]+/u,r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=e.inherit(s,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:o,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,i,l,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}Kc.registerLanguage("css",$3);Kc.registerLanguage("json",O3);Kc.registerLanguage("xml",D3);const R3=e=>{if(e)return e.trim().split(/\r?\n/).map(o=>{const r=o.match(/^([ \t]*)(.*)$/);let[s,i]=[r[1],r[2]];return`<div style="padding-left: ${s.length+2}ch; text-indent: -2ch">${i}</div>`}).join(`
`)},N3=be({name:"OfHighlight",props:{lang:String,value:String},setup(e,t){return{result:A(()=>e.lang&&e.value?R3(Kc.highlight(e.value,{language:e.lang}).value):void 0)}}}),I3={class:"of-code of--highlight"},L3=["innerHTML"];function P3(e,t,n,o,r,s){return P(),W("div",I3,[g("div",{class:"hljs",innerHTML:e.result},null,8,L3)])}const V3=ht(N3,[["render",P3]]);function on(e){this.content=e}on.prototype={constructor:on,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,r=o.find(e),s=o.content.slice();return r==-1?s.push(n||e,t):(s[r+1]=t,n&&(s[r]=n)),new on(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new on(n)},addToStart:function(e,t){return new on([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new on(n)},addBefore:function(e,t,n){var o=this.remove(t),r=o.content.slice(),s=o.find(e);return r.splice(s==-1?r.length:s,0,t,n),new on(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=on.from(e),e.size?new on(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=on.from(e),e.size?new on(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=on.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};on.from=function(e){if(e instanceof on)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new on(t)};function gy(e,t,n){for(let o=0;;o++){if(o==e.childCount||o==t.childCount)return e.childCount==t.childCount?null:n;let r=e.child(o),s=t.child(o);if(r==s){n+=r.nodeSize;continue}if(!r.sameMarkup(s))return n;if(r.isText&&r.text!=s.text){for(let i=0;r.text[i]==s.text[i];i++)n++;return n}if(r.content.size||s.content.size){let i=gy(r.content,s.content,n+1);if(i!=null)return i}n+=r.nodeSize}}function vy(e,t,n,o){for(let r=e.childCount,s=t.childCount;;){if(r==0||s==0)return r==s?null:{a:n,b:o};let i=e.child(--r),a=t.child(--s),l=i.nodeSize;if(i==a){n-=l,o-=l;continue}if(!i.sameMarkup(a))return{a:n,b:o};if(i.isText&&i.text!=a.text){let c=0,u=Math.min(i.text.length,a.text.length);for(;c<u&&i.text[i.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,o--;return{a:n,b:o}}if(i.content.size||a.content.size){let c=vy(i.content,a.content,n-1,o-1);if(c)return c}n-=l,o-=l}}let he=class Cn{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let o=0;o<t.length;o++)this.size+=t[o].nodeSize}nodesBetween(t,n,o,r=0,s){for(let i=0,a=0;a<n;i++){let l=this.content[i],c=a+l.nodeSize;if(c>t&&o(l,r+a,s||null,i)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),o,r+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,o,r){let s="",i=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&o&&(i?i=!1:s+=o),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,o=t.firstChild,r=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(o)&&(r[r.length-1]=n.withText(n.text+o.text),s=1);s<t.content.length;s++)r.push(t.content[s]);return new Cn(r,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let o=[],r=0;if(n>t)for(let s=0,i=0;i<n;s++){let a=this.content[s],l=i+a.nodeSize;l>t&&((i<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-i),Math.min(a.text.length,n-i)):a=a.cut(Math.max(0,t-i-1),Math.min(a.content.size,n-i-1))),o.push(a),r+=a.nodeSize),i=l}return new Cn(o,r)}cutByIndex(t,n){return t==n?Cn.empty:t==0&&n==this.content.length?this:new Cn(this.content.slice(t,n))}replaceChild(t,n){let o=this.content[t];if(o==n)return this;let r=this.content.slice(),s=this.size+n.nodeSize-o.nodeSize;return r[t]=n,new Cn(r,s)}addToStart(t){return new Cn([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Cn(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,o=0;n<this.content.length;n++){let r=this.content[n];t(r,o,n),o+=r.nodeSize}}findDiffStart(t,n=0){return gy(this,t,n)}findDiffEnd(t,n=this.size,o=t.size){return vy(this,t,n,o)}findIndex(t){if(t==0)return za(0,t);if(t==this.size)return za(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,o=0;;n++){let r=this.child(n),s=o+r.nodeSize;if(s>=t)return s==t?za(n+1,s):za(n,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Cn.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Cn(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Cn.empty;let n,o=0;for(let r=0;r<t.length;r++){let s=t[r];o+=s.nodeSize,r&&s.isText&&t[r-1].sameMarkup(s)?(n||(n=t.slice(0,r)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Cn(n||t,o)}static from(t){if(!t)return Cn.empty;if(t instanceof Cn)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Cn([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};he.empty=new he([],0);const Lu={index:0,offset:0};function za(e,t){return Lu.index=e,Lu.offset=t,Lu}function Rl(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++)if(!Rl(e[o],t[o]))return!1}else{for(let o in e)if(!(o in t)||!Rl(e[o],t[o]))return!1;for(let o in t)if(!(o in e))return!1}return!0}let wt=class Vd{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,o=!1;for(let r=0;r<t.length;r++){let s=t[r];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,r));else{if(s.type.excludes(this.type))return t;!o&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,r)),n.push(this),o=!0),n&&n.push(s)}}return n||(n=t.slice()),o||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Rl(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let o=t.marks[n.type];if(!o)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=o.create(n.attrs);return o.checkAttrs(r.attrs),r}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let o=0;o<t.length;o++)if(!t[o].eq(n[o]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Vd.none;if(t instanceof Vd)return[t];let n=t.slice();return n.sort((o,r)=>o.type.rank-r.type.rank),n}};wt.none=[];class Nl extends Error{}class xe{constructor(t,n,o){this.content=t,this.openStart=n,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let o=by(this.content,t+this.openStart,n);return o&&new xe(o,this.openStart,this.openEnd)}removeBetween(t,n){return new xe(yy(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return xe.empty;let o=n.openStart||0,r=n.openEnd||0;if(typeof o!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new xe(he.fromJSON(t,n.content),o,r)}static maxOpen(t,n=!0){let o=0,r=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)o++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)r++;return new xe(t,o,r)}}xe.empty=new xe(he.empty,0,0);function yy(e,t,n){let{index:o,offset:r}=e.findIndex(t),s=e.maybeChild(o),{index:i,offset:a}=e.findIndex(n);if(r==t||s.isText){if(a!=n&&!e.child(i).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=i)throw new RangeError("Removing non-flat range");return e.replaceChild(o,s.copy(yy(s.content,t-r-1,n-r-1)))}function by(e,t,n,o){let{index:r,offset:s}=e.findIndex(t),i=e.maybeChild(r);if(s==t||i.isText)return o&&!o.canReplace(r,r,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=by(i.content,t-s-1,n,i);return a&&e.replaceChild(r,i.copy(a))}function _3(e,t,n){if(n.openStart>e.depth)throw new Nl("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Nl("Inconsistent open depths");return wy(e,t,n,0)}function wy(e,t,n,o){let r=e.index(o),s=e.node(o);if(r==t.index(o)&&o<e.depth-n.openStart){let i=wy(e,t,n,o+1);return s.copy(s.content.replaceChild(r,i))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==o&&t.depth==o){let i=e.parent,a=i.content;return Xr(i,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:i,end:a}=B3(n,e);return Xr(s,Cy(e,i,a,t,o))}else return Xr(s,Il(e,t,o))}function ky(e,t){if(!t.type.compatibleContent(e.type))throw new Nl("Cannot join "+t.type.name+" onto "+e.type.name)}function _d(e,t,n){let o=e.node(n);return ky(o,t.node(n)),o}function Zr(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Li(e,t,n,o){let r=(t||e).node(n),s=0,i=t?t.index(n):r.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(Zr(e.nodeAfter,o),s++));for(let a=s;a<i;a++)Zr(r.child(a),o);t&&t.depth==n&&t.textOffset&&Zr(t.nodeBefore,o)}function Xr(e,t){return e.type.checkContent(t),e.copy(t)}function Cy(e,t,n,o,r){let s=e.depth>r&&_d(e,t,r+1),i=o.depth>r&&_d(n,o,r+1),a=[];return Li(null,e,r,a),s&&i&&t.index(r)==n.index(r)?(ky(s,i),Zr(Xr(s,Cy(e,t,n,o,r+1)),a)):(s&&Zr(Xr(s,Il(e,t,r+1)),a),Li(t,n,r,a),i&&Zr(Xr(i,Il(n,o,r+1)),a)),Li(o,null,r,a),new he(a)}function Il(e,t,n){let o=[];if(Li(null,e,n,o),e.depth>n){let r=_d(e,t,n+1);Zr(Xr(r,Il(e,t,n+1)),o)}return Li(t,null,n,o),new he(o)}function B3(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let r=n-1;r>=0;r--)o=t.node(r).copy(he.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}class ta{constructor(t,n,o){this.pos=t,this.path=n,this.parentOffset=o,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let o=this.pos-this.path[this.path.length-1],r=t.child(n);return o?t.child(n).cut(o):r}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let o=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)r+=o.child(s).nodeSize;return r}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return wt.none;if(this.textOffset)return t.child(n).marks;let o=t.maybeChild(n-1),r=t.maybeChild(n);if(!o){let a=o;o=r,r=a}let s=o.marks;for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!r||!s[i].isInSet(r.marks))&&(s=s[i--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let o=n.marks,r=t.parent.maybeChild(t.index());for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let o=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);o>=0;o--)if(t.pos<=this.end(o)&&(!n||n(this.node(o))))return new Ll(this,t,o);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let o=[],r=0,s=n;for(let i=t;;){let{index:a,offset:l}=i.content.findIndex(s),c=s-l;if(o.push(i,a,r+l),!c||(i=i.child(a),i.isText))break;s=c-1,r+=l+1}return new ta(n,o,s)}static resolveCached(t,n){let o=gm.get(t);if(o)for(let s=0;s<o.elts.length;s++){let i=o.elts[s];if(i.pos==n)return i}else gm.set(t,o=new H3);let r=o.elts[o.i]=ta.resolve(t,n);return o.i=(o.i+1)%z3,r}}class H3{constructor(){this.elts=[],this.i=0}}const z3=12,gm=new WeakMap;class Ll{constructor(t,n,o){this.$from=t,this.$to=n,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const F3=Object.create(null);class to{constructor(t,n,o,r=wt.none){this.type=t,this.attrs=n,this.marks=r,this.content=o||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,o,r=0){this.content.nodesBetween(t,n,o,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,o,r){return this.content.textBetween(t,n,o,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,o){return this.type==t&&Rl(this.attrs,n||t.defaultAttrs||F3)&&wt.sameSet(this.marks,o||wt.none)}copy(t=null){return t==this.content?this:new to(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new to(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,o=!1){if(t==n)return xe.empty;let r=this.resolve(t),s=this.resolve(n),i=o?0:r.sharedDepth(n),a=r.start(i),l=r.node(i).content.cut(r.pos-a,s.pos-a);return new xe(l,r.depth-i,s.depth-i)}replace(t,n,o){return _3(this.resolve(t),this.resolve(n),o)}nodeAt(t){for(let n=this;;){let{index:o,offset:r}=n.content.findIndex(t);if(n=n.maybeChild(o),!n)return null;if(r==t||n.isText)return n;t-=r+1}}childAfter(t){let{index:n,offset:o}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:o}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:o}=this.content.findIndex(t);if(o<t)return{node:this.content.child(n),index:n,offset:o};let r=this.content.child(n-1);return{node:r,index:n-1,offset:o-r.nodeSize}}resolve(t){return ta.resolveCached(this,t)}resolveNoCache(t){return ta.resolve(this,t)}rangeHasMark(t,n,o){let r=!1;return n>t&&this.nodesBetween(t,n,s=>(o.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Sy(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,o=he.empty,r=0,s=o.childCount){let i=this.contentMatchAt(t).matchFragment(o,r,s),a=i&&i.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=r;l<s;l++)if(!this.type.allowsMarks(o.child(l).marks))return!1;return!0}canReplaceWith(t,n,o,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(t).matchType(o),i=s&&s.matchFragment(this.content,n);return i?i.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=wt.none;for(let n=0;n<this.marks.length;n++){let o=this.marks[n];o.type.checkAttrs(o.attrs),t=o.addToSet(t)}if(!wt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let o;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");o=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,o)}let r=he.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,r,o);return s.type.checkAttrs(s.attrs),s}}to.prototype.text=void 0;class Pl extends to{constructor(t,n,o,r){if(super(t,n,null,r),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Sy(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Pl(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Pl(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Sy(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ns{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let o=new j3(t,n);if(o.next==null)return ns.empty;let r=xy(o);o.next&&o.err("Unexpected trailing text");let s=Y3(J3(r));return Z3(s,o),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,o=t.childCount){let r=this;for(let s=n;r&&s<o;s++)r=r.matchType(t.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let o=0;o<t.next.length;o++)if(this.next[n].type==t.next[o].type)return!0;return!1}fillBefore(t,n=!1,o=0){let r=[this];function s(i,a){let l=i.matchFragment(t,o);if(l&&(!n||l.validEnd))return he.from(a.map(c=>c.createAndFill()));for(let c=0;c<i.next.length;c++){let{type:u,next:d}=i.next[c];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(d)==-1){r.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let o=0;o<this.wrapCache.length;o+=2)if(this.wrapCache[o]==t)return this.wrapCache[o+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),o=[{match:this,type:null,via:null}];for(;o.length;){let r=o.shift(),s=r.match;if(s.matchType(t)){let i=[];for(let a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(let i=0;i<s.next.length;i++){let{type:a,next:l}=s.next[i];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!r.type||l.validEnd)&&(o.push({match:a.contentMatch,type:a,via:r}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(o){t.push(o);for(let r=0;r<o.next.length;r++)t.indexOf(o.next[r].next)==-1&&n(o.next[r].next)}return n(this),t.map((o,r)=>{let s=r+(o.validEnd?"*":" ")+" ";for(let i=0;i<o.next.length;i++)s+=(i?", ":"")+o.next[i].type.name+"->"+t.indexOf(o.next[i].next);return s}).join(`
`)}}ns.empty=new ns(!0);class j3{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function xy(e){let t=[];do t.push(U3(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function U3(e){let t=[];do t.push(K3(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function K3(e){let t=G3(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=W3(e,t);else break;return t}function vm(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function W3(e,t){let n=vm(e),o=n;return e.eat(",")&&(e.next!="}"?o=vm(e):o=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:t}}function q3(e,t){let n=e.nodeTypes,o=n[t];if(o)return[o];let r=[];for(let s in n){let i=n[s];i.isInGroup(t)&&r.push(i)}return r.length==0&&e.err("No node type or group '"+t+"' found"),r}function G3(e){if(e.eat("(")){let t=xy(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=q3(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function J3(e){let t=[[]];return r(s(e,0),n()),t;function n(){return t.push([])-1}function o(i,a,l){let c={term:l,to:a};return t[i].push(c),c}function r(i,a){i.forEach(l=>l.to=a)}function s(i,a){if(i.type=="choice")return i.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(i.type=="seq")for(let l=0;;l++){let c=s(i.exprs[l],a);if(l==i.exprs.length-1)return c;r(c,a=n())}else if(i.type=="star"){let l=n();return o(a,l),r(s(i.expr,l),l),[o(l)]}else if(i.type=="plus"){let l=n();return r(s(i.expr,a),l),r(s(i.expr,l),l),[o(l)]}else{if(i.type=="opt")return[o(a)].concat(s(i.expr,a));if(i.type=="range"){let l=a;for(let c=0;c<i.min;c++){let u=n();r(s(i.expr,l),u),l=u}if(i.max==-1)r(s(i.expr,l),l);else for(let c=i.min;c<i.max;c++){let u=n();o(l,u),r(s(i.expr,l),u),l=u}return[o(l)]}else{if(i.type=="name")return[o(a,void 0,i.value)];throw new Error("Unknown expr type")}}}}function Ay(e,t){return t-e}function ym(e,t){let n=[];return o(t),n.sort(Ay);function o(r){let s=e[r];if(s.length==1&&!s[0].term)return o(s[0].to);n.push(r);for(let i=0;i<s.length;i++){let{term:a,to:l}=s[i];!a&&n.indexOf(l)==-1&&o(l)}}}function Y3(e){let t=Object.create(null);return n(ym(e,0));function n(o){let r=[];o.forEach(i=>{e[i].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<r.length;u++)r[u][0]==a&&(c=r[u][1]);ym(e,l).forEach(u=>{c||r.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=t[o.join(",")]=new ns(o.indexOf(e.length-1)>-1);for(let i=0;i<r.length;i++){let a=r[i][1].sort(Ay);s.next.push({type:r[i][0],next:t[a.join(",")]||n(a)})}return s}}function Z3(e,t){for(let n=0,o=[e];n<o.length;n++){let r=o[n],s=!r.validEnd,i=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];i.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),o.indexOf(c)==-1&&o.push(c)}s&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function My(e){let t=Object.create(null);for(let n in e){let o=e[n];if(!o.hasDefault)return null;t[n]=o.default}return t}function Ty(e,t){let n=Object.create(null);for(let o in e){let r=t&&t[o];if(r===void 0){let s=e[o];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+o)}n[o]=r}return n}function Ey(e,t,n,o){for(let r in t)if(!(r in e))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in e){let s=e[r];s.validate&&s.validate(t[r])}}function $y(e,t){let n=Object.create(null);if(t)for(let o in t)n[o]=new Q3(e,o,t[o]);return n}let bm=class Oy{constructor(t,n,o){this.name=t,this.schema=n,this.spec=o,this.markSet=null,this.groups=o.group?o.group.split(" "):[],this.attrs=$y(t,o.attrs),this.defaultAttrs=My(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(o.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ns.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Ty(this.attrs,t)}create(t=null,n,o){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new to(this,this.computeAttrs(t),he.from(n),wt.setFrom(o))}createChecked(t=null,n,o){return n=he.from(n),this.checkContent(n),new to(this,this.computeAttrs(t),n,wt.setFrom(o))}createAndFill(t=null,n,o){if(t=this.computeAttrs(t),n=he.from(n),n.size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let r=this.contentMatch.matchFragment(n),s=r&&r.fillBefore(he.empty,!0);return s?new to(this,t,n.append(s),wt.setFrom(o)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let o=0;o<t.childCount;o++)if(!this.allowsMarks(t.child(o).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Ey(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let o=0;o<t.length;o++)this.allowsMarkType(t[o].type)?n&&n.push(t[o]):n||(n=t.slice(0,o));return n?n.length?n:wt.none:t}static compile(t,n){let o=Object.create(null);t.forEach((s,i)=>o[s]=new Oy(s,n,i));let r=n.spec.topNode||"doc";if(!o[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!o.text)throw new RangeError("Every schema needs a 'text' type");for(let s in o.text.attrs)throw new RangeError("The text node type should not have attributes");return o}};function X3(e,t,n){let o=n.split("|");return r=>{let s=r===null?"null":typeof r;if(o.indexOf(s)<0)throw new RangeError(`Expected value of type ${o} for attribute ${t} on type ${e}, got ${s}`)}}class Q3{constructor(t,n,o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default,this.validate=typeof o.validate=="string"?X3(t,n,o.validate):o.validate}get isRequired(){return!this.hasDefault}}class Wc{constructor(t,n,o,r){this.name=t,this.rank=n,this.schema=o,this.spec=r,this.attrs=$y(t,r.attrs),this.excluded=null;let s=My(this.attrs);this.instance=s?new wt(this,s):null}create(t=null){return!t&&this.instance?this.instance:new wt(this,Ty(this.attrs,t))}static compile(t,n){let o=Object.create(null),r=0;return t.forEach((s,i)=>o[s]=new Wc(s,r++,n,i)),o}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){Ey(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Dy{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in t)n[r]=t[r];n.nodes=on.from(t.nodes),n.marks=on.from(t.marks||{}),this.nodes=bm.compile(this.spec.nodes,this),this.marks=Wc.compile(this.spec.marks,this);let o=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],i=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=o[i]||(o[i]=ns.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?wm(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],i=s.spec.excludes;s.excluded=i==null?[s]:i==""?[]:wm(this,i.split(" "))}this.nodeFromJSON=r=>to.fromJSON(this,r),this.markFromJSON=r=>wt.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,o,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof bm){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,o,r)}text(t,n){let o=this.nodes.text;return new Pl(o,o.defaultAttrs,t,wt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function wm(e,t){let n=[];for(let o=0;o<t.length;o++){let r=t[o],s=e.marks[r],i=s;if(s)n.push(s);else for(let a in e.marks){let l=e.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(i=l)}if(!i)throw new SyntaxError("Unknown mark type: '"+t[o]+"'")}return n}function e5(e){return e.tag!=null}function t5(e){return e.style!=null}class xr{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let o=this.matchedStyles=[];n.forEach(r=>{if(e5(r))this.tags.push(r);else if(t5(r)){let s=/[^=]*/.exec(r.style)[0];o.indexOf(s)<0&&o.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=t.nodes[r.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let o=new Cm(this,n,!1);return o.addAll(t,wt.none,n.from,n.to),o.finish()}parseSlice(t,n={}){let o=new Cm(this,n,!0);return o.addAll(t,wt.none,n.from,n.to),xe.maxOpen(o.finish())}matchTag(t,n,o){for(let r=o?this.tags.indexOf(o)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(r5(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let i=s.getAttrs(t);if(i===!1)continue;s.attrs=i||void 0}return s}}}matchStyle(t,n,o,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let i=this.styles[s],a=i.style;if(!(a.indexOf(t)!=0||i.context&&!o.matchesContext(i.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(i.getAttrs){let l=i.getAttrs(n);if(l===!1)continue;i.attrs=l||void 0}return i}}}static schemaRules(t){let n=[];function o(r){let s=r.priority==null?50:r.priority,i=0;for(;i<n.length;i++){let a=n[i];if((a.priority==null?50:a.priority)<s)break}n.splice(i,0,r)}for(let r in t.marks){let s=t.marks[r].spec.parseDOM;s&&s.forEach(i=>{o(i=Sm(i)),i.mark||i.ignore||i.clearMark||(i.mark=r)})}for(let r in t.nodes){let s=t.nodes[r].spec.parseDOM;s&&s.forEach(i=>{o(i=Sm(i)),i.node||i.ignore||i.mark||(i.node=r)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new xr(t,xr.schemaRules(t)))}}const Ry={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},n5={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ny={ol:!0,ul:!0},na=1,Bd=2,Pi=4;function km(e,t,n){return t!=null?(t?na:0)|(t==="full"?Bd:0):e&&e.whitespace=="pre"?na|Bd:n&~Pi}class Fa{constructor(t,n,o,r,s,i){this.type=t,this.attrs=n,this.marks=o,this.solid=r,this.options=i,this.content=[],this.activeMarks=wt.none,this.match=s||(i&Pi?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(he.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let o=this.type.contentMatch,r;return(r=o.findWrapping(t.type))?(this.match=o,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&na)){let o=this.content[this.content.length-1],r;if(o&&o.isText&&(r=/[ \t\r\n\u000c]+$/.exec(o.text))){let s=o;o.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let n=he.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Ry.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class Cm{constructor(t,n,o){this.parser=t,this.options=n,this.isOpen=o,this.open=0,this.localPreserveWS=!1;let r=n.topNode,s,i=km(null,n.preserveWhitespace,0)|(o?Pi:0);r?s=new Fa(r.type,r.attrs,wt.none,!0,n.topMatch||r.type.contentMatch,i):o?s=new Fa(null,null,wt.none,!0,null,i):s=new Fa(t.schema.topNodeType,null,wt.none,!0,null,i),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let o=t.nodeValue,r=this.top,s=r.options&Bd?"full":this.localPreserveWS||(r.options&na)>0,{schema:i}=this.parser;if(s==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(o)){if(s)if(s==="full")o=o.replace(/\r\n?/g,`
`);else if(i.linebreakReplacement&&/[\r\n]/.test(o)&&this.top.findWrapping(i.linebreakReplacement.create())){let a=o.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(i.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(i.text(a[l]),n,!/\S/.test(a[l]));o=""}else o=o.replace(/\r?\n|\r/g," ");else if(o=o.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(o)&&this.open==this.nodes.length-1){let a=r.content[r.content.length-1],l=t.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(o=o.slice(1))}o&&this.insertNode(i.text(o),n,!/\S/.test(o)),this.findInText(t)}else this.findInside(t)}addElement(t,n,o){let r=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let i=t.nodeName.toLowerCase(),a;Ny.hasOwnProperty(i)&&this.parser.normalizeLists&&o5(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,o));e:if(l?l.ignore:n5.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(Ry.hasOwnProperty(i))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let o=t.style;if(o&&o.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],i=o.getPropertyValue(s);if(i)for(let a=void 0;;){let l=this.parser.matchStyle(s,i,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,o,r){let s,i;if(n.node)if(i=this.parser.schema.nodes[n.node],i.isLeaf)this.insertNode(i.create(n.attrs),o,t.nodeName=="BR")||this.leafFallback(t,o);else{let l=this.enter(i,n.attrs||null,o,n.preserveWhitespace);l&&(s=!0,o=l)}else{let l=this.parser.schema.marks[n.mark];o=o.concat(l.create(n.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(r)this.addElement(t,o,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,o,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,o),this.findAround(t,l,!1)}s&&this.sync(a)&&this.open--}addAll(t,n,o,r){let s=o||0;for(let i=o?t.childNodes[o]:t.firstChild,a=r==null?null:t.childNodes[r];i!=a;i=i.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(i,n);this.findAtPoint(t,s)}findPlace(t,n,o){let r,s;for(let i=this.open,a=0;i>=0;i--){let l=this.nodes[i],c=l.findWrapping(t);if(c&&(!r||r.length>c.length+a)&&(r=c,s=l,!c.length))break;if(l.solid){if(o)break;a+=2}}if(!r)return null;this.sync(s);for(let i=0;i<r.length;i++)n=this.enterInner(r[i],null,n,!1);return n}insertNode(t,n,o){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(t,n,o);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let i=wt.none;for(let a of r.concat(t.marks))(s.type?s.type.allowsMarkType(a.type):xm(a.type,t.type))&&(i=a.addToSet(i));return s.content.push(t.mark(i)),!0}return!1}enter(t,n,o,r){let s=this.findPlace(t.create(n),o,!1);return s&&(s=this.enterInner(t,n,o,!0,r)),s}enterInner(t,n,o,r=!1,s){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(t);let a=km(t,s,i.options);i.options&Pi&&i.content.length==0&&(a|=Pi);let l=wt.none;return o=o.filter(c=>(i.type?i.type.allowsMarkType(c.type):xm(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Fa(t,n,l,r,null,a)),this.open++,o}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=na)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let o=this.nodes[n].content;for(let r=o.length-1;r>=0;r--)t+=o[r].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==t&&this.find[o].offset==n&&(this.find[o].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,o){if(t!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(o?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),o=this.options.context,r=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(r?0:1),i=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(i(a-1,l))return!0;return!1}else{let u=l>0||l==0&&r?this.nodes[l].type:o&&l>=s?o.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return i(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let o=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let n in this.parser.schema.nodes){let o=this.parser.schema.nodes[n];if(o.isTextblock&&o.defaultAttrs)return o}}}function o5(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let o=t.nodeType==1?t.nodeName.toLowerCase():null;o&&Ny.hasOwnProperty(o)&&n?(n.appendChild(t),t=n):o=="li"?n=t:o&&(n=null)}}function r5(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Sm(e){let t={};for(let n in e)t[n]=e[n];return t}function xm(e,t){let n=t.schema.nodes;for(let o in n){let r=n[o];if(!r.allowsMarkType(e))continue;let s=[],i=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||s.indexOf(u)<0&&i(u))return!0}};if(i(r.contentMatch))return!0}}class ds{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},o){o||(o=Pu(n).createDocumentFragment());let r=o,s=[];return t.forEach(i=>{if(s.length||i.marks.length){let a=0,l=0;for(;a<s.length&&l<i.marks.length;){let c=i.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)r=s.pop()[1];for(;l<i.marks.length;){let c=i.marks[l++],u=this.serializeMark(c,i.isInline,n);u&&(s.push([c,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(i,n))}),o}serializeNodeInner(t,n){let{dom:o,contentDOM:r}=dl(Pu(n),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,r)}return o}serializeNode(t,n={}){let o=this.serializeNodeInner(t,n);for(let r=t.marks.length-1;r>=0;r--){let s=this.serializeMark(t.marks[r],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(o),o=s.dom)}return o}serializeMark(t,n,o={}){let r=this.marks[t.type.name];return r&&dl(Pu(o),r(t,n),null,t.attrs)}static renderSpec(t,n,o=null,r){return dl(t,n,o,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new ds(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=Am(t.nodes);return n.text||(n.text=o=>o.text),n}static marksFromSchema(t){return Am(t.marks)}}function Am(e){let t={};for(let n in e){let o=e[n].spec.toDOM;o&&(t[n]=o)}return t}function Pu(e){return e.document||window.document}const Mm=new WeakMap;function s5(e){let t=Mm.get(e);return t===void 0&&Mm.set(e,t=i5(e)),t}function i5(e){let t=null;function n(o){if(o&&typeof o=="object")if(Array.isArray(o))if(typeof o[0]=="string")t||(t=[]),t.push(o);else for(let r=0;r<o.length;r++)n(o[r]);else for(let r in o)n(o[r])}return n(e),t}function dl(e,t,n,o){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(o&&(s=s5(o))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));let a,l=n?e.createElementNS(n,r):e.createElement(r),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=dl(e,f,n,o);if(l.appendChild(p),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:l,contentDOM:a}}const Iy=65535,Ly=Math.pow(2,16);function a5(e,t){return e+t*Ly}function Tm(e){return e&Iy}function l5(e){return(e-(e&Iy))/Ly}const Py=1,Vy=2,fl=4,_y=8;class Hd{constructor(t,n,o){this.pos=t,this.delInfo=n,this.recover=o}get deleted(){return(this.delInfo&_y)>0}get deletedBefore(){return(this.delInfo&(Py|fl))>0}get deletedAfter(){return(this.delInfo&(Vy|fl))>0}get deletedAcross(){return(this.delInfo&fl)>0}}class In{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&In.empty)return In.empty}recover(t){let n=0,o=Tm(t);if(!this.inverted)for(let r=0;r<o;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[o*3]+n+l5(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,o){let r=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+s],u=this.ranges[a+i],d=l+c;if(t<=d){let f=c?t==l?-1:t==d?1:n:n,p=l+r+(f<0?0:u);if(o)return p;let h=t==(n<0?l:d)?null:a5(a/3,t-l),m=t==l?Vy:t==d?Py:fl;return(n<0?t!=l:t!=d)&&(m|=_y),new Hd(p,m,h)}r+=u-c}return o?t+r:new Hd(t+r,0,null)}touches(t,n){let o=0,r=Tm(n),s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>t)break;let c=this.ranges[a+s],u=l+c;if(t<=u&&a==r*3)return!0;o+=this.ranges[a+i]-c}return!1}forEach(t){let n=this.inverted?2:1,o=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let i=this.ranges[r],a=i-(this.inverted?s:0),l=i+(this.inverted?0:s),c=this.ranges[r+n],u=this.ranges[r+o];t(a,a+c,l,l+u),s+=u-c}}invert(){return new In(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?In.empty:new In(t<0?[0,-t,0]:[0,0,t])}}In.empty=new In([]);class oa{constructor(t,n,o=0,r=t?t.length:0){this.mirror=n,this.from=o,this.to=r,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new oa(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,o=this._maps.length;n<t._maps.length;n++){let r=t.getMirror(n);this.appendMap(t._maps[n],r!=null&&r<n?o+r:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,o=this._maps.length+t._maps.length;n>=0;n--){let r=t.getMirror(n);this.appendMap(t._maps[n].invert(),r!=null&&r>n?o-r-1:void 0)}}invert(){let t=new oa;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let o=this.from;o<this.to;o++)t=this._maps[o].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,o){let r=0;for(let s=this.from;s<this.to;s++){let i=this._maps[s],a=i.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,t=a.pos}return o?t:new Hd(t,r,null)}}const Vu=Object.create(null);class bn{getMap(){return In.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=Vu[n.stepType];if(!o)throw new RangeError(`No step type ${n.stepType} defined`);return o.fromJSON(t,n)}static jsonID(t,n){if(t in Vu)throw new RangeError("Duplicate use of step JSON ID "+t);return Vu[t]=n,n.prototype.jsonID=t,n}}let xn=class gi{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new gi(t,null)}static fail(t){return new gi(null,t)}static fromReplace(t,n,o,r){try{return gi.ok(t.replace(n,o,r))}catch(s){if(s instanceof Nl)return gi.fail(s.message);throw s}}};function Wf(e,t,n){let o=[];for(let r=0;r<e.childCount;r++){let s=e.child(r);s.content.size&&(s=s.copy(Wf(s.content,t,s))),s.isInline&&(s=t(s,n,r)),o.push(s)}return he.fromArray(o)}class br extends bn{constructor(t,n,o){super(),this.from=t,this.to=n,this.mark=o}apply(t){let n=t.slice(this.from,this.to),o=t.resolve(this.from),r=o.node(o.sharedDepth(this.to)),s=new xe(Wf(n.content,(i,a)=>!i.isAtom||!a.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),r),n.openStart,n.openEnd);return xn.fromReplace(t,this.from,this.to,s)}invert(){return new Xn(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new br(n.pos,o.pos,this.mark)}merge(t){return t instanceof br&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new br(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new br(n.from,n.to,t.markFromJSON(n.mark))}}bn.jsonID("addMark",br);class Xn extends bn{constructor(t,n,o){super(),this.from=t,this.to=n,this.mark=o}apply(t){let n=t.slice(this.from,this.to),o=new xe(Wf(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),n.openStart,n.openEnd);return xn.fromReplace(t,this.from,this.to,o)}invert(){return new br(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new Xn(n.pos,o.pos,this.mark)}merge(t){return t instanceof Xn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Xn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Xn(n.from,n.to,t.markFromJSON(n.mark))}}bn.jsonID("removeMark",Xn);class wr extends bn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return xn.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return xn.fromReplace(t,this.pos,this.pos+1,new xe(he.from(o),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let o=this.mark.addToSet(n.marks);if(o.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(o))return new wr(this.pos,n.marks[r]);return new wr(this.pos,this.mark)}}return new rs(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new wr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new wr(n.pos,t.markFromJSON(n.mark))}}bn.jsonID("addNodeMark",wr);class rs extends bn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return xn.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return xn.fromReplace(t,this.pos,this.pos+1,new xe(he.from(o),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new wr(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new rs(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new rs(n.pos,t.markFromJSON(n.mark))}}bn.jsonID("removeNodeMark",rs);class qt extends bn{constructor(t,n,o,r=!1){super(),this.from=t,this.to=n,this.slice=o,this.structure=r}apply(t){return this.structure&&zd(t,this.from,this.to)?xn.fail("Structure replace would overwrite content"):xn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new In([this.from,this.to-this.from,this.slice.size])}invert(t){return new qt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deletedAcross&&o.deletedAcross?null:new qt(n.pos,Math.max(n.pos,o.pos),this.slice,this.structure)}merge(t){if(!(t instanceof qt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?xe.empty:new xe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new qt(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?xe.empty:new xe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new qt(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qt(n.from,n.to,xe.fromJSON(t,n.slice),!!n.structure)}}bn.jsonID("replace",qt);class Qt extends bn{constructor(t,n,o,r,s,i,a=!1){super(),this.from=t,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=s,this.insert=i,this.structure=a}apply(t){if(this.structure&&(zd(t,this.from,this.gapFrom)||zd(t,this.gapTo,this.to)))return xn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return xn.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,n.content);return o?xn.fromReplace(t,this.from,this.to,o):xn.fail("Content does not fit in gap")}getMap(){return new In([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Qt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?o.pos:t.map(this.gapTo,1);return n.deletedAcross&&o.deletedAcross||r<n.pos||s>o.pos?null:new Qt(n.pos,o.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Qt(n.from,n.to,n.gapFrom,n.gapTo,xe.fromJSON(t,n.slice),n.insert,!!n.structure)}}bn.jsonID("replaceAround",Qt);function zd(e,t,n){let o=e.resolve(t),r=n-t,s=o.depth;for(;r>0&&s>0&&o.indexAfter(s)==o.node(s).childCount;)s--,r--;if(r>0){let i=o.node(s).maybeChild(o.indexAfter(s));for(;r>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,r--}}return!1}function c5(e,t,n,o){let r=[],s=[],i,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!o.isInSet(d)&&u.type.allowsMarkType(o.type)){let f=Math.max(c,t),p=Math.min(c+l.nodeSize,n),h=o.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(h)||(i&&i.to==f&&i.mark.eq(d[m])?i.to=p:r.push(i=new Xn(f,p,d[m])));a&&a.to==f?a.to=p:s.push(a=new br(f,p,o))}}),r.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function u5(e,t,n,o){let r=[],s=0;e.doc.nodesBetween(t,n,(i,a)=>{if(!i.isInline)return;s++;let l=null;if(o instanceof Wc){let c=i.marks,u;for(;u=o.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else o?o.isInSet(i.marks)&&(l=[o]):l=i.marks;if(l&&l.length){let c=Math.min(a+i.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<r.length;p++){let h=r[p];h.step==s-1&&d.eq(r[p].style)&&(f=h)}f?(f.to=c,f.step=s):r.push({style:d,from:Math.max(a,t),to:c,step:s})}}}),r.forEach(i=>e.step(new Xn(i.from,i.to,i.style)))}function qf(e,t,n,o=n.contentMatch,r=!0){let s=e.doc.nodeAt(t),i=[],a=t+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=o.matchType(c.type);if(!d)i.push(new qt(a,u,xe.empty));else{o=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||e.step(new Xn(a,u,c.marks[f]));if(r&&c.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(c.text);)h||(h=new xe(he.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),i.push(new qt(a+f.index,a+f.index+f[0].length,h))}}a=u}if(!o.validEnd){let l=o.fillBefore(he.empty,!0);e.replace(a,a,new xe(l,0,0))}for(let l=i.length-1;l>=0;l--)e.step(i[l])}function d5(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ti(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,o=0,r=0;;--n){let s=e.$from.node(n),i=e.$from.index(n)+o,a=e.$to.indexAfter(n)-r;if(n<e.depth&&s.canReplace(i,a,t))return n;if(n==0||s.type.spec.isolating||!d5(s,i,a))break;i&&(o=1),a<s.childCount&&(r=1)}return null}function f5(e,t,n){let{$from:o,$to:r,depth:s}=t,i=o.before(s+1),a=r.after(s+1),l=i,c=a,u=he.empty,d=0;for(let h=s,m=!1;h>n;h--)m||o.index(h)>0?(m=!0,u=he.from(o.node(h).copy(u)),d++):l--;let f=he.empty,p=0;for(let h=s,m=!1;h>n;h--)m||r.after(h+1)<r.end(h)?(m=!0,f=he.from(r.node(h).copy(f)),p++):c++;e.step(new Qt(l,c,i,a,new xe(u.append(f),d,p),u.size-d,!0))}function Gf(e,t,n=null,o=e){let r=p5(e,t),s=r&&h5(o,t);return s?r.map(Em).concat({type:t,attrs:n}).concat(s.map(Em)):null}function Em(e){return{type:e,attrs:null}}function p5(e,t){let{parent:n,startIndex:o,endIndex:r}=e,s=n.contentMatchAt(o).findWrapping(t);if(!s)return null;let i=s.length?s[0]:t;return n.canReplaceWith(o,r,i)?s:null}function h5(e,t){let{parent:n,startIndex:o,endIndex:r}=e,s=n.child(o),i=t.contentMatch.findWrapping(s.type);if(!i)return null;let a=(i.length?i[i.length-1]:t).contentMatch;for(let l=o;a&&l<r;l++)a=a.matchType(n.child(l).type);return!a||!a.validEnd?null:i}function m5(e,t,n){let o=he.empty;for(let i=n.length-1;i>=0;i--){if(o.size){let a=n[i].type.contentMatch.matchFragment(o);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=he.from(n[i].type.create(n[i].attrs,o))}let r=t.start,s=t.end;e.step(new Qt(r,s,r,s,new xe(o,0,0),n.length,!0))}function g5(e,t,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(i,a)=>{let l=typeof r=="function"?r(i):r;if(i.isTextblock&&!i.hasMarkup(o,l)&&v5(e.doc,e.mapping.slice(s).map(a),o)){let c=null;if(o.schema.linebreakReplacement){let p=o.whitespace=="pre",h=!!o.contentMatch.matchType(o.schema.linebreakReplacement);p&&!h?c=!1:!p&&h&&(c=!0)}c===!1&&Hy(e,i,a,s),qf(e,e.mapping.slice(s).map(a,1),o,void 0,c===null);let u=e.mapping.slice(s),d=u.map(a,1),f=u.map(a+i.nodeSize,1);return e.step(new Qt(d,f,d+1,f-1,new xe(he.from(o.create(l,null,i.marks)),0,0),1,!0)),c===!0&&By(e,i,a,s),!1}})}function By(e,t,n,o){t.forEach((r,s)=>{if(r.isText){let i,a=/\r?\n|\r/g;for(;i=a.exec(r.text);){let l=e.mapping.slice(o).map(n+1+s+i.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function Hy(e,t,n,o){t.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let i=e.mapping.slice(o).map(n+1+s);e.replaceWith(i,i+1,t.type.schema.text(`
`))}})}function v5(e,t,n){let o=e.resolve(t),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}function y5(e,t,n,o,r){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let i=n.create(o,null,r||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,i);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Qt(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new xe(he.from(i),0,0),1,!0))}function Fo(e,t,n=1,o){let r=e.resolve(t),s=r.depth-n,i=o&&o[o.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!i.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=n-2;c>s;c--,u--){let d=r.node(c),f=r.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=o&&o[u+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let m=o&&o[u]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(p))return!1}let a=r.indexAfter(s),l=o&&o[0];return r.node(s).canReplaceWith(a,a,l?l.type:r.node(s+1).type)}function b5(e,t,n=1,o){let r=e.doc.resolve(t),s=he.empty,i=he.empty;for(let a=r.depth,l=r.depth-n,c=n-1;a>l;a--,c--){s=he.from(r.node(a).copy(s));let u=o&&o[c];i=he.from(u?u.type.create(u.attrs,i):r.node(a).copy(i))}e.step(new qt(t,t,new xe(s.append(i),n,n),!0))}function Ir(e,t){let n=e.resolve(t),o=n.index();return zy(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function w5(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:o}=e.type.schema;for(let r=0;r<t.childCount;r++){let s=t.child(r),i=s.type==o?e.type.schema.nodes.text:s.type;if(n=n.matchType(i),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function zy(e,t){return!!(e&&t&&!e.isLeaf&&w5(e,t))}function qc(e,t,n=-1){let o=e.resolve(t);for(let r=o.depth;;r--){let s,i,a=o.index(r);if(r==o.depth?(s=o.nodeBefore,i=o.nodeAfter):n>0?(s=o.node(r+1),a++,i=o.node(r).maybeChild(a)):(s=o.node(r).maybeChild(a-1),i=o.node(r+1)),s&&!s.isTextblock&&zy(s,i)&&o.node(r).canReplace(a,a+1))return t;if(r==0)break;t=n<0?o.before(r):o.after(r)}}function k5(e,t,n){let o=null,{linebreakReplacement:r}=e.doc.type.schema,s=e.doc.resolve(t-n),i=s.node().type;if(r&&i.inlineContent){let u=i.whitespace=="pre",d=!!i.contentMatch.matchType(r);u&&!d?o=!1:!u&&d&&(o=!0)}let a=e.steps.length;if(o===!1){let u=e.doc.resolve(t+n);Hy(e,u.node(),u.before(),a)}i.inlineContent&&qf(e,t+n-1,i,s.node().contentMatchAt(s.index()),o==null);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new qt(c,l.map(t+n,-1),xe.empty,!0)),o===!0){let u=e.doc.resolve(c);By(e,u.node(),u.before(),e.steps.length)}return e}function C5(e,t,n){let o=e.resolve(t);if(o.parent.canReplaceWith(o.index(),o.index(),n))return t;if(o.parentOffset==0)for(let r=o.depth-1;r>=0;r--){let s=o.index(r);if(o.node(r).canReplaceWith(s,s,n))return o.before(r+1);if(s>0)return null}if(o.parentOffset==o.parent.content.size)for(let r=o.depth-1;r>=0;r--){let s=o.indexAfter(r);if(o.node(r).canReplaceWith(s,s,n))return o.after(r+1);if(s<o.node(r).childCount)return null}return null}function Fy(e,t,n){let o=e.resolve(t);if(!n.content.size)return t;let r=n.content;for(let s=0;s<n.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let i=o.depth;i>=0;i--){let a=i==o.depth?0:o.pos<=(o.start(i+1)+o.end(i+1))/2?-1:1,l=o.index(i)+(a>0?1:0),c=o.node(i),u=!1;if(s==1)u=c.canReplace(l,l,r);else{let d=c.contentMatchAt(l).findWrapping(r.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?o.pos:a<0?o.before(i+1):o.after(i+1)}return null}function Gc(e,t,n=t,o=xe.empty){if(t==n&&!o.size)return null;let r=e.resolve(t),s=e.resolve(n);return jy(r,s,o)?new qt(t,n,o):new S5(r,s,o).fit()}function jy(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class S5{constructor(t,n,o){this.$from=t,this.$to=n,this.unplaced=o,this.frontier=[],this.placed=he.empty;for(let r=0;r<=t.depth;r++){let s=t.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=he.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,r=this.close(t<0?this.$to:o.doc.resolve(t));if(!r)return null;let s=this.placed,i=o.depth,a=r.depth;for(;i&&a&&s.childCount==1;)s=s.firstChild.content,i--,a--;let l=new xe(s,i,a);return t>-1?new Qt(o.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||o.pos!=this.$to.pos?new qt(o.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,o=0,r=this.unplaced.openEnd;o<t;o++){let s=n.firstChild;if(n.childCount>1&&(r=0),s.type.spec.isolating&&r<=o){t=o;break}n=s.content}for(let n=1;n<=2;n++)for(let o=n==1?t:this.unplaced.openStart;o>=0;o--){let r,s=null;o?(s=_u(this.unplaced.content,o-1).firstChild,r=s.content):r=this.unplaced.content;let i=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(i?c.matchType(i.type)||(d=c.fillBefore(he.from(i),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:o,frontierDepth:a,parent:s,inject:d};if(n==2&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:o,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:o}=this.unplaced,r=_u(t,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new xe(t,n+1,Math.max(o,r.size+n>=t.size-o?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:o}=this.unplaced,r=_u(t,n);if(r.childCount<=1&&n>0){let s=t.size-n<=n+r.size;this.unplaced=new xe(vi(t,n-1,1),n-1,s?n-1:o)}else this.unplaced=new xe(vi(t,n,1),n,o)}placeNodes({sliceDepth:t,frontierDepth:n,parent:o,inject:r,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let i=this.unplaced,a=o?o.content:i.content,l=i.openStart-t,c=0,u=[],{match:d,type:f}=this.frontier[n];if(r){for(let m=0;m<r.childCount;m++)u.push(r.child(m));d=d.matchFragment(r)}let p=a.size+t-(i.content.size-i.openEnd);for(;c<a.childCount;){let m=a.child(c),v=d.matchType(m.type);if(!v)break;c++,(c>1||l==0||m.content.size)&&(d=v,u.push(Uy(m.mark(f.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?p:-1)))}let h=c==a.childCount;h||(p=-1),this.placed=yi(this.placed,n,he.from(u)),this.frontier[n].match=d,h&&p<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,v=a;m<p;m++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=h?t==0?xe.empty:new xe(vi(i.content,t-1,1),t-1,p<0?i.openEnd:t-1):new xe(vi(i.content,t,c),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Bu(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:o}=this.$to,r=this.$to.after(o);for(;o>1&&r==this.$to.end(--o);)++r;return r}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:o,type:r}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),i=Bu(t,n,r,o,s);if(i){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Bu(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:i,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=yi(this.placed,n.depth,n.fit)),t=n.move;for(let o=n.depth+1;o<=t.depth;o++){let r=t.node(o),s=r.type.contentMatch.fillBefore(r.content,!0,t.index(o));this.openFrontierNode(r.type,r.attrs,s)}return t}openFrontierNode(t,n=null,o){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=yi(this.placed,this.depth,he.from(t.create(n,o))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(he.empty,!0);t.childCount&&(this.placed=yi(this.placed,this.frontier.length,t))}}function vi(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(vi(e.firstChild.content,t-1,n)))}function yi(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(yi(e.lastChild.content,t-1,n)))}function _u(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Uy(e,t,n){if(t<=0)return e;let o=e.content;return t>1&&(o=o.replaceChild(0,Uy(o.firstChild,t-1,o.childCount==1?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(he.empty,!0)))),e.copy(o)}function Bu(e,t,n,o,r){let s=e.node(t),i=r?e.indexAfter(t):e.index(t);if(i==s.childCount&&!n.compatibleContent(s.type))return null;let a=o.fillBefore(s.content,!0,i);return a&&!x5(n,s.content,i)?a:null}function x5(e,t,n){for(let o=n;o<t.childCount;o++)if(!e.allowsMarks(t.child(o).marks))return!0;return!1}function A5(e){return e.spec.defining||e.spec.definingForContent}function M5(e,t,n,o){if(!o.size)return e.deleteRange(t,n);let r=e.doc.resolve(t),s=e.doc.resolve(n);if(jy(r,s,o))return e.step(new qt(t,n,o));let i=Wy(r,s);i[i.length-1]==0&&i.pop();let a=-(r.depth+1);i.unshift(a);for(let f=r.depth,p=r.pos-1;f>0;f--,p--){let h=r.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;i.indexOf(f)>-1?a=f:r.before(f)==p&&i.splice(1,0,-f)}let l=i.indexOf(a),c=[],u=o.openStart;for(let f=o.content,p=0;;p++){let h=f.firstChild;if(c.push(h),p==o.openStart)break;f=h.content}for(let f=u-1;f>=0;f--){let p=c[f],h=A5(p.type);if(h&&!p.sameMarkup(r.node(Math.abs(a)-1)))u=f;else if(h||!p.type.isTextblock)break}for(let f=o.openStart;f>=0;f--){let p=(f+u+1)%(o.openStart+1),h=c[p];if(h)for(let m=0;m<i.length;m++){let v=i[(m+l)%i.length],y=!0;v<0&&(y=!1,v=-v);let w=r.node(v-1),k=r.index(v-1);if(w.canReplaceWith(k,k,h.type,h.marks))return e.replace(r.before(v),y?s.after(v):n,new xe(Ky(o.content,0,o.openStart,p),p,o.openEnd))}}let d=e.steps.length;for(let f=i.length-1;f>=0&&(e.replace(t,n,o),!(e.steps.length>d));f--){let p=i[f];p<0||(t=r.before(p),n=s.after(p))}}function Ky(e,t,n,o,r){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(Ky(s.content,t+1,n,o,s)))}if(t>o){let s=r.contentMatchAt(0),i=s.fillBefore(e).append(e);e=i.append(s.matchFragment(i).fillBefore(he.empty,!0))}return e}function T5(e,t,n,o){if(!o.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=C5(e.doc,t,o.type);r!=null&&(t=n=r)}e.replaceRange(t,n,new xe(he.from(o),0,0))}function E5(e,t,n){let o=e.doc.resolve(t),r=e.doc.resolve(n),s=Wy(o,r);for(let i=0;i<s.length;i++){let a=s[i],l=i==s.length-1;if(l&&a==0||o.node(a).type.contentMatch.validEnd)return e.delete(o.start(a),r.end(a));if(a>0&&(l||o.node(a-1).canReplace(o.index(a-1),r.indexAfter(a-1))))return e.delete(o.before(a),r.after(a))}for(let i=1;i<=o.depth&&i<=r.depth;i++)if(t-o.start(i)==o.depth-i&&n>o.end(i)&&r.end(i)-n!=r.depth-i&&o.start(i-1)==r.start(i-1)&&o.node(i-1).canReplace(o.index(i-1),r.index(i-1)))return e.delete(o.before(i),n);e.delete(t,n)}function Wy(e,t){let n=[],o=Math.min(e.depth,t.depth);for(let r=o;r>=0;r--){let s=e.start(r);if(s<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(s==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==s-1)&&n.push(r)}return n}class Is extends bn{constructor(t,n,o){super(),this.pos=t,this.attr=n,this.value=o}apply(t){let n=t.nodeAt(this.pos);if(!n)return xn.fail("No node at attribute step's position");let o=Object.create(null);for(let s in n.attrs)o[s]=n.attrs[s];o[this.attr]=this.value;let r=n.type.create(o,null,n.marks);return xn.fromReplace(t,this.pos,this.pos+1,new xe(he.from(r),0,n.isLeaf?0:1))}getMap(){return In.empty}invert(t){return new Is(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Is(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Is(n.pos,n.attr,n.value)}}bn.jsonID("attr",Is);class ra extends bn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;let o=t.type.create(n,t.content,t.marks);return xn.ok(o)}getMap(){return In.empty}invert(t){return new ra(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ra(n.attr,n.value)}}bn.jsonID("docAttr",ra);let Fs=class extends Error{};Fs=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Fs.prototype=Object.create(Error.prototype);Fs.prototype.constructor=Fs;Fs.prototype.name="TransformError";class Jf{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new oa}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Fs(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,o=xe.empty){let r=Gc(this.doc,t,n,o);return r&&this.step(r),this}replaceWith(t,n,o){return this.replace(t,n,new xe(he.from(o),0,0))}delete(t,n){return this.replace(t,n,xe.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,o){return M5(this,t,n,o),this}replaceRangeWith(t,n,o){return T5(this,t,n,o),this}deleteRange(t,n){return E5(this,t,n),this}lift(t,n){return f5(this,t,n),this}join(t,n=1){return k5(this,t,n),this}wrap(t,n){return m5(this,t,n),this}setBlockType(t,n=t,o,r=null){return g5(this,t,n,o,r),this}setNodeMarkup(t,n,o=null,r){return y5(this,t,n,o,r),this}setNodeAttribute(t,n,o){return this.step(new Is(t,n,o)),this}setDocAttribute(t,n){return this.step(new ra(t,n)),this}addNodeMark(t,n){return this.step(new wr(t,n)),this}removeNodeMark(t,n){let o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at position "+t);if(n instanceof wt)n.isInSet(o.marks)&&this.step(new rs(t,n));else{let r=o.marks,s,i=[];for(;s=n.isInSet(r);)i.push(new rs(t,s)),r=s.removeFromSet(r);for(let a=i.length-1;a>=0;a--)this.step(i[a])}return this}split(t,n=1,o){return b5(this,t,n,o),this}addMark(t,n,o){return c5(this,t,n,o),this}removeMark(t,n,o){return u5(this,t,n,o),this}clearIncompatible(t,n,o){return qf(this,t,n,o),this}}const Hu=Object.create(null);let We=class{constructor(t,n,o){this.$anchor=t,this.$head=n,this.ranges=o||[new qy(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=xe.empty){let o=n.content.lastChild,r=null;for(let a=0;a<n.openEnd;a++)r=o,o=o.lastChild;let s=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:c}=i[a],u=t.mapping.slice(s);t.replaceRange(u.map(l.pos),u.map(c.pos),a?xe.empty:n),a==0&&Dm(t,s,(o?o.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,n){let o=t.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:i,$to:a}=r[s],l=t.mapping.slice(o),c=l.map(i.pos),u=l.map(a.pos);s?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),Dm(t,o,n.isInline?-1:1))}}static findFrom(t,n,o=!1){let r=t.parent.inlineContent?new je(t):ks(t.node(0),t.parent,t.pos,t.index(),n,o);if(r)return r;for(let s=t.depth-1;s>=0;s--){let i=n<0?ks(t.node(0),t.node(s),t.before(s+1),t.index(s),n,o):ks(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,o);if(i)return i}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Vn(t.node(0))}static atStart(t){return ks(t,t,0,0,1)||new Vn(t)}static atEnd(t){return ks(t,t,t.content.size,t.childCount,-1)||new Vn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=Hu[n.type];if(!o)throw new RangeError(`No selection type ${n.type} defined`);return o.fromJSON(t,n)}static jsonID(t,n){if(t in Hu)throw new RangeError("Duplicate use of selection JSON ID "+t);return Hu[t]=n,n.prototype.jsonID=t,n}getBookmark(){return je.between(this.$anchor,this.$head).getBookmark()}};We.prototype.visible=!0;class qy{constructor(t,n){this.$from=t,this.$to=n}}let $m=!1;function Om(e){!$m&&!e.parent.inlineContent&&($m=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class je extends We{constructor(t,n=t){Om(t),Om(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let o=t.resolve(n.map(this.head));if(!o.parent.inlineContent)return We.near(o);let r=t.resolve(n.map(this.anchor));return new je(r.parent.inlineContent?r:o,o)}replace(t,n=xe.empty){if(super.replace(t,n),n==xe.empty){let o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}}eq(t){return t instanceof je&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Jc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new je(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,o=n){let r=t.resolve(n);return new this(r,o==n?r:t.resolve(o))}static between(t,n,o){let r=t.pos-n.pos;if((!o||r)&&(o=r>=0?1:-1),!n.parent.inlineContent){let s=We.findFrom(n,o,!0)||We.findFrom(n,-o,!0);if(s)n=s.$head;else return We.near(n,o)}return t.parent.inlineContent||(r==0?t=n:(t=(We.findFrom(t,-o,!0)||We.findFrom(t,o,!0)).$anchor,t.pos<n.pos!=r<0&&(t=n))),new je(t,n)}}We.jsonID("text",je);class Jc{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Jc(t.map(this.anchor),t.map(this.head))}resolve(t){return je.between(t.resolve(this.anchor),t.resolve(this.head))}}class He extends We{constructor(t){let n=t.nodeAfter,o=t.node(0).resolve(t.pos+n.nodeSize);super(t,o),this.node=n}map(t,n){let{deleted:o,pos:r}=n.mapResult(this.anchor),s=t.resolve(r);return o?We.near(s):new He(s)}content(){return new xe(he.from(this.node),0,0)}eq(t){return t instanceof He&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Yf(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new He(t.resolve(n.anchor))}static create(t,n){return new He(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}He.prototype.visible=!1;We.jsonID("node",He);class Yf{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:o}=t.mapResult(this.anchor);return n?new Jc(o,o):new Yf(o)}resolve(t){let n=t.resolve(this.anchor),o=n.nodeAfter;return o&&He.isSelectable(o)?new He(n):We.near(n)}}class Vn extends We{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=xe.empty){if(n==xe.empty){t.delete(0,t.doc.content.size);let o=We.atStart(t.doc);o.eq(t.selection)||t.setSelection(o)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Vn(t)}map(t){return new Vn(t)}eq(t){return t instanceof Vn}getBookmark(){return $5}}We.jsonID("all",Vn);const $5={map(){return this},resolve(e){return new Vn(e)}};function ks(e,t,n,o,r,s=!1){if(t.inlineContent)return je.create(e,n);for(let i=o-(r>0?0:1);r>0?i<t.childCount:i>=0;i+=r){let a=t.child(i);if(a.isAtom){if(!s&&He.isSelectable(a))return He.create(e,n-(r<0?a.nodeSize:0))}else{let l=ks(e,a,n+r,r<0?a.childCount:0,r,s);if(l)return l}n+=a.nodeSize*r}return null}function Dm(e,t,n){let o=e.steps.length-1;if(o<t)return;let r=e.steps[o];if(!(r instanceof qt||r instanceof Qt))return;let s=e.mapping.maps[o],i;s.forEach((a,l,c,u)=>{i==null&&(i=u)}),e.setSelection(We.near(e.doc.resolve(i),n))}const Rm=1,ja=2,Nm=4;class O5 extends Jf{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Rm)&~ja,this.storedMarks=null,this}get selectionSet(){return(this.updated&Rm)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=ja,this}ensureMarks(t){return wt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ja)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~ja,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let o=this.selection;return n&&(t=t.mark(this.storedMarks||(o.empty?o.$from.marks():o.$from.marksAcross(o.$to)||wt.none))),o.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,o){let r=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(o==null&&(o=n),!t)return this.deleteRange(n,o);let s=this.storedMarks;if(!s){let i=this.doc.resolve(n);s=o==n?i.marks():i.marksAcross(this.doc.resolve(o))}return this.replaceRangeWith(n,o,r.text(t,s)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(We.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Nm,this}get scrolledIntoView(){return(this.updated&Nm)>0}}function Im(e,t){return!t||!e?e:e.bind(t)}class bi{constructor(t,n,o){this.name=t,this.init=Im(n.init,o),this.apply=Im(n.apply,o)}}const D5=[new bi("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new bi("selection",{init(e,t){return e.selection||We.atStart(t.doc)},apply(e){return e.selection}}),new bi("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,o){return o.selection.$cursor?e.storedMarks:null}}),new bi("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class zu{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=D5.slice(),n&&n.forEach(o=>{if(this.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");this.plugins.push(o),this.pluginsByKey[o.key]=o,o.spec.state&&this.fields.push(new bi(o.key,o.spec.state,o))})}}class Ms{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let o=0;o<this.config.plugins.length;o++)if(o!=n){let r=this.config.plugins[o];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],o=this.applyInner(t),r=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let l=r?r[i].n:0,c=r?r[i].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,o);if(u&&o.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",t),!r){r=[];for(let d=0;d<this.config.plugins.length;d++)r.push(d<i?{state:o,n:n.length}:{state:this,n:0})}n.push(u),o=o.applyInner(u),s=!0}r&&(r[i]={state:o,n:n.length})}}if(!s)return{state:o,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ms(this.config),o=this.config.fields;for(let r=0;r<o.length;r++){let s=o[r];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new O5(this)}static create(t){let n=new zu(t.doc?t.doc.type.schema:t.schema,t.plugins),o=new Ms(n);for(let r=0;r<n.fields.length;r++)o[n.fields[r].name]=n.fields[r].init(t,o);return o}reconfigure(t){let n=new zu(this.schema,t.plugins),o=n.fields,r=new Ms(n);for(let s=0;s<o.length;s++){let i=o[s].name;r[i]=this.hasOwnProperty(i)?this[i]:o[s].init(t,r)}return r}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(o=>o.toJSON())),t&&typeof t=="object")for(let o in t){if(o=="doc"||o=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[o],s=r.spec.state;s&&s.toJSON&&(n[o]=s.toJSON.call(r,this[r.key]))}return n}static fromJSON(t,n,o){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new zu(t.schema,t.plugins),s=new Ms(r);return r.fields.forEach(i=>{if(i.name=="doc")s.doc=to.fromJSON(t.schema,n.doc);else if(i.name=="selection")s.selection=We.fromJSON(s.doc,n.selection);else if(i.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(o)for(let a in o){let l=o[a],c=l.spec.state;if(l.key==i.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[i.name]=c.fromJSON.call(l,t,n[a],s);return}}s[i.name]=i.init(t,s)}}),s}}function Gy(e,t,n){for(let o in e){let r=e[o];r instanceof Function?r=r.bind(t):o=="handleDOMEvents"&&(r=Gy(r,t,{})),n[o]=r}return n}class Ot{constructor(t){this.spec=t,this.props={},t.props&&Gy(t.props,this,this.props),this.key=t.key?t.key.key:Jy("plugin")}getState(t){return t[this.key]}}const Fu=Object.create(null);function Jy(e){return e in Fu?e+"$"+ ++Fu[e]:(Fu[e]=0,e+"$")}class Pt{constructor(t="key"){this.key=Jy(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Zf=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Yy(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Zy=(e,t,n)=>{let o=Yy(e,n);if(!o)return!1;let r=Xf(o);if(!r){let i=o.blockRange(),a=i&&ti(i);return a==null?!1:(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}let s=r.nodeBefore;if(i0(e,r,t,-1))return!0;if(o.parent.content.size==0&&(js(s,"end")||He.isSelectable(s)))for(let i=o.depth;;i--){let a=Gc(e.doc,o.before(i),o.after(i),xe.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(js(s,"end")?We.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):He.create(l.doc,r.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}if(i==1||o.node(i-1).childCount>1)break}return s.isAtom&&r.depth==o.depth-1?(t&&t(e.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},R5=(e,t,n)=>{let o=Yy(e,n);if(!o)return!1;let r=Xf(o);return r?Xy(e,r,t):!1},N5=(e,t,n)=>{let o=e0(e,n);if(!o)return!1;let r=Qf(o);return r?Xy(e,r,t):!1};function Xy(e,t,n){let o=t.nodeBefore,r=o,s=t.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let u=r.lastChild;if(!u)return!1;r=u}let i=t.nodeAfter,a=i,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Gc(e.doc,s,l,xe.empty);if(!c||c.from!=s||c instanceof qt&&c.slice.size>=l-s)return!1;if(n){let u=e.tr.step(c);u.setSelection(je.create(u.doc,s)),n(u.scrollIntoView())}return!0}function js(e,t,n=!1){for(let o=e;o;o=t=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&o.childCount!=1)return!1}return!1}const Qy=(e,t,n)=>{let{$head:o,empty:r}=e.selection,s=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;s=Xf(o)}let i=s&&s.nodeBefore;return!i||!He.isSelectable(i)?!1:(t&&t(e.tr.setSelection(He.create(e.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function Xf(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function e0(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const t0=(e,t,n)=>{let o=e0(e,n);if(!o)return!1;let r=Qf(o);if(!r)return!1;let s=r.nodeAfter;if(i0(e,r,t,1))return!0;if(o.parent.content.size==0&&(js(s,"start")||He.isSelectable(s))){let i=Gc(e.doc,o.before(),o.after(),xe.empty);if(i&&i.slice.size<i.to-i.from){if(t){let a=e.tr.step(i);a.setSelection(js(s,"start")?We.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):He.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&r.depth==o.depth-1?(t&&t(e.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},n0=(e,t,n)=>{let{$head:o,empty:r}=e.selection,s=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;s=Qf(o)}let i=s&&s.nodeAfter;return!i||!He.isSelectable(i)?!1:(t&&t(e.tr.setSelection(He.create(e.doc,s.pos)).scrollIntoView()),!0)};function Qf(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const I5=(e,t)=>{let n=e.selection,o=n instanceof He,r;if(o){if(n.node.isTextblock||!Ir(e.doc,n.from))return!1;r=n.from}else if(r=qc(e.doc,n.from,-1),r==null)return!1;if(t){let s=e.tr.join(r);o&&s.setSelection(He.create(s.doc,r-e.doc.resolve(r).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},L5=(e,t)=>{let n=e.selection,o;if(n instanceof He){if(n.node.isTextblock||!Ir(e.doc,n.to))return!1;o=n.to}else if(o=qc(e.doc,n.to,1),o==null)return!1;return t&&t(e.tr.join(o).scrollIntoView()),!0},P5=(e,t)=>{let{$from:n,$to:o}=e.selection,r=n.blockRange(o),s=r&&ti(r);return s==null?!1:(t&&t(e.tr.lift(r,s).scrollIntoView()),!0)},o0=(e,t)=>{let{$head:n,$anchor:o}=e.selection;return!n.parent.type.spec.code||!n.sameParent(o)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function ep(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const V5=(e,t)=>{let{$head:n,$anchor:o}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),s=n.indexAfter(-1),i=ep(r.contentMatchAt(s));if(!i||!r.canReplaceWith(s,s,i))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,i.createAndFill());l.setSelection(We.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},r0=(e,t)=>{let n=e.selection,{$from:o,$to:r}=n;if(n instanceof Vn||o.parent.inlineContent||r.parent.inlineContent)return!1;let s=ep(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let i=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,a=e.tr.insert(i,s.createAndFill());a.setSelection(je.create(a.doc,i+1)),t(a.scrollIntoView())}return!0},s0=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Fo(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let o=n.blockRange(),r=o&&ti(o);return r==null?!1:(t&&t(e.tr.lift(o,r).scrollIntoView()),!0)};function _5(e){return(t,n)=>{let{$from:o,$to:r}=t.selection;if(t.selection instanceof He&&t.selection.node.isBlock)return!o.parentOffset||!Fo(t.doc,o.pos)?!1:(n&&n(t.tr.split(o.pos).scrollIntoView()),!0);if(!o.depth)return!1;let s=[],i,a,l=!1,c=!1;for(let p=o.depth;;p--)if(o.node(p).isBlock){l=o.end(p)==o.pos+(o.depth-p),c=o.start(p)==o.pos-(o.depth-p),a=ep(o.node(p-1).contentMatchAt(o.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),i=p;break}else{if(p==1)return!1;s.unshift(null)}let u=t.tr;(t.selection instanceof je||t.selection instanceof Vn)&&u.deleteSelection();let d=u.mapping.map(o.pos),f=Fo(u.doc,d,s.length,s);if(f||(s[0]=a?{type:a}:null,f=Fo(u.doc,d,s.length,s)),!f)return!1;if(u.split(d,s.length,s),!l&&c&&o.node(i).type!=a){let p=u.mapping.map(o.before(i)),h=u.doc.resolve(p);a&&o.node(i-1).canReplaceWith(h.index(),h.index()+1,a)&&u.setNodeMarkup(u.mapping.map(o.before(i)),a)}return n&&n(u.scrollIntoView()),!0}}const B5=_5(),H5=(e,t)=>{let{$from:n,to:o}=e.selection,r,s=n.sharedDepth(o);return s==0?!1:(r=n.before(s),t&&t(e.tr.setSelection(He.create(e.doc,r))),!0)};function z5(e,t,n){let o=t.nodeBefore,r=t.nodeAfter,s=t.index();return!o||!r||!o.type.compatibleContent(r.type)?!1:!o.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(r.isTextblock||Ir(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function i0(e,t,n,o){let r=t.nodeBefore,s=t.nodeAfter,i,a,l=r.type.spec.isolating||s.type.spec.isolating;if(!l&&z5(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(i=(a=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&a.matchType(i[0]||s.type).validEnd){if(n){let p=t.pos+s.nodeSize,h=he.empty;for(let y=i.length-1;y>=0;y--)h=he.from(i[y].create(null,h));h=he.from(r.copy(h));let m=e.tr.step(new Qt(t.pos-1,p,t.pos,p,new xe(h,1,0),i.length,!0)),v=m.doc.resolve(p+2*i.length);v.nodeAfter&&v.nodeAfter.type==r.type&&Ir(m.doc,v.pos)&&m.join(v.pos),n(m.scrollIntoView())}return!0}let u=s.type.spec.isolating||o>0&&l?null:We.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),f=d&&ti(d);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(c&&js(s,"start",!0)&&js(r,"end")){let p=r,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let m=s,v=1;for(;!m.isTextblock;m=m.firstChild)v++;if(p.canReplace(p.childCount,p.childCount,m.content)){if(n){let y=he.empty;for(let k=h.length-1;k>=0;k--)y=he.from(h[k].copy(y));let w=e.tr.step(new Qt(t.pos-h.length,t.pos+s.nodeSize,t.pos+v,t.pos+s.nodeSize-v,new xe(y,h.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function a0(e){return function(t,n){let o=t.selection,r=e<0?o.$from:o.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(n&&n(t.tr.setSelection(je.create(t.doc,e<0?r.start(s):r.end(s)))),!0):!1}}const F5=a0(-1),j5=a0(1);function U5(e,t=null){return function(n,o){let{$from:r,$to:s}=n.selection,i=r.blockRange(s),a=i&&Gf(i,e,t);return a?(o&&o(n.tr.wrap(i,a).scrollIntoView()),!0):!1}}function Lm(e,t=null){return function(n,o){let r=!1;for(let s=0;s<n.selection.ranges.length&&!r;s++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(i,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)r=!0;else{let u=n.doc.resolve(c),d=u.index();r=u.parent.canReplaceWith(d,d+1,e)}})}if(!r)return!1;if(o){let s=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];s.setBlockType(a,l,e,t)}o(s.scrollIntoView())}return!0}}function tp(...e){return function(t,n,o){for(let r=0;r<e.length;r++)if(e[r](t,n,o))return!0;return!1}}tp(Zf,Zy,Qy);tp(Zf,t0,n0);tp(o0,r0,s0,B5);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function K5(e,t=null){return function(n,o){let{$from:r,$to:s}=n.selection,i=r.blockRange(s);if(!i)return!1;let a=o?n.tr:null;return W5(a,i,e,t)?(o&&o(a.scrollIntoView()),!0):!1}}function W5(e,t,n,o=null){let r=!1,s=t,i=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=i.resolve(t.start-2);s=new Ll(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Ll(t.$from,i.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let a=Gf(s,n,o,t);return a?(e&&q5(e,t,a,r,n),!0):!1}function q5(e,t,n,o,r){let s=he.empty;for(let u=n.length-1;u>=0;u--)s=he.from(n[u].type.create(n[u].attrs,s));e.step(new Qt(t.start-(o?2:0),t.end,t.start,t.end,new xe(s,0,0),n.length,!0));let i=0;for(let u=0;u<n.length;u++)n[u].type==r&&(i=u+1);let a=n.length-i,l=t.start+n.length-(o?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,f=!0;u<d;u++,f=!1)!f&&Fo(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return e}function G5(e){return function(t,n){let{$from:o,$to:r}=t.selection,s=o.blockRange(r,i=>i.childCount>0&&i.firstChild.type==e);return s?n?o.node(s.depth-1).type==e?J5(t,n,e,s):Y5(t,n,s):!0:!1}}function J5(e,t,n,o){let r=e.tr,s=o.end,i=o.$to.end(o.depth);s<i&&(r.step(new Qt(s-1,i,s,i,new xe(he.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new Ll(r.doc.resolve(o.$from.pos),r.doc.resolve(i),o.depth));const a=ti(o);if(a==null)return!1;r.lift(o,a);let l=r.doc.resolve(r.mapping.map(s,-1)-1);return Ir(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),t(r.scrollIntoView()),!0}function Y5(e,t,n){let o=e.tr,r=n.parent;for(let p=n.end,h=n.endIndex-1,m=n.startIndex;h>m;h--)p-=r.child(h).nodeSize,o.delete(p-1,p+1);let s=o.doc.resolve(n.start),i=s.nodeAfter;if(o.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==r.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,i.content.append(l?he.empty:he.from(r))))return!1;let d=s.pos,f=d+i.nodeSize;return o.step(new Qt(d-(a?1:0),f+(l?1:0),d+1,f-1,new xe((a?he.empty:he.from(r.copy(he.empty))).append(l?he.empty:he.from(r.copy(he.empty))),a?0:1,l?0:1),a?0:1)),t(o.scrollIntoView()),!0}function Z5(e){return function(t,n){let{$from:o,$to:r}=t.selection,s=o.blockRange(r,c=>c.childCount>0&&c.firstChild.type==e);if(!s)return!1;let i=s.startIndex;if(i==0)return!1;let a=s.parent,l=a.child(i-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=he.from(c?e.create():null),d=new xe(he.from(e.create(null,he.from(a.type.create(null,u)))),c?3:1,0),f=s.start,p=s.end;n(t.tr.step(new Qt(f-(c?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}const rn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Us=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Fd=null;const Lo=function(e,t,n){let o=Fd||(Fd=document.createRange());return o.setEnd(e,n??e.nodeValue.length),o.setStart(e,t||0),o},X5=function(){Fd=null},ss=function(e,t,n,o){return n&&(Pm(e,t,n,o,-1)||Pm(e,t,n,o,1))},Q5=/^(img|br|input|textarea|hr)$/i;function Pm(e,t,n,o,r){for(var s;;){if(e==n&&t==o)return!0;if(t==(r<0?0:Un(e))){let i=e.parentNode;if(!i||i.nodeType!=1||Aa(e)||Q5.test(e.nodeName)||e.contentEditable=="false")return!1;t=rn(e)+(r<0?0:1),e=i}else if(e.nodeType==1){let i=e.childNodes[t+(r<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((s=i.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)t+=r;else return!1;else e=i,t=r<0?Un(e):0}else return!1}}function Un(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function eE(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Un(e)}else if(e.parentNode&&!Aa(e))t=rn(e),e=e.parentNode;else return null}}function tE(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Aa(e))t=rn(e)+1,e=e.parentNode;else return null}}function nE(e,t,n){for(let o=t==0,r=t==Un(e);o||r;){if(e==n)return!0;let s=rn(e);if(e=e.parentNode,!e)return!1;o=o&&s==0,r=r&&s==Un(e)}}function Aa(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Yc=function(e){return e.focusNode&&ss(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Ur(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function oE(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function rE(e,t,n){if(e.caretPositionFromPoint)try{let o=e.caretPositionFromPoint(t,n);if(o)return{node:o.offsetNode,offset:Math.min(Un(o.offsetNode),o.offset)}}catch{}if(e.caretRangeFromPoint){let o=e.caretRangeFromPoint(t,n);if(o)return{node:o.startContainer,offset:Math.min(Un(o.startContainer),o.startOffset)}}}const yo=typeof navigator<"u"?navigator:null,Vm=typeof document<"u"?document:null,Lr=yo&&yo.userAgent||"",jd=/Edge\/(\d+)/.exec(Lr),l0=/MSIE \d/.exec(Lr),Ud=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lr),Rn=!!(l0||Ud||jd),Ar=l0?document.documentMode:Ud?+Ud[1]:jd?+jd[1]:0,Kn=!Rn&&/gecko\/(\d+)/i.test(Lr);Kn&&+(/Firefox\/(\d+)/.exec(Lr)||[0,0])[1];const Kd=!Rn&&/Chrome\/(\d+)/.exec(Lr),Jt=!!Kd,c0=Kd?+Kd[1]:0,vn=!Rn&&!!yo&&/Apple Computer/.test(yo.vendor),Ks=vn&&(/Mobile\/\w+/.test(Lr)||!!yo&&yo.maxTouchPoints>2),zn=Ks||(yo?/Mac/.test(yo.platform):!1),u0=yo?/Win/.test(yo.platform):!1,Bo=/Android \d/.test(Lr),Ma=!!Vm&&"webkitFontSmoothing"in Vm.documentElement.style,sE=Ma?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function iE(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Eo(e,t){return typeof e=="number"?e:e[t]}function aE(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,o=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*o}}function _m(e,t,n){let o=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let i=n||e.dom;i;){if(i.nodeType!=1){i=Us(i);continue}let a=i,l=a==s.body,c=l?iE(s):aE(a),u=0,d=0;if(t.top<c.top+Eo(o,"top")?d=-(c.top-t.top+Eo(r,"top")):t.bottom>c.bottom-Eo(o,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+Eo(r,"top")-c.top:t.bottom-c.bottom+Eo(r,"bottom")),t.left<c.left+Eo(o,"left")?u=-(c.left-t.left+Eo(r,"left")):t.right>c.right-Eo(o,"right")&&(u=t.right-c.right+Eo(r,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let p=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-p,v=a.scrollTop-h;t={left:t.left-m,top:t.top-v,right:t.right-m,bottom:t.bottom-v}}let f=l?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(f))break;i=f=="absolute"?i.offsetParent:Us(i)}}function lE(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),o,r;for(let s=(t.left+t.right)/2,i=n+1;i<Math.min(innerHeight,t.bottom);i+=5){let a=e.root.elementFromPoint(s,i);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){o=a,r=l.top;break}}return{refDOM:o,refTop:r,stack:d0(e.dom)}}function d0(e){let t=[],n=e.ownerDocument;for(let o=e;o&&(t.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),e!=n);o=Us(o));return t}function cE({refDOM:e,refTop:t,stack:n}){let o=e?e.getBoundingClientRect().top:0;f0(n,o==0?0:o-t)}function f0(e,t){for(let n=0;n<e.length;n++){let{dom:o,top:r,left:s}=e[n];o.scrollTop!=r+t&&(o.scrollTop=r+t),o.scrollLeft!=s&&(o.scrollLeft=s)}}let ps=null;function uE(e){if(e.setActive)return e.setActive();if(ps)return e.focus(ps);let t=d0(e);e.focus(ps==null?{get preventScroll(){return ps={preventScroll:!0},!0}}:void 0),ps||(ps=!1,f0(t,0))}function p0(e,t){let n,o=2e8,r,s=0,i=t.top,a=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Lo(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=i&&h.bottom>=a){i=Math.max(h.bottom,i),a=Math.min(h.top,a);let m=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(m<o){n=u,o=m,r=m&&n.nodeType==3?{left:h.right<t.left?h.right:h.left,top:t.top}:t,u.nodeType==1&&m&&(s=d+(t.left>=(h.left+h.right)/2?1:0));continue}}else h.top>t.top&&!l&&h.left<=t.left&&h.right>=t.left&&(l=u,c={left:Math.max(h.left,Math.min(h.right,t.left)),top:h.top});!n&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(s=d+1)}}return!n&&l&&(n=l,r=c,o=0),n&&n.nodeType==3?dE(n,r):!n||o&&n.nodeType==1?{node:e,offset:s}:p0(n,r)}function dE(e,t){let n=e.nodeValue.length,o=document.createRange(),r;for(let s=0;s<n;s++){o.setEnd(e,s+1),o.setStart(e,s);let i=ir(o,1);if(i.top!=i.bottom&&np(t,i)){r={node:e,offset:s+(t.left>=(i.left+i.right)/2?1:0)};break}}return o.detach(),r||{node:e,offset:0}}function np(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function fE(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function pE(e,t,n){let{node:o,offset:r}=p0(t,n),s=-1;if(o.nodeType==1&&!o.firstChild){let i=o.getBoundingClientRect();s=i.left!=i.right&&n.left>(i.left+i.right)/2?1:-1}return e.docView.posFromDOM(o,r,s)}function hE(e,t,n,o){let r=-1;for(let s=t,i=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!i&&l.left>o.left||l.top>o.top?r=a.posBefore:(!i&&l.right<o.left||l.bottom<o.top)&&(r=a.posAfter),i=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?o.top<(l.top+l.bottom)/2:o.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n,-1)}function h0(e,t,n){let o=e.childNodes.length;if(o&&n.top<n.bottom)for(let r=Math.max(0,Math.min(o-1,Math.floor(o*(t.top-n.top)/(n.bottom-n.top))-2)),s=r;;){let i=e.childNodes[s];if(i.nodeType==1){let a=i.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(np(t,c))return h0(i,t,c)}}if((s=(s+1)%o)==r)break}return e}function mE(e,t){let n=e.dom.ownerDocument,o,r=0,s=rE(n,t.left,t.top);s&&({node:o,offset:r}=s);let i=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!i||!e.dom.contains(i.nodeType!=1?i.parentNode:i)){let c=e.dom.getBoundingClientRect();if(!np(t,c)||(i=h0(e.dom,t,c),!i))return null}if(vn)for(let c=i;o&&c;c=Us(c))c.draggable&&(o=void 0);if(i=fE(i,t),o){if(Kn&&o.nodeType==1&&(r=Math.min(r,o.childNodes.length),r<o.childNodes.length)){let u=o.childNodes[r],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&r++}let c;Ma&&r&&o.nodeType==1&&(c=o.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&r--,o==e.dom&&r==o.childNodes.length-1&&o.lastChild.nodeType==1&&t.top>o.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(r==0||o.nodeType!=1||o.childNodes[r-1].nodeName!="BR")&&(a=hE(e,o,r,t))}a==null&&(a=pE(e,i,t));let l=e.docView.nearestDesc(i,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Bm(e){return e.top<e.bottom||e.left<e.right}function ir(e,t){let n=e.getClientRects();if(n.length){let o=n[t<0?0:n.length-1];if(Bm(o))return o}return Array.prototype.find.call(n,Bm)||e.getBoundingClientRect()}const gE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function m0(e,t,n){let{node:o,offset:r,atom:s}=e.docView.domFromPos(t,n<0?-1:1),i=Ma||Kn;if(o.nodeType==3)if(i&&(gE.test(o.nodeValue)||(n<0?!r:r==o.nodeValue.length))){let a=ir(Lo(o,r,r),n);if(Kn&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){let l=ir(Lo(o,r-1,r-1),-1);if(l.top==a.top){let c=ir(Lo(o,r,r+1),-1);if(c.top!=a.top)return di(c,c.left<l.left)}}return a}else{let a=r,l=r,c=n<0?1:-1;return n<0&&!r?(l++,c=-1):n>=0&&r==o.nodeValue.length?(a--,c=1):n<0?a--:l++,di(ir(Lo(o,a,l),c),c<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&r&&(n<0||r==Un(o))){let a=o.childNodes[r-1];if(a.nodeType==1)return ju(a.getBoundingClientRect(),!1)}if(s==null&&r<Un(o)){let a=o.childNodes[r];if(a.nodeType==1)return ju(a.getBoundingClientRect(),!0)}return ju(o.getBoundingClientRect(),n>=0)}if(s==null&&r&&(n<0||r==Un(o))){let a=o.childNodes[r-1],l=a.nodeType==3?Lo(a,Un(a)-(i?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(l)return di(ir(l,1),!1)}if(s==null&&r<Un(o)){let a=o.childNodes[r];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let l=a?a.nodeType==3?Lo(a,0,i?0:1):a.nodeType==1?a:null:null;if(l)return di(ir(l,-1),!0)}return di(ir(o.nodeType==3?Lo(o):o,-n),n>=0)}function di(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function ju(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function g0(e,t,n){let o=e.state,r=e.root.activeElement;o!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{o!=t&&e.updateState(o),r!=e.dom&&r&&r.focus()}}function vE(e,t,n){let o=t.selection,r=n=="up"?o.$from:o.$to;return g0(e,t,()=>{let{node:s}=e.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let i=m0(e,r.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Lo(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?i.top-u.top>(u.bottom-i.top)*2:u.bottom-i.bottom>(i.bottom-u.top)*2))return!1}}return!0})}const yE=/[\u0590-\u08ac]/;function bE(e,t,n){let{$head:o}=t.selection;if(!o.parent.isTextblock)return!1;let r=o.parentOffset,s=!r,i=r==o.parent.content.size,a=e.domSelection();return a?!yE.test(o.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:i:g0(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=o.depth?e.docView.domAfterPos(o.before()):e.dom,{focusNode:h,focusOffset:m}=e.domSelectionRange(),v=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&c==m;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),v}):o.pos==o.start()||o.pos==o.end()}let Hm=null,zm=null,Fm=!1;function wE(e,t,n){return Hm==t&&zm==n?Fm:(Hm=t,zm=n,Fm=n=="up"||n=="down"?vE(e,t,n):bE(e,t,n))}const Wn=0,jm=1,Kr=2,bo=3;class Ta{constructor(t,n,o,r){this.parent=t,this.children=n,this.dom=o,this.contentDOM=r,this.dirty=Wn,o.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,o){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,o=this.posAtStart;;n++){let r=this.children[n];if(r==t)return o;o+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,o){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(o<0){let s,i;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(i)+i.size:this.posAtStart}else{let s,i;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(i):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=n>rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??o>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let o=!0,r=t;r;r=r.parentNode){let s=this.getDesc(r),i;if(s&&(!n||s.node))if(o&&(i=s.nodeDOM)&&!(i.nodeType==1?i.contains(t.nodeType==1?t:t.parentNode):i==t))o=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let o=n;o;o=o.parent)if(o==this)return n}posFromDOM(t,n,o){for(let r=t;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(t,n,o)}return-1}descAt(t){for(let n=0,o=0;n<this.children.length;n++){let r=this.children[n],s=o+r.size;if(o==t&&s!=o){for(;!r.border&&r.children.length;)for(let i=0;i<r.children.length;i++){let a=r.children[i];if(a.size){r=a;break}}return r}if(t<s)return r.descAt(t-o-r.border);o=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let o=0,r=0;for(let s=0;o<this.children.length;o++){let i=this.children[o],a=s+i.size;if(a>t||i instanceof y0){r=t-s;break}s=a}if(r)return this.children[o].domFromPos(r-this.children[o].border,n);for(let s;o&&!(s=this.children[o-1]).size&&s instanceof v0&&s.side>=0;o--);if(n<=0){let s,i=!0;for(;s=o?this.children[o-1]:null,!(!s||s.dom.parentNode==this.contentDOM);o--,i=!1);return s&&n&&i&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?rn(s.dom)+1:0}}else{let s,i=!0;for(;s=o<this.children.length?this.children[o]:null,!(!s||s.dom.parentNode==this.contentDOM);o++,i=!1);return s&&i&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?rn(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,o=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let i=o,a=0;;a++){let l=this.children[a],c=i+l.size;if(r==-1&&t<=c){let u=i+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=i;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=rn(f.dom)+1;break}t-=f.size}r==-1&&(r=0)}if(r>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=rn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:t,to:n,fromOffset:r,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:o}=this.domFromPos(t,0);if(n.nodeType!=1||o==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[o]}setSelection(t,n,o,r=!1){let s=Math.min(t,n),i=Math.max(t,n);for(let p=0,h=0;p<this.children.length;p++){let m=this.children[p],v=h+m.size;if(s>h&&i<v)return m.setSelection(t-h-m.border,n-h-m.border,o,r);h=v}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=o.root.getSelection(),u=o.domSelectionRange(),d=!1;if((Kn||vn)&&t==n){let{node:p,offset:h}=a;if(p.nodeType==3){if(d=!!(h&&p.nodeValue[h-1]==`
`),d&&h==p.nodeValue.length)for(let m=p,v;m;m=m.parentNode){if(v=m.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:rn(v)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=p.childNodes[h-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Kn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(r=!0)}if(!(r||d&&vn)&&ss(a.node,a.offset,u.anchorNode,u.anchorOffset)&&ss(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||t==n)&&!(d&&Kn)){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>n){let h=a;a=l,l=h}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let o=0,r=0;r<this.children.length;r++){let s=this.children[r],i=o+s.size;if(o==i?t<=i&&n>=o:t<i&&n>o){let a=o+s.border,l=i-s.border;if(t>=a&&n<=l){this.dirty=t==o||n==i?Kr:jm,t==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=bo:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Kr:bo}o=i}this.dirty=Kr}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let o=t==1?Kr:jm;n.dirty<o&&(n.dirty=o)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class v0 extends Ta{constructor(t,n,o,r){let s,i=n.type.toDOM;if(typeof i=="function"&&(i=i(o,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(i.nodeType!=1){let a=document.createElement("span");a.appendChild(i),i=a}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(t,[],i,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==Wn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class kE extends Ta{constructor(t,n,o,r){super(t,[],n,null),this.textDOM=o,this.text=r}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class is extends Ta{constructor(t,n,o,r,s){super(t,[],o,r),this.mark=n,this.spec=s}static create(t,n,o,r){let s=r.nodeViews[n.type.name],i=s&&s(n,r,o);return(!i||!i.dom)&&(i=ds.renderSpec(document,n.type.spec.toDOM(n,o),null,n.attrs)),new is(t,n,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&bo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=bo&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Wn){let o=this.parent;for(;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=Wn}}slice(t,n,o){let r=is.create(this.parent,this.mark,!0,o),s=this.children,i=this.size;n<i&&(s=qd(s,n,i,o)),t>0&&(s=qd(s,0,t,o));for(let a=0;a<s.length;a++)s[a].parent=r;return r.children=s,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Mr extends Ta{constructor(t,n,o,r,s,i,a,l,c){super(t,[],s,i),this.node=n,this.outerDeco=o,this.innerDeco=r,this.nodeDOM=a}static create(t,n,o,r,s,i){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)},o,r),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=ds.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=k0(u,o,n),c?l=new CE(t,n,o,r,u,d||null,f,c,s,i+1):n.isText?new Zc(t,n,o,r,u,f,s):new Mr(t,n,o,r,u,d||null,f,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let o=this.children[n];if(this.dom.contains(o.dom.parentNode)){t.contentElement=o.dom.parentNode;break}}t.contentElement||(t.getContent=()=>he.empty)}return t}matchesNode(t,n,o){return this.dirty==Wn&&t.eq(this.node)&&Vl(n,this.outerDeco)&&o.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let o=this.node.inlineContent,r=n,s=t.composing?this.localCompositionInfo(t,n):null,i=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new xE(this,i&&i.node,t);TE(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,o,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?wt.none:this.node.child(u).marks,o,t),l.placeWidget(c,t,r)},(c,u,d,f)=>{l.syncToMarks(c.marks,o,t);let p;l.findNodeMatch(c,u,d,f)||a&&t.state.selection.from>r&&t.state.selection.to<r+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,p,t)||l.updateNextNode(c,u,d,t,f,r)||l.addNode(c,u,d,t,r),r+=c.nodeSize}),l.syncToMarks([],o,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Kr)&&(i&&this.protectLocalComposition(t,i),b0(this.contentDOM,this.children,t),Ks&&EE(this.dom))}localCompositionInfo(t,n){let{from:o,to:r}=t.state.selection;if(!(t.state.selection instanceof je)||o<n||r>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let i=s.nodeValue,a=$E(this.node.content,i,o-n,r-n);return a<0?null:{node:s,pos:a,text:i}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:o,text:r}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new kE(this,s,n,r);t.input.compositionNodes.push(i),this.children=qd(this.children,o,o+r.length,t,i)}update(t,n,o,r){return this.dirty==bo||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,o,r),!0)}updateInner(t,n,o,r){this.updateOuterDeco(n),this.node=t,this.innerDeco=o,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Wn}updateOuterDeco(t){if(Vl(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,o=this.dom;this.dom=w0(this.dom,this.nodeDOM,Wd(this.outerDeco,this.node,n),Wd(t,this.node,n)),this.dom!=o&&(o.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Um(e,t,n,o,r){k0(o,t,e);let s=new Mr(void 0,e,t,n,o,o,o,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class Zc extends Mr{constructor(t,n,o,r,s,i,a){super(t,n,o,r,s,null,i,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,o,r){return this.dirty==bo||this.dirty!=Wn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Wn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Wn,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,o){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,o)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,o){let r=this.node.cut(t,n),s=document.createTextNode(r.text);return new Zc(this.parent,r,this.outerDeco,this.innerDeco,s,s,o)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=bo)}get domAtom(){return!1}isText(t){return this.node.text==t}}class y0 extends Ta{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Wn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CE extends Mr{constructor(t,n,o,r,s,i,a,l,c,u){super(t,n,o,r,s,i,a,c,u),this.spec=l}update(t,n,o,r){if(this.dirty==bo)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,o);return s&&this.updateInner(t,n,o,r),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,o,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,o,r){this.spec.setSelection?this.spec.setSelection(t,n,o.root):super.setSelection(t,n,o,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function b0(e,t,n){let o=e.firstChild,r=!1;for(let s=0;s<t.length;s++){let i=t[s],a=i.dom;if(a.parentNode==e){for(;a!=o;)o=Km(o),r=!0;o=o.nextSibling}else r=!0,e.insertBefore(a,o);if(i instanceof is){let l=o?o.previousSibling:e.lastChild;b0(i.contentDOM,i.children,n),o=l?l.nextSibling:e.firstChild}}for(;o;)o=Km(o),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}const Vi=function(e){e&&(this.nodeName=e)};Vi.prototype=Object.create(null);const Wr=[new Vi];function Wd(e,t,n){if(e.length==0)return Wr;let o=n?Wr[0]:new Vi,r=[o];for(let s=0;s<e.length;s++){let i=e[s].type.attrs;if(i){i.nodeName&&r.push(o=new Vi(i.nodeName));for(let a in i){let l=i[a];l!=null&&(n&&r.length==1&&r.push(o=new Vi(t.isInline?"span":"div")),a=="class"?o.class=(o.class?o.class+" ":"")+l:a=="style"?o.style=(o.style?o.style+";":"")+l:a!="nodeName"&&(o[a]=l))}}}return r}function w0(e,t,n,o){if(n==Wr&&o==Wr)return t;let r=t;for(let s=0;s<o.length;s++){let i=o[s],a=n[s];if(s){let l;a&&a.nodeName==i.nodeName&&r!=e&&(l=r.parentNode)&&l.nodeName.toLowerCase()==i.nodeName||(l=document.createElement(i.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=Wr[0]),r=l}SE(r,a||Wr[0],i)}return r}function SE(e,t,n){for(let o in t)o!="class"&&o!="style"&&o!="nodeName"&&!(o in n)&&e.removeAttribute(o);for(let o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){let o=t.class?t.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&e.classList.remove(o[s]);for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&e.classList.add(r[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=o.exec(t.style);)e.style.removeProperty(r[1])}n.style&&(e.style.cssText+=n.style)}}function k0(e,t,n){return w0(e,e,Wr,Wd(t,n,e.nodeType!=1))}function Vl(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Km(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class xE{constructor(t,n,o){this.lock=n,this.view=o,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=AE(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let o=t;o<n;o++)this.top.children[o].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,o){let r=0,s=this.stack.length>>1,i=Math.min(s,t.length);for(;r<i&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=Wn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=is.create(this.top,t[s],n,o);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,o,r){let s=-1,i;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,n,o))s=this.top.children.indexOf(i,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,o)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,o,r,s){let i=this.top.children[r];return i.dirty==bo&&i.dom==i.contentDOM&&(i.dirty=Kr),i.update(t,n,o,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let o=t.pmViewDesc;if(o){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==o)return r}return-1}t=n}}updateNextNode(t,n,o,r,s,i){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Mr){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=bo&&Vl(n,l.outerDeco));if(!f&&l.update(t,n,o,r))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,o,r,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Kr,d.updateChildren(r,i+1),d.dirty=Wn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,o,r,s,i){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Vl(o,t.outerDeco)||!r.eq(t.innerDeco))return null;let a=Mr.create(this.top,n,o,r,s,i);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,o,r,s){let i=Mr.create(this.top,t,n,o,r,s);i.contentDOM&&i.updateChildren(r,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(t,n,o){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new v0(this.top,t,n,o);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof is;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Zc)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((vn||Jt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let o=document.createElement(t);t=="IMG"&&(o.className="ProseMirror-separator",o.alt=""),t=="BR"&&(o.className="ProseMirror-trailingBreak");let r=new y0(this.top,[],o,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function AE(e,t){let n=t,o=n.children.length,r=e.childCount,s=new Map,i=[];e:for(;r>0;){let a;for(;;)if(o){let c=n.children[o-1];if(c instanceof is)n=c,o=c.children.length;else{a=c,o--;break}}else{if(n==t)break e;o=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(r-1))break;--r,s.set(a,r),i.push(a)}}return{index:r,matched:s,matches:i.reverse()}}function ME(e,t){return e.type.side-t.type.side}function TE(e,t,n,o){let r=t.locals(e),s=0;if(r.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);o(u,r,t.forChild(s,u),c),s+=u.nodeSize}return}let i=0,a=[],l=null;for(let c=0;;){let u,d;for(;i<r.length&&r[i].to==s;){let v=r[i++];v.widget&&(u?(d||(d=[u])).push(v):u=v)}if(u)if(d){d.sort(ME);for(let v=0;v<d.length;v++)n(d[v],c,!!l)}else n(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<e.childCount)p=c,f=e.child(c++);else break;for(let v=0;v<a.length;v++)a[v].to<=s&&a.splice(v--,1);for(;i<r.length&&r[i].from<=s&&r[i].to>s;)a.push(r[i++]);let h=s+f.nodeSize;if(f.isText){let v=h;i<r.length&&r[i].from<v&&(v=r[i].from);for(let y=0;y<a.length;y++)a[y].to<v&&(v=a[y].to);v<h&&(l=f.cut(v-s),f=f.cut(0,v-s),h=v,p=-1)}else for(;i<r.length&&r[i].to<h;)i++;let m=f.isInline&&!f.isLeaf?a.filter(v=>!v.inline):a.slice();o(f,m,t.forChild(s,f),p),s=h}}function EE(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function $E(e,t,n,o){for(let r=0,s=0;r<e.childCount&&s<=o;){let i=e.child(r++),a=s;if(s+=i.nodeSize,!i.isText)continue;let l=i.text;for(;r<e.childCount;){let c=e.child(r++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=o&&l.slice(o-t.length-a,o-a)==t)return o-t.length;let c=a<o?l.lastIndexOf(t,o-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==o&&l.length>=o+t.length-a&&l.slice(o-a,o-a+t.length)==t)return o}}return-1}function qd(e,t,n,o,r){let s=[];for(let i=0,a=0;i<e.length;i++){let l=e[i],c=a,u=a+=l.size;c>=n||u<=t?s.push(l):(c<t&&s.push(l.slice(0,t-c,o)),r&&(s.push(r),r=void 0),u>n&&s.push(l.slice(n-c,l.size,o)))}return s}function op(e,t=null){let n=e.domSelectionRange(),o=e.state.doc;if(!n.focusNode)return null;let r=e.docView.nearestDesc(n.focusNode),s=r&&r.size==0,i=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a=o.resolve(i),l,c;if(Yc(n)){for(l=i;r&&!r.node;)r=r.parent;let d=r.node;if(r&&d.isAtom&&He.isSelectable(d)&&r.parent&&!(d.isInline&&nE(n.focusNode,n.focusOffset,r.dom))){let f=r.posBefore;c=new He(i==f?a:o.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=i,f=i;for(let p=0;p<n.rangeCount;p++){let h=n.getRangeAt(p);d=Math.min(d,e.docView.posFromDOM(h.startContainer,h.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(d<0)return null;[l,i]=f==e.state.selection.anchor?[f,d]:[d,f],a=o.resolve(i)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=o.resolve(l);if(!c){let d=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;c=rp(e,u,a,d)}return c}function C0(e){return e.editable?e.hasFocus():x0(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function jo(e,t=!1){let n=e.state.selection;if(S0(e,n),!!C0(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Jt){let o=e.domSelectionRange(),r=e.domObserver.currentSelection;if(o.anchorNode&&r.anchorNode&&ss(o.anchorNode,o.anchorOffset,r.anchorNode,r.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)DE(e);else{let{anchor:o,head:r}=n,s,i;Wm&&!(n instanceof je)&&(n.$from.parent.inlineContent||(s=qm(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(i=qm(e,n.to))),e.docView.setSelection(o,r,e,t),Wm&&(s&&Gm(s),i&&Gm(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&OE(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Wm=vn||Jt&&c0<63;function qm(e,t){let{node:n,offset:o}=e.docView.domFromPos(t,0),r=o<n.childNodes.length?n.childNodes[o]:null,s=o?n.childNodes[o-1]:null;if(vn&&r&&r.contentEditable=="false")return Uu(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return Uu(r);if(s)return Uu(s)}}function Uu(e){return e.contentEditable="true",vn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Gm(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function OE(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=o||n.anchorOffset!=r)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!C0(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function DE(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,o=n.nodeName=="IMG";o?t.collapse(n.parentNode,rn(n)+1):t.collapse(n,0),!o&&!e.state.selection.visible&&Rn&&Ar<=11&&(n.disabled=!0,n.disabled=!1)}function S0(e,t){if(t instanceof He){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Jm(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Jm(e)}function Jm(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function rp(e,t,n,o){return e.someProp("createSelectionBetween",r=>r(e,t,n))||je.between(t,n,o)}function Ym(e){return e.editable&&!e.hasFocus()?!1:x0(e)}function x0(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function RE(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return ss(t.node,t.offset,n.anchorNode,n.anchorOffset)}function Gd(e,t){let{$anchor:n,$head:o}=e.selection,r=t>0?n.max(o):n.min(o),s=r.parent.inlineContent?r.depth?e.doc.resolve(t>0?r.after():r.before()):null:r;return s&&We.findFrom(s,t)}function dr(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Zm(e,t,n){let o=e.state.selection;if(o instanceof je)if(n.indexOf("s")>-1){let{$head:r}=o,s=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=e.state.doc.resolve(r.pos+s.nodeSize*(t<0?-1:1));return dr(e,new je(o.$anchor,i))}else if(o.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let r=Gd(e.state,t);return r&&r instanceof He?dr(e,r):!1}else if(!(zn&&n.indexOf("m")>-1)){let r=o.$head,s=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,i;if(!s||s.isText)return!1;let a=t<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(i=e.docView.descAt(a))&&!i.contentDOM?He.isSelectable(s)?dr(e,new He(t<0?e.state.doc.resolve(r.pos-s.nodeSize):r)):Ma?dr(e,new je(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(o instanceof He&&o.node.isInline)return dr(e,new je(t>0?o.$to:o.$from));{let r=Gd(e.state,t);return r?dr(e,r):!1}}}function _l(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function _i(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function hs(e,t){return t<0?NE(e):IE(e)}function NE(e){let t=e.domSelectionRange(),n=t.focusNode,o=t.focusOffset;if(!n)return;let r,s,i=!1;for(Kn&&n.nodeType==1&&o<_l(n)&&_i(n.childNodes[o],-1)&&(i=!0);;)if(o>0){if(n.nodeType!=1)break;{let a=n.childNodes[o-1];if(_i(a,-1))r=n,s=--o;else if(a.nodeType==3)n=a,o=n.nodeValue.length;else break}}else{if(A0(n))break;{let a=n.previousSibling;for(;a&&_i(a,-1);)r=n.parentNode,s=rn(a),a=a.previousSibling;if(a)n=a,o=_l(n);else{if(n=n.parentNode,n==e.dom)break;o=0}}}i?Jd(e,n,o):r&&Jd(e,r,s)}function IE(e){let t=e.domSelectionRange(),n=t.focusNode,o=t.focusOffset;if(!n)return;let r=_l(n),s,i;for(;;)if(o<r){if(n.nodeType!=1)break;let a=n.childNodes[o];if(_i(a,1))s=n,i=++o;else break}else{if(A0(n))break;{let a=n.nextSibling;for(;a&&_i(a,1);)s=a.parentNode,i=rn(a)+1,a=a.nextSibling;if(a)n=a,o=0,r=_l(n);else{if(n=n.parentNode,n==e.dom)break;o=r=0}}}s&&Jd(e,s,i)}function A0(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function LE(e,t){for(;e&&t==e.childNodes.length&&!Aa(e);)t=rn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function PE(e,t){for(;e&&!t&&!Aa(e);)t=rn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Jd(e,t,n){if(t.nodeType!=3){let s,i;(i=LE(t,n))?(t=i,n=0):(s=PE(t,n))&&(t=s,n=s.nodeValue.length)}let o=e.domSelection();if(!o)return;if(Yc(o)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),o.removeAllRanges(),o.addRange(s)}else o.extend&&o.extend(t,n);e.domObserver.setCurSelection();let{state:r}=e;setTimeout(()=>{e.state==r&&jo(e)},50)}function Xm(e,t){let n=e.state.doc.resolve(t);if(!(Jt||u0)&&n.parent.inlineContent){let o=e.coordsAtPos(t);if(t>n.start()){let r=e.coordsAtPos(t-1),s=(r.top+r.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(r.left-o.left)>1)return r.left<o.left?"ltr":"rtl"}if(t<n.end()){let r=e.coordsAtPos(t+1),s=(r.top+r.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(r.left-o.left)>1)return r.left>o.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Qm(e,t,n){let o=e.state.selection;if(o instanceof je&&!o.empty||n.indexOf("s")>-1||zn&&n.indexOf("m")>-1)return!1;let{$from:r,$to:s}=o;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let i=Gd(e.state,t);if(i&&i instanceof He)return dr(e,i)}if(!r.parent.inlineContent){let i=t<0?r:s,a=o instanceof Vn?We.near(i,t):We.findFrom(i,t);return a?dr(e,a):!1}return!1}function eg(e,t){if(!(e.state.selection instanceof je))return!0;let{$head:n,$anchor:o,empty:r}=e.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let i=e.state.tr;return t<0?i.delete(n.pos-s.nodeSize,n.pos):i.delete(n.pos,n.pos+s.nodeSize),e.dispatch(i),!0}return!1}function tg(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function VE(e){if(!vn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let o=t.firstChild;tg(e,o,"true"),setTimeout(()=>tg(e,o,"false"),20)}return!1}function _E(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function BE(e,t){let n=t.keyCode,o=_E(t);if(n==8||zn&&n==72&&o=="c")return eg(e,-1)||hs(e,-1);if(n==46&&!t.shiftKey||zn&&n==68&&o=="c")return eg(e,1)||hs(e,1);if(n==13||n==27)return!0;if(n==37||zn&&n==66&&o=="c"){let r=n==37?Xm(e,e.state.selection.from)=="ltr"?-1:1:-1;return Zm(e,r,o)||hs(e,r)}else if(n==39||zn&&n==70&&o=="c"){let r=n==39?Xm(e,e.state.selection.from)=="ltr"?1:-1:1;return Zm(e,r,o)||hs(e,r)}else{if(n==38||zn&&n==80&&o=="c")return Qm(e,-1,o)||hs(e,-1);if(n==40||zn&&n==78&&o=="c")return VE(e)||Qm(e,1,o)||hs(e,1);if(o==(zn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function sp(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:o,openStart:r,openEnd:s}=t;for(;r>1&&s>1&&o.childCount==1&&o.firstChild.childCount==1;){r--,s--;let p=o.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),o=p.content}let i=e.someProp("clipboardSerializer")||ds.fromSchema(e.state.schema),a=D0(),l=a.createElement("div");l.appendChild(i.serializeFragment(o,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=O0[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let h=a.createElement(u[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function M0(e,t,n,o,r){let s=r.parent.type.spec.code,i,a;if(!n&&!t)return null;let l=!!t&&(o||s||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,s||o,e)}),s)return a=new xe(he.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",f=>{a=f(a,e,!0)}),a;let d=e.someProp("clipboardTextParser",f=>f(t,r,o,e));if(d)a=d;else{let f=r.marks(),{schema:p}=e.state,h=ds.fromSchema(p);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=i.appendChild(document.createElement("p"));m&&v.appendChild(h.serializeNode(p.text(m,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),i=jE(n),Ma&&UE(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=i.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;i=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||xr.fromSchema(e.state.schema)).parseSlice(i,{preserveWhitespace:!!(l||u),context:r,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!HE.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=KE(ng(a,+u[1],+u[2]),u[4]);else if(a=xe.maxOpen(zE(a.content,r),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=ng(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e,l)}),a}const HE=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function zE(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o=t.node(n).contentMatchAt(t.index(n)),r,s=[];if(e.forEach(i=>{if(!s)return;let a=o.findWrapping(i.type),l;if(!a)return s=null;if(l=s.length&&r.length&&E0(a,r,i,s[s.length-1],0))s[s.length-1]=l;else{s.length&&(s[s.length-1]=$0(s[s.length-1],r.length));let c=T0(i,a);s.push(c),o=o.matchType(c.type),r=a}}),s)return he.from(s)}return e}function T0(e,t,n=0){for(let o=t.length-1;o>=n;o--)e=t[o].create(null,he.from(e));return e}function E0(e,t,n,o,r){if(r<e.length&&r<t.length&&e[r]==t[r]){let s=E0(e,t,n,o.lastChild,r+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(r==e.length-1?n.type:e[r+1]))return o.copy(o.content.append(he.from(T0(n,e,r+1))))}}function $0(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,$0(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(he.empty,!0);return e.copy(n.append(o))}function Yd(e,t,n,o,r,s){let i=t<0?e.firstChild:e.lastChild,a=i.content;return e.childCount>1&&(s=0),r<o-1&&(a=Yd(a,t,n,o,r+1,s)),r>=n&&(a=t<0?i.contentMatchAt(0).fillBefore(a,s<=r).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(he.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,i.copy(a))}function ng(e,t,n){return t<e.openStart&&(e=new xe(Yd(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new xe(Yd(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const O0={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let og=null;function D0(){return og||(og=document.implementation.createHTMLDocument("title"))}let Ku=null;function FE(e){let t=window.trustedTypes;return t?(Ku||(Ku=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ku.createHTML(e)):e}function jE(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=D0().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e),r;if((r=o&&O0[o[1].toLowerCase()])&&(e=r.map(s=>"<"+s+">").join("")+e+r.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=FE(e),r)for(let s=0;s<r.length;s++)n=n.querySelector(r[s])||n;return n}function UE(e){let t=e.querySelectorAll(Jt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let o=t[n];o.childNodes.length==1&&o.textContent==""&&o.parentNode&&o.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),o)}}function KE(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,o;try{o=JSON.parse(t)}catch{return e}let{content:r,openStart:s,openEnd:i}=e;for(let a=o.length-2;a>=0;a-=2){let l=n.nodes[o[a]];if(!l||l.hasRequiredAttrs())break;r=he.from(l.create(o[a+1],r)),s++,i++}return new xe(r,s,i)}const Mn={},Tn={},WE={touchstart:!0,touchmove:!0};class qE{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function GE(e){for(let t in Mn){let n=Mn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=o=>{YE(e,o)&&!ip(e,o)&&(e.editable||!(o.type in Tn))&&n(e,o)},WE[t]?{passive:!0}:void 0)}vn&&e.dom.addEventListener("input",()=>null),Zd(e)}function kr(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function JE(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Zd(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=o=>ip(e,o))})}function ip(e,t){return e.someProp("handleDOMEvents",n=>{let o=n[t.type];return o?o(e,t)||t.defaultPrevented:!1})}function YE(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function ZE(e,t){!ip(e,t)&&Mn[t.type]&&(e.editable||!(t.type in Tn))&&Mn[t.type](e,t)}Tn.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!N0(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Bo&&Jt&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Ks&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let o=Date.now();e.input.lastIOSEnter=o,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==o&&(e.someProp("handleKeyDown",r=>r(e,Ur(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",o=>o(e,n))||BE(e,n)?n.preventDefault():kr(e,"key")};Tn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Tn.keypress=(e,t)=>{let n=t;if(N0(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||zn&&n.metaKey)return;if(e.someProp("handleKeyPress",r=>r(e,n))){n.preventDefault();return}let o=e.state.selection;if(!(o instanceof je)||!o.$from.sameParent(o.$to)){let r=String.fromCharCode(n.charCode),s=()=>e.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!e.someProp("handleTextInput",i=>i(e,o.$from.pos,o.$to.pos,r,s))&&e.dispatch(s()),n.preventDefault()}};function Xc(e){return{left:e.clientX,top:e.clientY}}function XE(e,t){let n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}function ap(e,t,n,o,r){if(o==-1)return!1;let s=e.state.doc.resolve(o);for(let i=s.depth+1;i>0;i--)if(e.someProp(t,a=>i>s.depth?a(e,n,s.nodeAfter,s.before(i),r,!0):a(e,n,s.node(i),s.before(i),r,!1)))return!0;return!1}function Ls(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let o=e.state.tr.setSelection(t);o.setMeta("pointer",!0),e.dispatch(o)}function QE(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),o=n.nodeAfter;return o&&o.isAtom&&He.isSelectable(o)?(Ls(e,new He(n)),!0):!1}function e$(e,t){if(t==-1)return!1;let n=e.state.selection,o,r;n instanceof He&&(o=n.node);let s=e.state.doc.resolve(t);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i);if(He.isSelectable(a)){o&&n.$from.depth>0&&i>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?r=s.before(n.$from.depth):r=s.before(i);break}}return r!=null?(Ls(e,He.create(e.state.doc,r)),!0):!1}function t$(e,t,n,o,r){return ap(e,"handleClickOn",t,n,o)||e.someProp("handleClick",s=>s(e,t,o))||(r?e$(e,n):QE(e,n))}function n$(e,t,n,o){return ap(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",r=>r(e,t,o))}function o$(e,t,n,o){return ap(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",r=>r(e,t,o))||r$(e,n,o)}function r$(e,t,n){if(n.button!=0)return!1;let o=e.state.doc;if(t==-1)return o.inlineContent?(Ls(e,je.create(o,0,o.content.size)),!0):!1;let r=o.resolve(t);for(let s=r.depth+1;s>0;s--){let i=s>r.depth?r.nodeAfter:r.node(s),a=r.before(s);if(i.inlineContent)Ls(e,je.create(o,a+1,a+1+i.content.size));else if(He.isSelectable(i))Ls(e,He.create(o,a));else continue;return!0}}function lp(e){return Bl(e)}const R0=zn?"metaKey":"ctrlKey";Mn.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let o=lp(e),r=Date.now(),s="singleClick";r-e.input.lastClick.time<500&&XE(n,e.input.lastClick)&&!n[R0]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:s,button:n.button};let i=e.posAtCoords(Xc(n));i&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new s$(e,i,n,!!o)):(s=="doubleClick"?n$:o$)(e,i.pos,i.inside,n)?n.preventDefault():kr(e,"pointer"))};class s${constructor(t,n,o,r){this.view=t,this.pos=n,this.event=o,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!o[R0],this.allowDefault=o.shiftKey;let s,i;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),i=n.inside;else{let u=t.state.doc.resolve(n.pos);s=u.parent,i=u.depth?u.before():0}const a=r?null:o.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(o.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof He&&c.from<=i&&c.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Kn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),kr(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>jo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Xc(t))),this.updateAllowDefault(t),this.allowDefault||!n?kr(this.view,"pointer"):t$(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||vn&&this.mightDrag&&!this.mightDrag.node.isAtom||Jt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ls(this.view,We.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):kr(this.view,"pointer")}move(t){this.updateAllowDefault(t),kr(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Mn.touchstart=e=>{e.input.lastTouch=Date.now(),lp(e),kr(e,"pointer")};Mn.touchmove=e=>{e.input.lastTouch=Date.now(),kr(e,"pointer")};Mn.contextmenu=e=>lp(e);function N0(e,t){return e.composing?!0:vn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const i$=Bo?5e3:-1;Tn.compositionstart=Tn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof je&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)||Jt&&u0&&a$(e)))e.markCursor=e.state.storedMarks||n.marks(),Bl(e,!0),e.markCursor=null;else if(Bl(e,!t.selection.empty),Kn&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let o=e.domSelectionRange();for(let r=o.focusNode,s=o.focusOffset;r&&r.nodeType==1&&s!=0;){let i=s<0?r.lastChild:r.childNodes[s-1];if(!i)break;if(i.nodeType==3){let a=e.domSelection();a&&a.collapse(i,i.nodeValue.length);break}else r=i,s=-1}}e.input.composing=!0}I0(e,i$)};function a$(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let o=t.childNodes[n];return o.nodeType==1&&o.contentEditable=="false"}Tn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,I0(e,20))};function I0(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Bl(e),t))}function L0(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=c$());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function l$(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=eE(t.focusNode,t.focusOffset),o=tE(t.focusNode,t.focusOffset);if(n&&o&&n!=o){let r=o.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||o==s)return s;if(!r||!r.isText(o.nodeValue))return o;if(e.input.compositionNode==o){let i=n.pmViewDesc;if(!(!i||!i.isText(n.nodeValue)))return o}}return n||o}function c$(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Bl(e,t=!1){if(!(Bo&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),L0(e),t||e.docView&&e.docView.dirty){let n=op(e),o=e.state.selection;return n&&!n.eq(o)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!o.$from.node(o.$from.sharedDepth(o.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function u$(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const sa=Rn&&Ar<15||Ks&&sE<604;Mn.copy=Tn.cut=(e,t)=>{let n=t,o=e.state.selection,r=n.type=="cut";if(o.empty)return;let s=sa?null:n.clipboardData,i=o.content(),{dom:a,text:l}=sp(e,i);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):u$(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function d$(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function f$(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus();let r=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?ia(e,o.value,null,r,t):ia(e,o.textContent,o.innerHTML,r,t)},50)}function ia(e,t,n,o,r){let s=M0(e,t,n,o,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,r,s||xe.empty)))return!0;if(!s)return!1;let i=d$(s),a=i?e.state.tr.replaceSelectionWith(i,o):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function P0(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Tn.paste=(e,t)=>{let n=t;if(e.composing&&!Bo)return;let o=sa?null:n.clipboardData,r=e.input.shiftKey&&e.input.lastKeyCode!=45;o&&ia(e,P0(o),o.getData("text/html"),r,n)?n.preventDefault():f$(e,n)};class V0{constructor(t,n,o){this.slice=t,this.move=n,this.node=o}}const p$=zn?"altKey":"ctrlKey";function _0(e,t){return e.someProp("dragCopies",o=>!o(t))??!t[p$]}Mn.dragstart=(e,t)=>{let n=t,o=e.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=e.state.selection,s=r.empty?null:e.posAtCoords(Xc(n)),i;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof He?r.to-1:r.to))){if(o&&o.mightDrag)i=He.create(e.state.doc,o.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(i=He.create(e.state.doc,d.posBefore))}}let a=(i||e.state.selection).content(),{dom:l,text:c,slice:u}=sp(e,a);(!n.dataTransfer.files.length||!Jt||c0>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(sa?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",sa||n.dataTransfer.setData("text/plain",c),e.dragging=new V0(u,_0(e,n),i)};Mn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Tn.dragover=Tn.dragenter=(e,t)=>t.preventDefault();Tn.drop=(e,t)=>{try{h$(e,t,e.dragging)}finally{e.dragging=null}};function h$(e,t,n){if(!t.dataTransfer)return;let o=e.posAtCoords(Xc(t));if(!o)return;let r=e.state.doc.resolve(o.pos),s=n&&n.slice;s?e.someProp("transformPasted",p=>{s=p(s,e,!1)}):s=M0(e,P0(t.dataTransfer),sa?null:t.dataTransfer.getData("text/html"),!1,r);let i=!!(n&&_0(e,t));if(e.someProp("handleDrop",p=>p(e,t,s||xe.empty,i))){t.preventDefault();return}if(!s)return;t.preventDefault();let a=s?Fy(e.state.doc,r.pos,s):r.pos;a==null&&(a=r.pos);let l=e.state.tr;if(i){let{node:p}=n;p?p.replace(l):l.deleteSelection()}let c=l.mapping.map(a),u=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=l.doc;if(u?l.replaceRangeWith(c,c,s.content.firstChild):l.replaceRange(c,c,s),l.doc.eq(d))return;let f=l.doc.resolve(c);if(u&&He.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new He(f));else{let p=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((h,m,v,y)=>p=y),l.setSelection(rp(e,f,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}Mn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&jo(e)},20))};Mn.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Mn.beforeinput=(e,t)=>{if(Jt&&Bo&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",r=>r(e,Ur(8,"Backspace")))))return;let{$cursor:o}=e.state.selection;o&&o.pos>0&&e.dispatch(e.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let e in Tn)Mn[e]=Tn[e];function aa(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Hl{constructor(t,n){this.toDOM=t,this.spec=n||Qr,this.side=this.spec.side||0}map(t,n,o,r){let{pos:s,deleted:i}=t.mapResult(n.from+r,this.side<0?-1:1);return i?null:new Yt(s-o,s-o,this)}valid(){return!0}eq(t){return this==t||t instanceof Hl&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&aa(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Tr{constructor(t,n){this.attrs=t,this.spec=n||Qr}map(t,n,o,r){let s=t.map(n.from+r,this.spec.inclusiveStart?-1:1)-o,i=t.map(n.to+r,this.spec.inclusiveEnd?1:-1)-o;return s>=i?null:new Yt(s,i,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Tr&&aa(this.attrs,t.attrs)&&aa(this.spec,t.spec)}static is(t){return t.type instanceof Tr}destroy(){}}class cp{constructor(t,n){this.attrs=t,this.spec=n||Qr}map(t,n,o,r){let s=t.mapResult(n.from+r,1);if(s.deleted)return null;let i=t.mapResult(n.to+r,-1);return i.deleted||i.pos<=s.pos?null:new Yt(s.pos-o,i.pos-o,this)}valid(t,n){let{index:o,offset:r}=t.content.findIndex(n.from),s;return r==n.from&&!(s=t.child(o)).isText&&r+s.nodeSize==n.to}eq(t){return this==t||t instanceof cp&&aa(this.attrs,t.attrs)&&aa(this.spec,t.spec)}destroy(){}}class Yt{constructor(t,n,o){this.from=t,this.to=n,this.type=o}copy(t,n){return new Yt(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,o){return this.type.map(t,this,n,o)}static widget(t,n,o){return new Yt(t,t,new Hl(n,o))}static inline(t,n,o,r){return new Yt(t,n,new Tr(o,r))}static node(t,n,o,r){return new Yt(t,n,new cp(o,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Tr}get widget(){return this.type instanceof Hl}}const Cs=[],Qr={};class Tt{constructor(t,n){this.local=t.length?t:Cs,this.children=n.length?n:Cs}static create(t,n){return n.length?zl(n,t,0,Qr):hn}find(t,n,o){let r=[];return this.findInner(t??0,n??1e9,r,0,o),r}findInner(t,n,o,r,s){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&o.push(a.copy(a.from+r,a.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<n&&this.children[i+1]>t){let a=this.children[i]+1;this.children[i+2].findInner(t-a,n-a,o,r+a,s)}}map(t,n,o){return this==hn||t.maps.length==0?this:this.mapInner(t,n,0,0,o||Qr)}mapInner(t,n,o,r,s){let i;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,o,r);l&&l.type.valid(n,l)?(i||(i=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?m$(this.children,i||[],t,n,o,r,s):i?new Tt(i.sort(es),Cs):hn}add(t,n){return n.length?this==hn?Tt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,o){let r,s=0;t.forEach((a,l)=>{let c=l+o,u;if(u=H0(n,a,c)){for(r||(r=this.children.slice());s<r.length&&r[s]<l;)s+=3;r[s]==l?r[s+2]=r[s+2].addInner(a,u,c+1):r.splice(s,0,l,l+a.nodeSize,zl(u,a,c+1,Qr)),s+=3}});let i=B0(s?z0(n):n,-o);for(let a=0;a<i.length;a++)i[a].type.valid(t,i[a])||i.splice(a--,1);return new Tt(i.length?this.local.concat(i).sort(es):this.local,r||this.children)}remove(t){return t.length==0||this==hn?this:this.removeInner(t,0)}removeInner(t,n){let o=this.children,r=this.local;for(let s=0;s<o.length;s+=3){let i,a=o[s]+n,l=o[s+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<l&&(t[u]=null,(i||(i=[])).push(d));if(!i)continue;o==this.children&&(o=this.children.slice());let c=o[s+2].removeInner(i,a+1);c!=hn?o[s+2]=c:(o.splice(s,3),s-=3)}if(r.length){for(let s=0,i;s<t.length;s++)if(i=t[s])for(let a=0;a<r.length;a++)r[a].eq(i,n)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return o==this.children&&r==this.local?this:r.length||o.length?new Tt(r,o):hn}forChild(t,n){if(this==hn)return this;if(n.isLeaf)return Tt.empty;let o,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(o=this.children[a+2]);break}let s=t+1,i=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<i&&l.to>s&&l.type instanceof Tr){let c=Math.max(s,l.from)-s,u=Math.min(i,l.to)-s;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){let a=new Tt(r.sort(es),Cs);return o?new mr([a,o]):a}return o||hn}eq(t){if(this==t)return!0;if(!(t instanceof Tt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return up(this.localsInner(t))}localsInner(t){if(this==hn)return Cs;if(t.inlineContent||!this.local.some(Tr.is))return this.local;let n=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof Tr||n.push(this.local[o]);return n}forEachSet(t){t(this)}}Tt.empty=new Tt([],[]);Tt.removeOverlap=up;const hn=Tt.empty;class mr{constructor(t){this.members=t}map(t,n){const o=this.members.map(r=>r.map(t,n,Qr));return mr.from(o)}forChild(t,n){if(n.isLeaf)return Tt.empty;let o=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(t,n);s!=hn&&(s instanceof mr?o=o.concat(s.members):o.push(s))}return mr.from(o)}eq(t){if(!(t instanceof mr)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,o=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(t);if(s.length)if(!n)n=s;else{o&&(n=n.slice(),o=!1);for(let i=0;i<s.length;i++)n.push(s[i])}}return n?up(o?n:n.sort(es)):Cs}static from(t){switch(t.length){case 0:return hn;case 1:return t[0];default:return new mr(t.every(n=>n instanceof Tt)?t:t.reduce((n,o)=>n.concat(o instanceof Tt?o:o.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function m$(e,t,n,o,r,s,i){let a=e.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,h,m)=>{let v=m-h-(p-f);for(let y=0;y<a.length;y+=3){let w=a[y+1];if(w<0||f>w+u-d)continue;let k=a[y]+u-d;p>=k?a[y+1]=f<=k?-2:-1:f>=u&&v&&(a[y]+=v,a[y+1]+=v)}d+=v}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(e[c]+s),d=u-r;if(d<0||d>=o.content.size){l=!0;continue}let f=n.map(e[c+1]+s,-1),p=f-r,{index:h,offset:m}=o.content.findIndex(d),v=o.maybeChild(h);if(v&&m==d&&m+v.nodeSize==p){let y=a[c+2].mapInner(n,v,u+1,e[c]+s+1,i);y!=hn?(a[c]=d,a[c+1]=p,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=g$(a,e,t,n,r,s,i),u=zl(c,o,0,i);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Tt(t.sort(es),a)}function B0(e,t){if(!t||!e.length)return e;let n=[];for(let o=0;o<e.length;o++){let r=e[o];n.push(new Yt(r.from+t,r.to+t,r.type))}return n}function g$(e,t,n,o,r,s,i){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(o,r,c);d?n.push(d):i.onRemove&&i.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+s+1);return n}function H0(e,t,n){if(t.isLeaf)return null;let o=n+t.nodeSize,r=null;for(let s=0,i;s<e.length;s++)(i=e[s])&&i.from>n&&i.to<o&&((r||(r=[])).push(i),e[s]=null);return r}function z0(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function zl(e,t,n,o){let r=[],s=!1;t.forEach((a,l)=>{let c=H0(e,a,l+n);if(c){s=!0;let u=zl(c,a,n+l+1,o);u!=hn&&r.push(l,l+a.nodeSize,u)}});let i=B0(s?z0(e):e,-n).sort(es);for(let a=0;a<i.length;a++)i[a].type.valid(t,i[a])||(o.onRemove&&o.onRemove(i[a].spec),i.splice(a--,1));return i.length||r.length?new Tt(i,r):hn}function es(e,t){return e.from-t.from||e.to-t.to}function up(e){let t=e;for(let n=0;n<t.length-1;n++){let o=t[n];if(o.from!=o.to)for(let r=n+1;r<t.length;r++){let s=t[r];if(s.from==o.from){s.to!=o.to&&(t==e&&(t=e.slice()),t[r]=s.copy(s.from,o.to),rg(t,r+1,s.copy(o.to,s.to)));continue}else{s.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,s.from),rg(t,r,o.copy(s.from,o.to)));break}}}return t}function rg(e,t,n){for(;t<e.length&&es(n,e[t])>0;)t++;e.splice(t,0,n)}function Wu(e){let t=[];return e.someProp("decorations",n=>{let o=n(e.state);o&&o!=hn&&t.push(o)}),e.cursorWrapper&&t.push(Tt.create(e.state.doc,[e.cursorWrapper.deco])),mr.from(t)}const v$={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},y$=Rn&&Ar<=11;class b${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class w${constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new b$,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(o=>{for(let r=0;r<o.length;r++)this.queue.push(o[r]);Rn&&Ar<=11&&o.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),y$&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,v$)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ym(this.view)){if(this.suppressingSelectionUpdates)return jo(this.view);if(Rn&&Ar<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ss(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,o;for(let s=t.focusNode;s;s=Us(s))n.add(s);for(let s=t.anchorNode;s;s=Us(s))if(n.has(s)){o=s;break}let r=o&&this.view.docView.nearestDesc(o);if(r&&r.ignoreMutation({type:"selection",target:o.nodeType==3?o.parentNode:o}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let o=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(o)&&Ym(t)&&!this.ignoreSelectionChange(o),s=-1,i=-1,a=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),i=i<0?d.to:Math.max(d.to,i),d.typeOver&&(a=!0))}if(Kn&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||S$(t,d)!=p)&&f.remove()}}}else if((Jt||vn)&&l.some(u=>u.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let u of l)if(u.nodeName=="BR"&&u.parentNode){let d=u.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&u.parentNode.removeChild(u)}}let c=null;s<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Yc(o)&&(c=op(t))&&c.eq(We.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,jo(t),this.currentSelection.set(o),t.scrollToSelection()):(s>-1||r)&&(s>-1&&(t.docView.markDirty(s,i),k$(t)),this.handleDOMChange(s,i,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(o)||jo(t),this.currentSelection.set(o))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let o=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(o==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!o||o.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(o.contentDOM&&o.contentDOM!=o.dom&&!o.contentDOM.contains(t.target))return{from:o.posBefore,to:o.posAfter};let r=t.previousSibling,s=t.nextSibling;if(Rn&&Ar<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(r=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let i=r&&r.parentNode==t.target?rn(r)+1:0,a=o.localPosFromDOM(t.target,i,-1),l=s&&s.parentNode==t.target?rn(s):t.target.childNodes.length,c=o.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:(this.lastChangedTextNode=t.target,{from:o.posAtStart,to:o.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let sg=new WeakMap,ig=!1;function k$(e){if(!sg.has(e)&&(sg.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Kn,ig)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ig=!0}}function ag(e,t){let n=t.startContainer,o=t.startOffset,r=t.endContainer,s=t.endOffset,i=e.domAtPos(e.state.selection.anchor);return ss(i.node,i.offset,r,s)&&([n,o,r,s]=[r,s,n,o]),{anchorNode:n,anchorOffset:o,focusNode:r,focusOffset:s}}function C$(e,t){if(t.getComposedRanges){let r=t.getComposedRanges(e.root)[0];if(r)return ag(e,r)}let n;function o(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",o,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",o,!0),n?ag(e,n):null}function S$(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let o=e.docView.nearestDesc(n,!0);if(o&&o.node.isBlock)return n}return null}function x$(e,t,n){let{node:o,fromOffset:r,toOffset:s,from:i,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Yc(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Jt&&e.input.lastKeyCode===8)for(let v=s;v>r;v--){let y=o.childNodes[v-1],w=y.pmViewDesc;if(y.nodeName=="BR"&&!w){s=v;break}if(!w||w.size)break}let d=e.state.doc,f=e.someProp("domParser")||xr.fromSchema(e.state.schema),p=d.resolve(i),h=null,m=f.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:r,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:A$,context:p});if(c&&c[0].pos!=null){let v=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=v),h={anchor:v+i,head:y+i}}return{doc:m,sel:h,from:i,to:a}}function A$(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(vn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||vn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const M$=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function T$(e,t,n,o,r){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let N=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,V=op(e,N);if(V&&!e.state.selection.eq(V)){if(Jt&&Bo&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",G=>G(e,Ur(13,"Enter"))))return;let _=e.state.tr.setSelection(V);N=="pointer"?_.setMeta("pointer",!0):N=="key"&&_.scrollIntoView(),s&&_.setMeta("composition",s),e.dispatch(_)}return}let i=e.state.doc.resolve(t),a=i.sharedDepth(n);t=i.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=x$(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),f,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,p="end"):(f=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let h=O$(d.content,c.doc.content,c.from,f,p);if(h&&e.input.domChangeCount++,(Ks&&e.input.lastIOSEnter>Date.now()-225||Bo)&&r.some(N=>N.nodeType==1&&!M$.test(N.nodeName))&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",N=>N(e,Ur(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!h)if(o&&l instanceof je&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let N=lg(e,e.state.doc,c.sel);if(N&&!N.eq(e.state.selection)){let V=e.state.tr.setSelection(N);s&&V.setMeta("composition",s),e.dispatch(V)}}return}e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof je&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),Rn&&Ar<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>c.from&&c.doc.textBetween(h.start-c.from-1,h.start-c.from+1)==" "&&(h.start--,h.endA--,h.endB--);let m=c.doc.resolveNoCache(h.start-c.from),v=c.doc.resolveNoCache(h.endB-c.from),y=u.resolve(h.start),w=m.sameParent(v)&&m.parent.inlineContent&&y.end()>=h.endA;if((Ks&&e.input.lastIOSEnter>Date.now()-225&&(!w||r.some(N=>N.nodeName=="DIV"||N.nodeName=="P"))||!w&&m.pos<c.doc.content.size&&(!m.sameParent(v)||!m.parent.inlineContent)&&m.pos<v.pos&&!/\S/.test(c.doc.textBetween(m.pos,v.pos,"","")))&&e.someProp("handleKeyDown",N=>N(e,Ur(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>h.start&&$$(u,h.start,h.endA,m,v)&&e.someProp("handleKeyDown",N=>N(e,Ur(8,"Backspace")))){Bo&&Jt&&e.domObserver.suppressSelectionUpdates();return}Jt&&h.endB==h.start&&(e.input.lastChromeDelete=Date.now()),Bo&&!w&&m.start()!=v.start()&&v.parentOffset==0&&m.depth==v.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==h.endA&&(h.endB-=2,v=c.doc.resolveNoCache(h.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(N){return N(e,Ur(13,"Enter"))})},20));let k=h.start,S=h.endA,M=N=>{let V=N||e.state.tr.replace(k,S,c.doc.slice(h.start-c.from,h.endB-c.from));if(c.sel){let _=lg(e,V.doc,c.sel);_&&!(Jt&&e.composing&&_.empty&&(h.start!=h.endB||e.input.lastChromeDelete<Date.now()-100)&&(_.head==k||_.head==V.mapping.map(S)-1)||Rn&&_.empty&&_.head==k)&&V.setSelection(_)}return s&&V.setMeta("composition",s),V.scrollIntoView()},L;if(w)if(m.pos==v.pos){Rn&&Ar<=11&&m.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>jo(e),20));let N=M(e.state.tr.delete(k,S)),V=u.resolve(h.start).marksAcross(u.resolve(h.endA));V&&N.ensureMarks(V),e.dispatch(N)}else if(h.endA==h.endB&&(L=E$(m.parent.content.cut(m.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start())))){let N=M(e.state.tr);L.type=="add"?N.addMark(k,S,L.mark):N.removeMark(k,S,L.mark),e.dispatch(N)}else if(m.parent.child(m.index()).isText&&m.index()==v.index()-(v.textOffset?0:1)){let N=m.parent.textBetween(m.parentOffset,v.parentOffset),V=()=>M(e.state.tr.insertText(N,k,S));e.someProp("handleTextInput",_=>_(e,k,S,N,V))||e.dispatch(V())}else e.dispatch(M());else e.dispatch(M())}function lg(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:rp(e,t.resolve(n.anchor),t.resolve(n.head))}function E$(e,t){let n=e.firstChild.marks,o=t.firstChild.marks,r=n,s=o,i,a,l;for(let u=0;u<o.length;u++)r=o[u].removeFromSet(r);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(r.length==1&&s.length==0)a=r[0],i="add",l=u=>u.mark(a.addToSet(u.marks));else if(r.length==0&&s.length==1)a=s[0],i="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(he.from(c).eq(e))return{mark:a,type:i}}function $$(e,t,n,o,r){if(n-t<=r.pos-o.pos||qu(o,!0,!1)<r.pos)return!1;let s=e.resolve(t);if(!o.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=e.resolve(qu(s,!0,!0));return!i.parent.isTextblock||i.pos>n||qu(i,!0,!1)<n?!1:o.parent.content.cut(o.parentOffset).eq(i.parent.content)}function qu(e,t,n){let o=e.depth,r=t?e.end():e.pos;for(;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,r++,t=!1;if(n){let s=e.node(o).maybeChild(e.indexAfter(o));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function O$(e,t,n,o,r){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:i,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(r=="end"){let l=Math.max(0,s-Math.min(i,a));o-=i+l-s}if(i<s&&e.size<t.size){let l=o<=s&&o>=i?s-o:0;s-=l,s&&s<t.size&&cg(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-i),i=s}else if(a<s){let l=o<=s&&o>=a?s-o:0;s-=l,s&&s<e.size&&cg(e.textBetween(s-1,s+1))&&(s+=l?1:-1),i=s+(i-a),a=s}return{start:s,endA:i,endB:a}}function cg(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class F0{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new qE,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(hg),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=fg(this),dg(this),this.nodeViews=pg(this),this.docView=Um(this.state.doc,ug(this),Wu(this),this.dom,this),this.domObserver=new w$(this,(o,r,s,i)=>T$(this,o,r,s,i)),this.domObserver.start(),GE(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Zd(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(hg),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let o in this._props)n[o]=this._props[o];n.state=this.state;for(let o in t)n[o]=t[o];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var o;let r=this.state,s=!1,i=!1;t.storedMarks&&this.composing&&(L0(this),i=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=pg(this);R$(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Zd(this),this.editable=fg(this),dg(this);let l=Wu(this),c=ug(this),u=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(r.selection))&&(i=!0);let f=u=="preserve"&&i&&this.dom.style.overflowAnchor==null&&lE(this);if(i){this.domObserver.stop();let p=d&&(Rn||Jt)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&D$(r.selection,t.selection);if(d){let h=Jt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=l$(this)),(s||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Um(t.doc,c,l,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&RE(this))?jo(this,p):(S0(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((o=this.dragging)===null||o===void 0)&&o.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&cE(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))&&!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof He){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_m(this,n.getBoundingClientRect(),t)}else _m(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let o=this.directPlugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let o=this.state.plugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let o=this.pluginViews[n];o.update&&o.update(this,t)}}updateDraggedNode(t,n){let o=t.node,r=-1;if(this.state.doc.nodeAt(o.from)==o.node)r=o.from;else{let s=o.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==o.node&&(r=s)}this.dragging=new V0(t.slice,t.move,r<0?void 0:He.create(this.state.doc,r))}someProp(t,n){let o=this._props&&this._props[t],r;if(o!=null&&(r=n?n(o):o))return r;for(let i=0;i<this.directPlugins.length;i++){let a=this.directPlugins[i].props[t];if(a!=null&&(r=n?n(a):a))return r}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let a=s[i].props[t];if(a!=null&&(r=n?n(a):a))return r}}hasFocus(){if(Rn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&uE(this.dom),jo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return mE(this,t)}coordsAtPos(t,n=1){return m0(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,o=-1){let r=this.docView.posFromDOM(t,n,o);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,n){return wE(this,n||this.state,t)}pasteHTML(t,n){return ia(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return ia(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return sp(this,t)}destroy(){this.docView&&(JE(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Wu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,X5())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return ZE(this,t)}domSelectionRange(){let t=this.domSelection();return t?vn&&this.root.nodeType===11&&oE(this.dom.ownerDocument)==this.dom&&C$(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}F0.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function ug(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let o in n)o=="class"?t.class+=" "+n[o]:o=="style"?t.style=(t.style?t.style+";":"")+n[o]:!t[o]&&o!="contenteditable"&&o!="nodeName"&&(t[o]=String(n[o]))}),t.translate||(t.translate="no"),[Yt.node(0,e.state.doc.content.size,t)]}function dg(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Yt.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function fg(e){return!e.someProp("editable",t=>t(e.state)===!1)}function D$(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function pg(e){let t=Object.create(null);function n(o){for(let r in o)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=o[r])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function R$(e,t){let n=0,o=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let r in t)o++;return n!=o}function hg(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Or={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Fl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},N$=typeof navigator<"u"&&/Mac/.test(navigator.platform),I$=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var sn=0;sn<10;sn++)Or[48+sn]=Or[96+sn]=String(sn);for(var sn=1;sn<=24;sn++)Or[sn+111]="F"+sn;for(var sn=65;sn<=90;sn++)Or[sn]=String.fromCharCode(sn+32),Fl[sn]=String.fromCharCode(sn);for(var Gu in Or)Fl.hasOwnProperty(Gu)||(Fl[Gu]=Or[Gu]);function L$(e){var t=N$&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||I$&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Fl:Or)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const P$=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),V$=typeof navigator<"u"&&/Win/.test(navigator.platform);function _$(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let o,r,s,i;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))o=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))P$?i=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return o&&(n="Alt-"+n),r&&(n="Ctrl-"+n),i&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function B$(e){let t=Object.create(null);for(let n in e)t[_$(n)]=e[n];return t}function Ju(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function H$(e){return new Ot({props:{handleKeyDown:dp(e)}})}function dp(e){let t=B$(e);return function(n,o){let r=L$(o),s,i=t[Ju(r,o)];if(i&&i(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(o.shiftKey){let a=t[Ju(r,o,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((o.altKey||o.metaKey||o.ctrlKey)&&!(V$&&o.ctrlKey&&o.altKey)&&(s=Or[o.keyCode])&&s!=r){let a=t[Ju(s,o)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var z$=Object.defineProperty,fp=(e,t)=>{for(var n in t)z$(e,n,{get:t[n],enumerable:!0})};function Qc(e){const{state:t,transaction:n}=e;let{selection:o}=n,{doc:r}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,s=n.storedMarks,n}}}var eu=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:o}=t,{tr:r}=n,s=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([i,a])=>[i,(...l)=>{const c=a(...l)(s);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(r),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:o,state:r}=this,{view:s}=o,i=[],a=!!e,l=e||r.tr,c=()=>(!a&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),i.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>{const h=this.buildProps(l,t),m=f(...p)(h);return i.push(m),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:n}=this,o=!1,r=e||n.tr,s=this.buildProps(r,o);return{...Object.fromEntries(Object.entries(t).map(([i,a])=>[i,(...l)=>a(...l)({...s,dispatch:void 0})])),chain:()=>this.createChain(r,o)}}buildProps(e,t=!0){const{rawCommands:n,editor:o,state:r}=this,{view:s}=o,i={tr:e,editor:o,view:s,state:Qc({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(i)]))}};return i}},j0={};fp(j0,{blur:()=>F$,clearContent:()=>j$,clearNodes:()=>U$,command:()=>K$,createParagraphNear:()=>W$,cut:()=>q$,deleteCurrentNode:()=>G$,deleteNode:()=>J$,deleteRange:()=>Y$,deleteSelection:()=>Z$,enter:()=>X$,exitCode:()=>Q$,extendMarkRange:()=>e4,first:()=>t4,focus:()=>o4,forEach:()=>r4,insertContent:()=>s4,insertContentAt:()=>l4,joinBackward:()=>d4,joinDown:()=>u4,joinForward:()=>f4,joinItemBackward:()=>p4,joinItemForward:()=>h4,joinTextblockBackward:()=>m4,joinTextblockForward:()=>g4,joinUp:()=>c4,keyboardShortcut:()=>y4,lift:()=>b4,liftEmptyBlock:()=>w4,liftListItem:()=>k4,newlineInCode:()=>C4,resetAttributes:()=>S4,scrollIntoView:()=>x4,selectAll:()=>A4,selectNodeBackward:()=>M4,selectNodeForward:()=>T4,selectParentNode:()=>E4,selectTextblockEnd:()=>$4,selectTextblockStart:()=>O4,setContent:()=>D4,setMark:()=>Y4,setMeta:()=>Z4,setNode:()=>X4,setNodeSelection:()=>Q4,setTextDirection:()=>eO,setTextSelection:()=>tO,sinkListItem:()=>nO,splitBlock:()=>oO,splitListItem:()=>rO,toggleList:()=>sO,toggleMark:()=>iO,toggleNode:()=>aO,toggleWrap:()=>lO,undoInputRule:()=>cO,unsetAllMarks:()=>uO,unsetMark:()=>dO,unsetTextDirection:()=>fO,updateAttributes:()=>pO,wrapIn:()=>hO,wrapInList:()=>mO});var F$=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),j$=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),U$=()=>({state:e,tr:t,dispatch:n})=>{const{selection:o}=t,{ranges:r}=o;return n&&r.forEach(({$from:s,$to:i})=>{e.doc.nodesBetween(s.pos,i.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(f);if(!p)return;const h=ti(p);if(a.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,m)}(h||h===0)&&t.lift(p,h)})}),!0},K$=e=>t=>e(t),W$=()=>({state:e,dispatch:t})=>r0(e,t),q$=(e,t)=>({editor:n,tr:o})=>{const{state:r}=n,s=r.doc.slice(e.from,e.to);o.deleteRange(e.from,e.to);const i=o.mapping.map(t);return o.insert(i,s.content),o.setSelection(new je(o.doc.resolve(Math.max(i-1,0)))),!0},G$=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,o=n.$anchor.node();if(o.content.size>0)return!1;const r=e.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===o.type){if(t){const i=r.before(s),a=r.after(s);e.delete(i,a).scrollIntoView()}return!0}return!1};function zt(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var J$=e=>({tr:t,state:n,dispatch:o})=>{const r=zt(e,n.schema),s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r){if(o){const a=s.before(i),l=s.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},Y$=e=>({tr:t,dispatch:n})=>{const{from:o,to:r}=e;return n&&t.delete(o,r),!0},Z$=()=>({state:e,dispatch:t})=>Zf(e,t),X$=()=>({commands:e})=>e.keyboardShortcut("Enter"),Q$=()=>({state:e,dispatch:t})=>V5(e,t);function pp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function jl(e,t,n={strict:!0}){const o=Object.keys(t);return o.length?o.every(r=>n.strict?t[r]===e[r]:pp(t[r])?t[r].test(e[r]):t[r]===e[r]):!0}function U0(e,t,n={}){return e.find(o=>o.type===t&&jl(Object.fromEntries(Object.keys(n).map(r=>[r,o.attrs[r]])),n))}function mg(e,t,n={}){return!!U0(e,t,n)}function hp(e,t,n){var o;if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if((!r.node||!r.node.marks.some(c=>c.type===t))&&(r=e.parent.childBefore(e.parentOffset)),!r.node||!r.node.marks.some(c=>c.type===t)||(n=n||((o=r.node.marks[0])==null?void 0:o.attrs),!U0([...r.node.marks],t,n)))return;let s=r.index,i=e.start()+r.offset,a=s+1,l=i+r.node.nodeSize;for(;s>0&&mg([...e.parent.child(s-1).marks],t,n);)s-=1,i-=e.parent.child(s).nodeSize;for(;a<e.parent.childCount&&mg([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:i,to:l}}function Qo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var e4=(e,t={})=>({tr:n,state:o,dispatch:r})=>{const s=Qo(e,o.schema),{doc:i,selection:a}=n,{$from:l,from:c,to:u}=a;if(r){const d=hp(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=je.create(i,d.from,d.to);n.setSelection(f)}}return!0},t4=e=>t=>{const n=typeof e=="function"?e(t):e;for(let o=0;o<n.length;o+=1)if(n[o](t))return!0;return!1};function K0(e){return e instanceof je}function qr(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function W0(e,t=null){if(!t)return null;const n=We.atStart(e),o=We.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return o;const r=n.from,s=o.to;return t==="all"?je.create(e,qr(0,r,s),qr(e.content.size,r,s)):je.create(e,qr(t,r,s),qr(t,r,s))}function n4(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function mp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var o4=(e=null,t={})=>({editor:n,view:o,tr:r,dispatch:s})=>{t={scrollIntoView:!0,...t};const i=()=>{(mp()||n4())&&o.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(o.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(o.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!K0(n.state.selection))return i(),!0;const a=W0(r.doc,e)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),i()),!0},r4=(e,t)=>n=>e.every((o,r)=>t(o,{...n,index:r})),s4=(e,t)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),q0=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const o=t[n];o.nodeType===3&&o.nodeValue&&/^(\n\s\s|\n)$/.test(o.nodeValue)?e.removeChild(o):o.nodeType===1&&q0(o)}return e};function Ua(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return q0(n)}function la(e,t,n){if(e instanceof to||e instanceof he)return e;n={slice:!0,parseOptions:{},...n};const o=typeof e=="object"&&e!==null,r=typeof e=="string";if(o)try{if(Array.isArray(e)&&e.length>0)return he.fromArray(e.map(i=>t.nodeFromJSON(i)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),la("",t,n)}if(r){if(n.errorOnInvalidContent){let i=!1,a="";const l=new Dy({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(i=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?xr.fromSchema(l).parseSlice(Ua(e),n.parseOptions):xr.fromSchema(l).parse(Ua(e),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=xr.fromSchema(t);return n.slice?s.parseSlice(Ua(e),n.parseOptions).content:s.parse(Ua(e),n.parseOptions)}return la("",t,n)}function i4(e,t,n){const o=e.steps.length-1;if(o<t)return;const r=e.steps[o];if(!(r instanceof qt||r instanceof Qt))return;const s=e.mapping.maps[o];let i=0;s.forEach((a,l,c,u)=>{i===0&&(i=u)}),e.setSelection(We.near(e.doc.resolve(i),n))}var a4=e=>!("type"in e),l4=(e,t,n)=>({tr:o,dispatch:r,editor:s})=>{var i;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=m=>{s.emit("contentError",{editor:s,error:m,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{la(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(m){l(m)}try{a=la(t,s.schema,{parseOptions:c,errorOnInvalidContent:(i=n.errorOnInvalidContent)!=null?i:s.options.enableContentCheck})}catch(m){return l(m),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((a4(a)?a:[a]).forEach(m=>{m.check(),f=f?m.isText&&m.marks.length===0:!1,p=p?m.isBlock:!1}),u===d&&p){const{parent:m}=o.doc.resolve(u);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(m=>m.text||"").join("");else if(t instanceof he){let m="";t.forEach(v=>{v.text&&(m+=v.text)}),h=m}else typeof t=="object"&&t&&t.text?h=t.text:h=t;o.insertText(h,u,d)}else{h=a;const m=o.doc.resolve(u),v=m.node(),y=m.parentOffset===0,w=v.isText||v.isTextblock,k=v.content.size>0;y&&w&&k&&(u=Math.max(0,u-1)),o.replaceWith(u,d,h)}n.updateSelection&&i4(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:u,text:h})}return!0},c4=()=>({state:e,dispatch:t})=>I5(e,t),u4=()=>({state:e,dispatch:t})=>L5(e,t),d4=()=>({state:e,dispatch:t})=>Zy(e,t),f4=()=>({state:e,dispatch:t})=>t0(e,t),p4=()=>({state:e,dispatch:t,tr:n})=>{try{const o=qc(e.doc,e.selection.$from.pos,-1);return o==null?!1:(n.join(o,2),t&&t(n),!0)}catch{return!1}},h4=()=>({state:e,dispatch:t,tr:n})=>{try{const o=qc(e.doc,e.selection.$from.pos,1);return o==null?!1:(n.join(o,2),t&&t(n),!0)}catch{return!1}},m4=()=>({state:e,dispatch:t})=>R5(e,t),g4=()=>({state:e,dispatch:t})=>N5(e,t);function G0(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function v4(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let o,r,s,i;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))o=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))mp()||G0()?i=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return o&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),i&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var y4=e=>({editor:t,view:n,tr:o,dispatch:r})=>{const s=v4(e).split(/-(?!$)/),i=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0});return t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))})?.steps.forEach(c=>{const u=c.map(o.mapping);u&&r&&o.maybeStep(u)}),!0};function Dr(e,t,n={}){const{from:o,to:r,empty:s}=e.selection,i=t?zt(t,e.schema):null,a=[];e.doc.nodesBetween(o,r,(u,d)=>{if(u.isText)return;const f=Math.max(o,d),p=Math.min(r,d+u.nodeSize);a.push({node:u,from:f,to:p})});const l=r-o,c=a.filter(u=>i?i.name===u.node.type.name:!0).filter(u=>jl(u.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((u,d)=>u+d.to-d.from,0)>=l}var b4=(e,t={})=>({state:n,dispatch:o})=>{const r=zt(e,n.schema);return Dr(n,r,t)?P5(n,o):!1},w4=()=>({state:e,dispatch:t})=>s0(e,t),k4=e=>({state:t,dispatch:n})=>{const o=zt(e,t.schema);return G5(o)(t,n)},C4=()=>({state:e,dispatch:t})=>o0(e,t);function tu(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function gg(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((o,r)=>(n.includes(r)||(o[r]=e[r]),o),{})}var S4=(e,t)=>({tr:n,state:o,dispatch:r})=>{let s=null,i=null;const a=tu(typeof e=="string"?e:e.name,o.schema);if(!a)return!1;a==="node"&&(s=zt(e,o.schema)),a==="mark"&&(i=Qo(e,o.schema));let l=!1;return n.selection.ranges.forEach(c=>{o.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,r&&n.setNodeMarkup(d,void 0,gg(u.attrs,t))),i&&u.marks.length&&u.marks.forEach(f=>{i===f.type&&(l=!0,r&&n.addMark(d,d+u.nodeSize,i.create(gg(f.attrs,t))))})})}),l},x4=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),A4=()=>({tr:e,dispatch:t})=>{if(t){const n=new Vn(e.doc);e.setSelection(n)}return!0},M4=()=>({state:e,dispatch:t})=>Qy(e,t),T4=()=>({state:e,dispatch:t})=>n0(e,t),E4=()=>({state:e,dispatch:t})=>H5(e,t),$4=()=>({state:e,dispatch:t})=>j5(e,t),O4=()=>({state:e,dispatch:t})=>F5(e,t);function Xd(e,t,n={},o={}){return la(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:o.errorOnInvalidContent})}var D4=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:o={}}={})=>({editor:r,tr:s,dispatch:i,commands:a})=>{const{doc:l}=s;if(o.preserveWhitespace!=="full"){const c=Xd(e,r.schema,o,{errorOnInvalidContent:t??r.options.enableContentCheck});return i&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return i&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},e,{parseOptions:o,errorOnInvalidContent:t??r.options.enableContentCheck})};function J0(e,t){const n=Qo(t,e.schema),{from:o,to:r,empty:s}=e.selection,i=[];s?(e.storedMarks&&i.push(...e.storedMarks),i.push(...e.selection.$head.marks())):e.doc.nodesBetween(o,r,l=>{i.push(...l.marks)});const a=i.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Y0(e,t){const n=new Jf(e);return t.forEach(o=>{o.steps.forEach(r=>{n.step(r)})}),n}function R4(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function N4(e,t,n){const o=[];return e.nodesBetween(t.from,t.to,(r,s)=>{n(r)&&o.push({node:r,pos:s})}),o}function Z0(e,t){for(let n=e.depth;n>0;n-=1){const o=e.node(n);if(t(o))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:o}}}function nu(e){return t=>Z0(t.$from,e)}function Be(e,t,n){return e.config[t]===void 0&&e.parent?Be(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Be(e.parent,t,n):null}):e.config[t]}function gp(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},o=Be(t,"addExtensions",n);return o?[t,...gp(o())]:t}).flat(10)}function vp(e,t){const n=ds.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function X0(e){return typeof e=="function"}function dt(e,t=void 0,...n){return X0(e)?t?e.bind(t)(...n):e(...n):e}function I4(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Ws(e){const t=e.filter(r=>r.type==="extension"),n=e.filter(r=>r.type==="node"),o=e.filter(r=>r.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:o}}function Q0(e){const t=[],{nodeExtensions:n,markExtensions:o}=Ws(e),r=[...n,...o],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage,extensions:r},l=Be(i,"addGlobalAttributes",a);l&&l().forEach(c=>{c.types.forEach(u=>{Object.entries(c.attributes).forEach(([d,f])=>{t.push({type:u,name:d,attribute:{...s,...f}})})})})}),r.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},l=Be(i,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...s,...d};typeof f?.default=="function"&&(f.default=f.default()),f?.isRequired&&f?.default===void 0&&delete f.default,t.push({type:i.name,name:u,attribute:f})})}),t}function it(...e){return e.filter(t=>!!t).reduce((t,n)=>{const o={...t};return Object.entries(n).forEach(([r,s])=>{if(!o[r]){o[r]=s;return}if(r==="class"){const i=s?String(s).split(" "):[],a=o[r]?o[r].split(" "):[],l=i.filter(c=>!a.includes(c));o[r]=[...a,...l].join(" ")}else if(r==="style"){const i=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],a=o[r]?o[r].split(";").map(c=>c.trim()).filter(Boolean):[],l=new Map;a.forEach(c=>{const[u,d]=c.split(":").map(f=>f.trim());l.set(u,d)}),i.forEach(c=>{const[u,d]=c.split(":").map(f=>f.trim());l.set(u,d)}),o[r]=Array.from(l.entries()).map(([c,u])=>`${c}: ${u}`).join("; ")}else o[r]=s}),o},{})}function Ul(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,o)=>it(n,o),{})}function L4(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function vg(e,t){return"style"in e?e:{...e,getAttrs:n=>{const o=e.getAttrs?e.getAttrs(n):e.attrs;if(o===!1)return!1;const r=t.reduce((s,i)=>{const a=i.attribute.parseHTML?i.attribute.parseHTML(n):L4(n.getAttribute(i.name));return a==null?s:{...s,[i.name]:a}},{});return{...o,...r}}}}function yg(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&I4(n)?!1:n!=null))}function bg(e){var t,n;const o={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(o.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(o.validate=e.attribute.validate),[e.name,o]}function P4(e,t){var n;const o=Q0(e),{nodeExtensions:r,markExtensions:s}=Ws(e),i=(n=r.find(c=>Be(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(r.map(c=>{const u=o.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((y,w)=>{const k=Be(w,"extendNodeSchema",d);return{...y,...k?k(c):{}}},{}),p=yg({...f,content:dt(Be(c,"content",d)),marks:dt(Be(c,"marks",d)),group:dt(Be(c,"group",d)),inline:dt(Be(c,"inline",d)),atom:dt(Be(c,"atom",d)),selectable:dt(Be(c,"selectable",d)),draggable:dt(Be(c,"draggable",d)),code:dt(Be(c,"code",d)),whitespace:dt(Be(c,"whitespace",d)),linebreakReplacement:dt(Be(c,"linebreakReplacement",d)),defining:dt(Be(c,"defining",d)),isolating:dt(Be(c,"isolating",d)),attrs:Object.fromEntries(u.map(bg))}),h=dt(Be(c,"parseHTML",d));h&&(p.parseDOM=h.map(y=>vg(y,u)));const m=Be(c,"renderHTML",d);m&&(p.toDOM=y=>m({node:y,HTMLAttributes:Ul(y,u)}));const v=Be(c,"renderText",d);return v&&(p.toText=v),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const u=o.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((v,y)=>{const w=Be(y,"extendMarkSchema",d);return{...v,...w?w(c):{}}},{}),p=yg({...f,inclusive:dt(Be(c,"inclusive",d)),excludes:dt(Be(c,"excludes",d)),group:dt(Be(c,"group",d)),spanning:dt(Be(c,"spanning",d)),code:dt(Be(c,"code",d)),attrs:Object.fromEntries(u.map(bg))}),h=dt(Be(c,"parseHTML",d));h&&(p.parseDOM=h.map(v=>vg(v,u)));const m=Be(c,"renderHTML",d);return m&&(p.toDOM=v=>m({mark:v,HTMLAttributes:Ul(v,u)})),[c.name,p]}));return new Dy({topNode:i,nodes:a,marks:l})}function V4(e){const t=e.filter((n,o)=>e.indexOf(n)!==o);return Array.from(new Set(t))}function yp(e){return e.sort((t,n)=>{const o=Be(t,"priority")||100,r=Be(n,"priority")||100;return o>r?-1:o<r?1:0})}function eb(e){const t=yp(gp(e)),n=V4(t.map(o=>o.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}function tb(e,t,n){const{from:o,to:r}=t,{blockSeparator:s=`

`,textSerializers:i={}}=n||{};let a="";return e.nodesBetween(o,r,(l,c,u,d)=>{var f;l.isBlock&&c>o&&(a+=s);const p=i?.[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(a+=(f=l?.text)==null?void 0:f.slice(Math.max(o,c)-c,r-c))}),a}function _4(e,t){const n={from:0,to:e.content.size};return tb(e,n,t)}function nb(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function B4(e,t){const n=zt(t,e.schema),{from:o,to:r}=e.selection,s=[];e.doc.nodesBetween(o,r,a=>{s.push(a)});const i=s.reverse().find(a=>a.type.name===n.name);return i?{...i.attrs}:{}}function ob(e,t){const n=tu(typeof t=="string"?t:t.name,e.schema);return n==="node"?B4(e,t):n==="mark"?J0(e,t):{}}function H4(e,t=JSON.stringify){const n={};return e.filter(o=>{const r=t(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function z4(e){const t=H4(e);return t.length===1?t:t.filter((n,o)=>!t.filter((r,s)=>s!==o).some(r=>n.oldRange.from>=r.oldRange.from&&n.oldRange.to<=r.oldRange.to&&n.newRange.from>=r.newRange.from&&n.newRange.to<=r.newRange.to))}function rb(e){const{mapping:t,steps:n}=e,o=[];return t.maps.forEach((r,s)=>{const i=[];if(r.ranges.length)r.forEach((a,l)=>{i.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;i.push({from:a,to:l})}i.forEach(({from:a,to:l})=>{const c=t.slice(s).map(a,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);o.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),z4(o)}function bp(e,t,n){const o=[];return e===t?n.resolve(e).marks().forEach(r=>{const s=n.resolve(e),i=hp(s,r.type);i&&o.push({mark:r,...i})}):n.nodesBetween(e,t,(r,s)=>{!r||r?.nodeSize===void 0||o.push(...r.marks.map(i=>({from:s,to:s+r.nodeSize,mark:i})))}),o}var F4=(e,t,n,o=20)=>{const r=e.doc.resolve(n);let s=o,i=null;for(;s>0&&i===null;){const a=r.node(s);a?.type.name===t?i=a:s-=1}return[i,s]};function Yu(e,t){return t.nodes[e]||t.marks[e]||null}function pl(e,t,n){return Object.fromEntries(Object.entries(n).filter(([o])=>{const r=e.find(s=>s.type===t&&s.name===o);return r?r.attribute.keepOnSplit:!1}))}var j4=(e,t=500)=>{let n="";const o=e.parentOffset;return e.parent.nodesBetween(Math.max(0,o-t),o,(r,s,i,a)=>{var l,c;const u=((c=(l=r.type.spec).toText)==null?void 0:c.call(l,{node:r,pos:s,parent:i,index:a}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?u:u.slice(0,Math.max(0,o-s))}),n};function Qd(e,t,n={}){const{empty:o,ranges:r}=e.selection,s=t?Qo(t,e.schema):null;if(o)return!!(e.storedMarks||e.selection.$from.marks()).filter(u=>s?s.name===u.type.name:!0).find(u=>jl(u.attrs,n,{strict:!1}));let i=0;const a=[];if(r.forEach(({$from:u,$to:d})=>{const f=u.pos,p=d.pos;e.doc.nodesBetween(f,p,(h,m)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(f,m),y=Math.min(p,m+h.nodeSize),w=y-v;i+=w,a.push(...h.marks.map(k=>({mark:k,from:v,to:y})))})}),i===0)return!1;const l=a.filter(u=>s?s.name===u.mark.type.name:!0).filter(u=>jl(u.mark.attrs,n,{strict:!1})).reduce((u,d)=>u+d.to-d.from,0),c=a.filter(u=>s?u.mark.type!==s&&u.mark.type.excludes(s):!0).reduce((u,d)=>u+d.to-d.from,0);return(l>0?l+c:l)>=i}function U4(e,t,n={}){if(!t)return Dr(e,null,n)||Qd(e,null,n);const o=tu(t,e.schema);return o==="node"?Dr(e,t,n):o==="mark"?Qd(e,t,n):!1}var K4=(e,t)=>{const{$from:n,$to:o,$anchor:r}=e.selection;if(t){const s=nu(a=>a.type.name===t)(e.selection);if(!s)return!1;const i=e.doc.resolve(s.pos+1);return r.pos+1===i.end()}return!(o.parentOffset<o.parent.nodeSize-2||n.pos!==o.pos)},W4=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function wg(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function kg(e,t){const{nodeExtensions:n}=Ws(t),o=n.find(i=>i.name===e);if(!o)return!1;const r={name:o.name,options:o.options,storage:o.storage},s=dt(Be(o,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function ou(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var o;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((o=e.text)!=null?o:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let r=!0;return e.content.forEach(s=>{r!==!1&&(ou(s,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function sb(e){return e instanceof He}var ib=class ab{constructor(t){this.position=t}static fromJSON(t){return new ab(t.position)}toJSON(){return{position:this.position}}};function q4(e,t){const n=t.mapping.mapResult(e.position);return{position:new ib(n.pos),mapResult:n}}function G4(e){return new ib(e)}function J4(e,t,n){var o;const{selection:r}=t;let s=null;if(K0(r)&&(s=r.$cursor),s){const a=(o=e.storedMarks)!=null?o:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(l=>l.type.excludes(n)))}const{ranges:i}=r;return i.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),h=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=p&&h}return!c}),c})}var Y4=(e,t={})=>({tr:n,state:o,dispatch:r})=>{const{selection:s}=n,{empty:i,ranges:a}=s,l=Qo(e,o.schema);if(r)if(i){const c=J0(o,l);n.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;o.doc.nodesBetween(u,d,(f,p)=>{const h=Math.max(p,u),m=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(h,m,l.create({...v.attrs,...t}))}):n.addMark(h,m,l.create(t))})});return J4(o,n,l)},Z4=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),X4=(e,t={})=>({state:n,dispatch:o,chain:r})=>{const s=zt(e,n.schema);let i;return n.selection.$anchor.sameParent(n.selection.$head)&&(i=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:a})=>Lm(s,{...i,...t})(n)?!0:a.clearNodes()).command(({state:a})=>Lm(s,{...i,...t})(a,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Q4=e=>({tr:t,dispatch:n})=>{if(n){const{doc:o}=t,r=qr(e,0,o.content.size),s=He.create(o,r);t.setSelection(s)}return!0},eO=(e,t)=>({tr:n,state:o,dispatch:r})=>{const{selection:s}=o;let i,a;return typeof t=="number"?(i=t,a=t):t&&"from"in t&&"to"in t?(i=t.from,a=t.to):(i=s.from,a=s.to),r&&n.doc.nodesBetween(i,a,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},tO=e=>({tr:t,dispatch:n})=>{if(n){const{doc:o}=t,{from:r,to:s}=typeof e=="number"?{from:e,to:e}:e,i=je.atStart(o).from,a=je.atEnd(o).to,l=qr(r,i,a),c=qr(s,i,a),u=je.create(o,l,c);t.setSelection(u)}return!0},nO=e=>({state:t,dispatch:n})=>{const o=zt(e,t.schema);return Z5(o)(t,n)};function Cg(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const o=n.filter(r=>t?.includes(r.type.name));e.tr.ensureMarks(o)}}var oO=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:o,editor:r})=>{const{selection:s,doc:i}=t,{$from:a,$to:l}=s,c=r.extensionManager.attributes,u=pl(c,a.node().type.name,a.node().attrs);if(s instanceof He&&s.node.isBlock)return!a.parentOffset||!Fo(i,a.pos)?!1:(o&&(e&&Cg(n,r.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:R4(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,h=Fo(t.doc,t.mapping.map(a.pos),1,p);if(!p&&!h&&Fo(t.doc,t.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:u}]:void 0),o){if(h&&(s instanceof je&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,p),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const m=t.mapping.map(a.before()),v=t.doc.resolve(m);a.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&t.setNodeMarkup(t.mapping.map(a.before()),f)}e&&Cg(n,r.extensionManager.splittableMarks),t.scrollIntoView()}return h},rO=(e,t={})=>({tr:n,state:o,dispatch:r,editor:s})=>{var i;const a=zt(e,o.schema),{$from:l,$to:c}=o.selection,u=o.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let y=he.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let V=l.depth-w;V>=l.depth-3;V-=1)y=he.from(l.node(V).copy(y));const k=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...pl(f,l.node().type.name,l.node().attrs),...t},M=((i=a.contentMatch.defaultType)==null?void 0:i.createAndFill(S))||void 0;y=y.append(he.from(a.createAndFill(null,M)||void 0));const L=l.before(l.depth-(w-1));n.replace(L,l.after(-k),new xe(y,4-w,0));let N=-1;n.doc.nodesBetween(L,n.doc.content.size,(V,_)=>{if(N>-1)return!1;V.isTextblock&&V.content.size===0&&(N=_+1)}),N>-1&&n.setSelection(je.near(n.doc.resolve(N))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,h={...pl(f,d.type.name,d.attrs),...t},m={...pl(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const v=p?[{type:a,attrs:h},{type:p,attrs:m}]:[{type:a,attrs:h}];if(!Fo(n.doc,l.pos,2))return!1;if(r){const{selection:y,storedMarks:w}=o,{splittableMarks:k}=s.extensionManager,S=w||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!S||!r)return!0;const M=S.filter(L=>k.includes(L.type.name));n.ensureMarks(M)}return!0},Zu=(e,t)=>{const n=nu(s=>s.type===t)(e.selection);if(!n)return!0;const o=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(o===void 0)return!0;const r=e.doc.nodeAt(o);return n.node.type===r?.type&&Ir(e.doc,n.pos)&&e.join(n.pos),!0},Xu=(e,t)=>{const n=nu(s=>s.type===t)(e.selection);if(!n)return!0;const o=e.doc.resolve(n.start).after(n.depth);if(o===void 0)return!0;const r=e.doc.nodeAt(o);return n.node.type===r?.type&&Ir(e.doc,o)&&e.join(o),!0},sO=(e,t,n,o={})=>({editor:r,tr:s,state:i,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=r.extensionManager,p=zt(e,i.schema),h=zt(t,i.schema),{selection:m,storedMarks:v}=i,{$from:y,$to:w}=m,k=y.blockRange(w),S=v||m.$to.parentOffset&&m.$from.marks();if(!k)return!1;const M=nu(L=>kg(L.type.name,d))(m);if(k.depth>=1&&M&&k.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(h);if(kg(M.node.type.name,d)&&p.validContent(M.node.content)&&a)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>Zu(s,p)).command(()=>Xu(s,p)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(p,o)?!0:c.clearNodes()).wrapInList(p,o).command(()=>Zu(s,p)).command(()=>Xu(s,p)).run():l().command(()=>{const L=u().wrapInList(p,o),N=S.filter(V=>f.includes(V.type.name));return s.ensureMarks(N),L?!0:c.clearNodes()}).wrapInList(p,o).command(()=>Zu(s,p)).command(()=>Xu(s,p)).run()},iO=(e,t={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,i=Qo(e,o.schema);return Qd(o,i,t)?r.unsetMark(i,{extendEmptyMarkRange:s}):r.setMark(i,t)},aO=(e,t,n={})=>({state:o,commands:r})=>{const s=zt(e,o.schema),i=zt(t,o.schema),a=Dr(o,s,n);let l;return o.selection.$anchor.sameParent(o.selection.$head)&&(l=o.selection.$anchor.parent.attrs),a?r.setNode(i,l):r.setNode(s,{...l,...n})},lO=(e,t={})=>({state:n,commands:o})=>{const r=zt(e,n.schema);return Dr(n,r,t)?o.lift(r):o.wrapIn(r,t)},cO=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let s;if(r.spec.isInputRules&&(s=r.getState(e))){if(t){const i=e.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)i.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else i.delete(s.from,s.to)}return!0}}return!1},uO=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:o,ranges:r}=n;return o||t&&r.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},dO=(e,t={})=>({tr:n,state:o,dispatch:r})=>{var s;const{extendEmptyMarkRange:i=!1}=t,{selection:a}=n,l=Qo(e,o.schema),{$from:c,empty:u,ranges:d}=a;if(!r)return!0;if(u&&i){let{from:f,to:p}=a;const h=(s=c.marks().find(v=>v.type===l))==null?void 0:s.attrs,m=hp(c,l,h);m&&(f=m.from,p=m.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},fO=e=>({tr:t,state:n,dispatch:o})=>{const{selection:r}=n;let s,i;return typeof e=="number"?(s=e,i=e):e&&"from"in e&&"to"in e?(s=e.from,i=e.to):(s=r.from,i=r.to),o&&t.doc.nodesBetween(s,i,(a,l)=>{if(a.isText)return;const c={...a.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},pO=(e,t={})=>({tr:n,state:o,dispatch:r})=>{let s=null,i=null;const a=tu(typeof e=="string"?e:e.name,o.schema);if(!a)return!1;a==="node"&&(s=zt(e,o.schema)),a==="mark"&&(i=Qo(e,o.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,h,m;n.selection.empty?o.doc.nodesBetween(u,d,(v,y)=>{s&&s===v.type&&(l=!0,h=Math.max(y,u),m=Math.min(y+v.nodeSize,d),f=y,p=v)}):o.doc.nodesBetween(u,d,(v,y)=>{y<u&&s&&s===v.type&&(l=!0,h=Math.max(y,u),m=Math.min(y+v.nodeSize,d),f=y,p=v),y>=u&&y<=d&&(s&&s===v.type&&(l=!0,r&&n.setNodeMarkup(y,void 0,{...v.attrs,...t})),i&&v.marks.length&&v.marks.forEach(w=>{if(i===w.type&&(l=!0,r)){const k=Math.max(y,u),S=Math.min(y+v.nodeSize,d);n.addMark(k,S,i.create({...w.attrs,...t}))}}))}),p&&(f!==void 0&&r&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),i&&p.marks.length&&p.marks.forEach(v=>{i===v.type&&r&&n.addMark(h,m,i.create({...v.attrs,...t}))}))}),l},hO=(e,t={})=>({state:n,dispatch:o})=>{const r=zt(e,n.schema);return U5(r,t)(n,o)},mO=(e,t={})=>({state:n,dispatch:o})=>{const r=zt(e,n.schema);return K5(r,t)(n,o)},gO=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(o=>o.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const n=(...o)=>{this.off(e,n),t.apply(this,o)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},ru=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},vO=(e,t)=>{if(pp(t))return t.exec(e);const n=t(e);if(!n)return null;const o=[n.text];return o.index=n.index,o.input=e,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o};function Ka(e){var t;const{editor:n,from:o,to:r,text:s,rules:i,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(o);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=j4(c)+s;return i.forEach(f=>{if(u)return;const p=vO(d,f.find);if(!p)return;const h=l.state.tr,m=Qc({state:l.state,transaction:h}),v={from:o-(p[0].length-s.length),to:r},{commands:y,chain:w,can:k}=new eu({editor:n,state:m});f.handler({state:m,range:v,match:p,commands:y,chain:w,can:k})===null||!h.steps.length||(f.undoable&&h.setMeta(a,{transform:h,from:o,to:r,text:s}),l.dispatch(h),u=!0)}),u}function yO(e){const{editor:t,rules:n}=e,o=new Ot({state:{init(){return null},apply(r,s,i){const a=r.getMeta(o);if(a)return a;const l=r.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=vp(he.from(c),i.schema);const{from:u}=l,d=u+c.length;Ka({editor:t,from:u,to:d,text:c,rules:n,plugin:o})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,i,a){return Ka({editor:t,from:s,to:i,text:a,rules:n,plugin:o})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&Ka({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:o})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:i}=r.state.selection;return i?Ka({editor:t,from:i.pos,to:i.pos,text:`
`,rules:n,plugin:o}):!1}},isInputRules:!0});return o}function bO(e){return Object.prototype.toString.call(e).slice(8,-1)}function Wa(e){return bO(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function lb(e,t){const n={...e};return Wa(e)&&Wa(t)&&Object.keys(t).forEach(o=>{Wa(t[o])&&Wa(e[o])?n[o]=lb(e[o],t[o]):n[o]=t[o]}),n}var wp=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...dt(Be(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...dt(Be(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>lb(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},er=class cb extends wp{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new cb(n)}static handleExit({editor:t,mark:n}){const{tr:o}=t.state,r=t.state.selection.$from;if(r.pos===r.end()){const s=r.marks();if(!s.find(a=>a?.type.name===n.name))return!1;const i=s.find(a=>a?.type.name===n.name);return i&&o.removeStoredMark(i),o.insertText(" ",r.pos),t.view.dispatch(o),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function wO(e){return typeof e=="number"}var kO=class{constructor(e){this.find=e.find,this.handler=e.handler}},CO=(e,t,n)=>{if(pp(t))return[...e.matchAll(t)];const o=t(e,n);return o?o.map(r=>{const s=[r.text];return s.index=r.index,s.input=e,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function SO(e){const{editor:t,state:n,from:o,to:r,rule:s,pasteEvent:i,dropEvent:a}=e,{commands:l,chain:c,can:u}=new eu({editor:t,state:n}),d=[];return n.doc.nodesBetween(o,r,(f,p)=>{var h,m,v,y,w;if((m=(h=f.type)==null?void 0:h.spec)!=null&&m.code||!(f.isText||f.isTextblock||f.isInline))return;const k=(w=(y=(v=f.content)==null?void 0:v.size)!=null?y:f.nodeSize)!=null?w:0,S=Math.max(o,p),M=Math.min(r,p+k);if(S>=M)return;const L=f.isText?f.text||"":f.textBetween(S-p,M-p,void 0,"");CO(L,s.find,i).forEach(N=>{if(N.index===void 0)return;const V=S+N.index+1,_=V+N[0].length,G={from:n.tr.mapping.map(V),to:n.tr.mapping.map(_)},te=s.handler({state:n,range:G,match:N,commands:l,chain:c,can:u,pasteEvent:i,dropEvent:a});d.push(te)})}),d.every(f=>f!==null)}var qa=null,xO=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function AO(e){const{editor:t,rules:n}=e;let o=null,r=!1,s=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:c,from:u,to:d,rule:f,pasteEvt:p})=>{const h=c.tr,m=Qc({state:c,transaction:h});if(!(!SO({editor:t,state:m,from:Math.max(u-1,0),to:d.b-1,rule:f,pasteEvent:p,dropEvent:a})||!h.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,h}};return n.map(c=>new Ot({view(u){const d=p=>{var h;o=(h=u.dom.parentElement)!=null&&h.contains(p.target)?u.dom.parentElement:null,o&&(qa=t)},f=()=>{qa&&(qa=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(u,d)=>{if(s=o===u.dom.parentElement,a=d,!s){const f=qa;f?.isEditable&&setTimeout(()=>{const p=f.state.selection;p&&f.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(u,d)=>{var f;const p=(f=d.clipboardData)==null?void 0:f.getData("text/html");return i=d,r=!!p?.includes("data-pm-slice"),!1}}},appendTransaction:(u,d,f)=>{const p=u[0],h=p.getMeta("uiEvent")==="paste"&&!r,m=p.getMeta("uiEvent")==="drop"&&!s,v=p.getMeta("applyPasteRules"),y=!!v;if(!h&&!m&&!y)return;if(y){let{text:S}=v;typeof S=="string"?S=S:S=vp(he.from(S),f.schema);const{from:M}=v,L=M+S.length,N=xO(S);return l({rule:c,state:f,from:M,to:{b:L},pasteEvt:N})}const w=d.doc.content.findDiffStart(f.doc.content),k=d.doc.content.findDiffEnd(f.doc.content);if(!(!wO(w)||!k||w===k.b))return l({rule:c,state:f,from:w,to:k,pasteEvt:i})}}))}var su=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=eb(e),this.schema=P4(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Yu(t.name,this.schema)},o=Be(t,"addCommands",n);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this;return yp([...this.extensions].reverse()).flatMap(t=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:Yu(t.name,this.schema)},o=[],r=Be(t,"addKeyboardShortcuts",n);let s={};if(t.type==="mark"&&Be(t,"exitable",n)&&(s.ArrowRight=()=>er.handleExit({editor:e,mark:t})),r){const u=Object.fromEntries(Object.entries(r()).map(([d,f])=>[d,()=>f({editor:e})]));s={...s,...u}}const i=H$(s);o.push(i);const a=Be(t,"addInputRules",n);if(wg(t,e.options.enableInputRules)&&a){const u=a();if(u&&u.length){const d=yO({editor:e,rules:u}),f=Array.isArray(d)?d:[d];o.push(...f)}}const l=Be(t,"addPasteRules",n);if(wg(t,e.options.enablePasteRules)&&l){const u=l();if(u&&u.length){const d=AO({editor:e,rules:u});o.push(...d)}}const c=Be(t,"addProseMirrorPlugins",n);if(c){const u=c();o.push(...u)}return o})}get attributes(){return Q0(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ws(this.extensions);return Object.fromEntries(t.filter(n=>!!Be(n,"addNodeView")).map(n=>{const o=this.attributes.filter(l=>l.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:zt(n.name,this.schema)},s=Be(n,"addNodeView",r);if(!s)return[];const i=s();if(!i)return[];const a=(l,c,u,d,f)=>{const p=Ul(l,o);return i({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:n,HTMLAttributes:p})};return[n.name,a]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Ws(this.extensions);return Object.fromEntries(t.filter(n=>!!Be(n,"addMarkView")).map(n=>{const o=this.attributes.filter(a=>a.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Qo(n.name,this.schema)},s=Be(n,"addMarkView",r);if(!s)return[];const i=(a,l,c)=>{const u=Ul(a,o);return s()({mark:a,view:l,inline:c,editor:e,extension:n,HTMLAttributes:u,updateAttributes:d=>{HO(a,e,d)}})};return[n.name,i]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const o={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Yu(t.name,this.schema)};t.type==="mark"&&((n=dt(Be(t,"keepOnSplit",o)))==null||n)&&this.splittableMarks.push(t.name);const r=Be(t,"onBeforeCreate",o),s=Be(t,"onCreate",o),i=Be(t,"onUpdate",o),a=Be(t,"onSelectionUpdate",o),l=Be(t,"onTransaction",o),c=Be(t,"onFocus",o),u=Be(t,"onBlur",o),d=Be(t,"onDestroy",o);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};su.resolve=eb;su.sort=yp;su.flatten=gp;var MO={};fp(MO,{ClipboardTextSerializer:()=>db,Commands:()=>fb,Delete:()=>pb,Drop:()=>hb,Editable:()=>mb,FocusEvents:()=>vb,Keymap:()=>yb,Paste:()=>bb,Tabindex:()=>wb,TextDirection:()=>kb,focusEventsPluginKey:()=>gb});var mt=class ub extends wp{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new ub(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},db=mt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ot({key:new Pt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:o,selection:r}=t,{ranges:s}=r,i=Math.min(...s.map(c=>c.$from.pos)),a=Math.max(...s.map(c=>c.$to.pos)),l=nb(n);return tb(o,{from:i,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),fb=mt.create({name:"commands",addCommands(){return{...j0}}}),pb=mt.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,o,r;const s=()=>{var i,a,l,c;if((c=(l=(a=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,e))!=null?c:e.getMeta("y-sync$"))return;const u=Y0(e.before,[e,...t]);rb(u).forEach(f=>{u.mapping.mapResult(f.oldRange.from).deletedAfter&&u.mapping.mapResult(f.oldRange.to).deletedBefore&&u.before.nodesBetween(f.oldRange.from,f.oldRange.to,(p,h)=>{const m=h+p.nodeSize-2,v=f.oldRange.from<=h&&m<=f.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:h,to:m,newFrom:u.mapping.map(h),newTo:u.mapping.map(m),deletedRange:f.oldRange,newRange:f.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const d=u.mapping;u.steps.forEach((f,p)=>{var h,m;if(f instanceof Xn){const v=d.slice(p).map(f.from,-1),y=d.slice(p).map(f.to),w=d.invert().map(v,-1),k=d.invert().map(y),S=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(L=>L.eq(f.mark)),M=(m=u.doc.nodeAt(y))==null?void 0:m.marks.some(L=>L.eq(f.mark));this.editor.emit("delete",{type:"mark",mark:f.mark,from:f.from,to:f.to,deletedRange:{from:w,to:k},newRange:{from:v,to:y},partial:!!(M||S),editor:this.editor,transaction:e,combinedTransform:u})}})};(r=(o=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:o.async)==null||r?setTimeout(s,0):s()}}),hb=mt.create({name:"drop",addProseMirrorPlugins(){return[new Ot({key:new Pt("tiptapDrop"),props:{handleDrop:(e,t,n,o)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:o})}}})]}}),mb=mt.create({name:"editable",addProseMirrorPlugins(){return[new Ot({key:new Pt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),gb=new Pt("focusEvents"),vb=mt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Ot({key:gb,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const o=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(o),!1},blur:(t,n)=>{e.isFocused=!1;const o=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(o),!1}}}})]}}),yb=mt.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:i})=>{const{selection:a,doc:l}=i,{empty:c,$anchor:u}=a,{pos:d,parent:f}=u,p=u.parent.isTextblock&&d>0?i.doc.resolve(d-1):u,h=p.parent.type.spec.isolating,m=u.pos-u.parentOffset,v=h&&p.parent.childCount===1?m===u.pos:We.atStart(l).from===d;return!c||!f.type.isTextblock||f.textContent.length||!v||v&&u.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},r={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return mp()||G0()?r:o},addProseMirrorPlugins(){return[new Ot({key:new Pt("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(p=>p.getMeta("composition")))return;const o=e.some(p=>p.docChanged)&&!t.doc.eq(n.doc),r=e.some(p=>p.getMeta("preventClearDocument"));if(!o||r)return;const{empty:s,from:i,to:a}=t.selection,l=We.atStart(t.doc).from,c=We.atEnd(t.doc).to;if(s||!(i===l&&a===c)||!ou(n.doc))return;const u=n.tr,d=Qc({state:n,transaction:u}),{commands:f}=new eu({editor:this.editor,state:d});if(f.clearNodes(),!!u.steps.length)return u}})]}}),bb=mt.create({name:"paste",addProseMirrorPlugins(){return[new Ot({key:new Pt("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),wb=mt.create({name:"tabindex",addProseMirrorPlugins(){return[new Ot({key:new Pt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),kb=mt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Ws(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ot({key:new Pt("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),TO=class Ss{constructor(t,n,o=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=o,this.resolvedPos=t,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,o=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,o=this.to-1}this.editor.commands.insertContentAt({from:n,to:o},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Ss(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Ss(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Ss(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,o)=>{const r=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,i=this.pos+o+(s?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(i);if(!r&&a.depth<=this.depth)return;const l=new Ss(a,this.editor,r,r?n:null);r&&(l.actualDepth=this.depth+1),t.push(new Ss(a,this.editor,r,r?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let o=null,r=this.parent;for(;r&&!o;){if(r.node.type.name===t)if(Object.keys(n).length>0){const s=r.node.attrs,i=Object.keys(n);for(let a=0;a<i.length;a+=1){const l=i[a];if(s[l]!==n[l])break}}else o=r;r=r.parent}return o}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},o=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(n);return this.children.forEach(i=>{o&&r.length>0||(i.node.type.name===t&&s.every(a=>n[a]===i.node.attrs[a])&&r.push(i),!(o&&r.length>0)&&(r=r.concat(i.querySelectorAll(t,n,o))))}),r}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},EO=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function $O(e,t,n){const o=document.querySelector("style[data-tiptap-style]");if(o!==null)return o;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}var OO=class extends gO{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:o})=>{throw o},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:q4,createMappablePosition:G4},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:o,slice:r,moved:s})=>this.options.onDrop(o,r,s)),this.on("paste",({event:o,slice:r})=>this.options.onPaste(o,r)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=W0(t,this.options.autofocus);this.editorState=Ms.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=$O(EO,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=X0(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:n});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(r=>{const s=typeof r=="string"?`${r}$`:r.key;n=n.filter(i=>!i.key.startsWith(s))}),t.length===n.length)return;const o=this.state.reconfigure({plugins:n});return this.view.updateState(o),o}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[mb,db.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),fb,vb,yb,wb,hb,bb,pb,kb.configure({direction:this.options.textDirection})].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o?.type));this.extensionManager=new su(n,this)}createCommandManager(){this.commandManager=new eu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Xd(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=Xd(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new F0(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),o=!this.state.selection.eq(t.selection),r=n.includes(e),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!r)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),o&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=i?.getMeta("focus"),l=i?.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:i}),l&&this.emit("blur",{editor:this,event:l.event,transaction:i}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||s.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return ob(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return U4(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return vp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return _4(this.state.doc,{blockSeparator:t,textSerializers:{...nb(this.schema),...n}})}get isEmpty(){return ou(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new TO(t,this)}get $doc(){return this.$pos(0)}};function as(e){return new ru({find:e.find,handler:({state:t,range:n,match:o})=>{const r=dt(e.getAttributes,void 0,o);if(r===!1||r===null)return null;const{tr:s}=t,i=o[o.length-1],a=o[0];if(i){const l=a.search(/\S/),c=n.from+a.indexOf(i),u=c+i.length;if(bp(n.from,n.to,t.doc).filter(f=>f.mark.type.excluded.find(p=>p===e.type&&p!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const d=n.from+l+i.length;s.addMark(n.from+l,d,e.type.create(r||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}function Cb(e){return new ru({find:e.find,handler:({state:t,range:n,match:o})=>{const r=dt(e.getAttributes,void 0,o)||{},{tr:s}=t,i=n.from;let a=n.to;const l=e.type.create(r);if(o[1]){const c=o[0].lastIndexOf(o[1]);let u=i+c;u>a?u=a:a=u+o[1].length;const d=o[0][o[0].length-1];s.insertText(d,i+o[0].length-1),s.replaceWith(u,a,l)}else if(o[0]){const c=e.type.isInline?i:i-1;s.insert(c,e.type.create(r)).delete(s.mapping.map(i),s.mapping.map(a))}s.scrollIntoView()},undoable:e.undoable})}function ef(e){return new ru({find:e.find,handler:({state:t,range:n,match:o})=>{const r=t.doc.resolve(n.from),s=dt(e.getAttributes,void 0,o)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)},undoable:e.undoable})}function qs(e){return new ru({find:e.find,handler:({state:t,range:n,match:o,chain:r})=>{const s=dt(e.getAttributes,void 0,o)||{},i=t.tr.delete(n.from,n.to),a=i.doc.resolve(n.from).blockRange(),l=a&&Gf(a,e.type,s);if(!l)return null;if(i.wrap(a,l),e.keepMarks&&e.editor){const{selection:u,storedMarks:d}=t,{splittableMarks:f}=e.editor.extensionManager,p=d||u.$to.parentOffset&&u.$from.marks();if(p){const h=p.filter(m=>f.includes(m.type.name));i.ensureMarks(h)}}if(e.keepAttributes){const u=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(u,s).run()}const c=i.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&Ir(i.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(o,c))&&i.join(n.from-1)},undoable:e.undoable})}var DO=e=>"touches"in e,RO=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=i=>{if(!this.isResizing||!this.activeHandle)return;const a=i.clientX-this.startX,l=i.clientY-this.startY;this.handleResize(a,l)},this.handleTouchMove=i=>{if(!this.isResizing||!this.activeHandle)return;const a=i.touches[0];if(!a)return;const l=a.clientX-this.startX,c=a.clientY-this.startY;this.handleResize(l,c)},this.handleMouseUp=()=>{if(!this.isResizing)return;const i=this.element.offsetWidth,a=this.element.offsetHeight;this.onCommit(i,a),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=i=>{i.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=i=>{i.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,o,r,s;this.node=e.node,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(o=e?.options)!=null&&o.directions&&(this.directions=e.options.directions),(r=e.options)!=null&&r.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(s=e.options)!=null&&s.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",e.style.justifyContent="flex-start",e.style.alignItems="flex-start",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),o=t.includes("bottom"),r=t.includes("left"),s=t.includes("right");n&&(e.style.top="0"),o&&(e.style.bottom="0"),r&&(e.style.left="0"),s&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{const t=this.createHandle(e);this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.wrapper.appendChild(t)})}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,DO(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:o,height:r}=this.calculateNewDimensions(this.activeHandle,e,t),s=this.applyConstraints(o,r,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(e,t,n){let o=this.startWidth,r=this.startHeight;const s=e.includes("right"),i=e.includes("left"),a=e.includes("bottom"),l=e.includes("top");return s?o=this.startWidth+t:i&&(o=this.startWidth-t),a?r=this.startHeight+n:l&&(r=this.startHeight-n),(e==="right"||e==="left")&&(o=this.startWidth+(s?t:-t)),(e==="top"||e==="bottom")&&(r=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(o,r,e):{width:o,height:r}}applyConstraints(e,t,n){var o,r,s,i;if(!n){let c=Math.max(this.minSize.width,e),u=Math.max(this.minSize.height,t);return(o=this.maxSize)!=null&&o.width&&(c=Math.min(this.maxSize.width,c)),(r=this.maxSize)!=null&&r.height&&(u=Math.min(this.maxSize.height,u)),{width:c,height:u}}let a=e,l=t;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(i=this.maxSize)!=null&&i.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(e,t,n){return n==="left"||n==="right"?{width:e,height:e/this.aspectRatio}:n==="top"||n==="bottom"?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function NO(e,t){const{selection:n}=e,{$from:o}=n;if(n instanceof He){const s=o.index();return o.parent.canReplaceWith(s,s+1,t)}let r=o.depth;for(;r>=0;){const s=o.index(r);if(o.node(r).contentMatchAt(s).matchType(t))return!0;r-=1}return!1}var IO={};fp(IO,{createAtomBlockMarkdownSpec:()=>LO,createBlockMarkdownSpec:()=>PO,createInlineMarkdownSpec:()=>BO,parseAttributes:()=>kp,parseIndentedBlocks:()=>tf,renderNestedMarkdownContent:()=>Sp,serializeAttributes:()=>Cp});function kp(e){if(!e?.trim())return{};const t={},n=[],o=e.replace(/["']([^"']*)["']/g,l=>(n.push(l),`__QUOTED_${n.length-1}__`)),r=o.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(r){const l=r.map(c=>c.trim().slice(1));t.class=l.join(" ")}const s=o.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const i=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(o.matchAll(i)).forEach(([,l,c])=>{var u;const d=parseInt(((u=c.match(/__QUOTED_(\d+)__/))==null?void 0:u[1])||"0",10),f=n[d];f&&(t[l]=f.slice(1,-1))});const a=o.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return a&&a.split(/\s+/).filter(Boolean).forEach(l=>{l.match(/^[a-zA-Z][\w-]*$/)&&(t[l]=!0)}),t}function Cp(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(n=>t.push(`.${n}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,o])=>{n==="class"||n==="id"||(o===!0?t.push(n):o!==!1&&o!=null&&t.push(`${n}="${String(o)}"`))}),t.join(" ")}function LO(e){const{nodeName:t,name:n,parseAttributes:o=kp,serializeAttributes:r=Cp,defaultAttributes:s={},requiredAttributes:i=[],allowedAttributes:a}=e,l=n||t,c=u=>{if(!a)return u;const d={};return a.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),h=u.match(p);if(!h)return;const m=h[1]||"",v=o(m);if(!i.find(y=>!(y in v)))return{type:t,raw:h[0],attributes:v}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=r(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function PO(e){const{nodeName:t,name:n,getContent:o,parseAttributes:r=kp,serializeAttributes:s=Cp,defaultAttributes:i={},content:a="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(o){const m=o(d);p=typeof m=="string"?[{type:"text",text:m}]:m}else a==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const h={...i,...d.attributes};return f.createNode(t,h,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),h=(f=d.match(p))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(d,f,p){var h;const m=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),v=d.match(m);if(!v)return;const[y,w=""]=v,k=r(w);let S=1;const M=y.length;let L="";const N=/^:::([\w-]*)(\s.*)?/gm,V=d.slice(M);for(N.lastIndex=0;;){const _=N.exec(V);if(_===null)break;const G=_.index,te=_[1];if(!((h=_[2])!=null&&h.endsWith(":::"))){if(te)S+=1;else if(S-=1,S===0){const Y=V.slice(0,G);L=Y.trim();const q=d.slice(0,M+G+_[0].length);let $=[];if(L)if(a==="block")for($=p.blockTokens(Y),$.forEach(F=>{F.text&&(!F.tokens||F.tokens.length===0)&&(F.tokens=p.inlineTokens(F.text))});$.length>0;){const F=$[$.length-1];if(F.type==="paragraph"&&(!F.text||F.text.trim()===""))$.pop();else break}else $=p.inlineTokens(L);return{type:t,raw:q,attributes:k,content:L,tokens:$}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),h=s(p),m=h?` {${h}}`:"",v=f.renderChildren(d.content||[],`

`);return`:::${c}${m}

${v}

:::`}}}function VO(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let o=n.exec(e);for(;o!==null;){const[,r,s,i]=o;t[r]=s||i,o=n.exec(e)}return t}function _O(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function BO(e){const{nodeName:t,name:n,getContent:o,parseAttributes:r=VO,serializeAttributes:s=_O,defaultAttributes:i={},selfClosing:a=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(h=>{h in f&&(p[h]=f[h])}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const h={...i,...f.attributes};if(a)return p.createNode(t,h);const m=o?o(f):f.content||"";return m?p.createNode(t,h,[p.createTextNode(m)]):p.createNode(t,h,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=a?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),h=f.match(p),m=h?.index;return m!==void 0?m:-1},tokenize(f,p,h){const m=a?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),v=f.match(m);if(!v)return;let y="",w="";if(a){const[,S]=v;w=S}else{const[,S,M]=v;w=S,y=M||""}const k=r(w.trim());return{type:t,raw:v[0],content:y.trim(),attributes:k}}},renderMarkdown:f=>{let p="";o?p=o(f):f.content&&f.content.length>0&&(p=f.content.filter(y=>y.type==="text").map(y=>y.text).join(""));const h=u(f.attrs||{}),m=s(h),v=m?` ${m}`:"";return a?`[${c}${v}]`:`[${c}${v}]${p}[/${c}]`}}}function tf(e,t,n){var o,r,s,i;const a=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<a.length;){const f=a[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const h=t.extractItemData(p),{indentLevel:m,mainContent:v}=h;c=`${c}${f}
`;const y=[v];for(u+=1;u<a.length;){const M=a[u];if(M.trim()===""){const L=a.slice(u+1).findIndex(N=>N.trim()!=="");if(L===-1)break;if((((r=(o=a[u+1+L].match(/^(\s*)/))==null?void 0:o[1])==null?void 0:r.length)||0)>m){y.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((i=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:i.length)||0)>m)y.push(M),c=`${c}${M}
`,u+=1;else break}let w;const k=y.slice(1);if(k.length>0){const M=k.map(L=>L.slice(m+d)).join(`
`);M.trim()&&(t.customNestedParser?w=t.customNestedParser(M):w=n.blockTokens(M))}const S=t.createToken(h,w);l.push(S)}if(l.length!==0)return{items:l,raw:c}}function Sp(e,t,n,o){if(!e||!Array.isArray(e.content))return"";const r=typeof n=="function"?n(o):n,[s,...i]=e.content,a=t.renderChildren([s]),l=[`${r}${a}`];return i&&i.length>0&&i.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function HO(e,t,n={}){const{state:o}=t,{doc:r,tr:s}=o,i=e;r.descendants((a,l)=>{const c=s.mapping.map(l),u=s.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(p=>{if(p!==i)return!1;d=p}),!d)return;let f=!1;if(Object.keys(n).forEach(p=>{n[p]!==d.attrs[p]&&(f=!0)}),f){const p=e.type.create({...e.attrs,...n});s.removeMark(c,u,e.type),s.addMark(c,u,p)}}),s.docChanged&&t.view.dispatch(s)}var kt=class Sb extends wp{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new Sb(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Rr(e){return new kO({find:e.find,handler:({state:t,range:n,match:o,pasteEvent:r})=>{const s=dt(e.getAttributes,void 0,o,r);if(s===!1||s===null)return null;const{tr:i}=t,a=o[o.length-1],l=o[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(bp(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(h=>h===e.type&&h!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&i.delete(f,n.to),d>n.from&&i.delete(n.from+u,d),c=n.from+u+a.length,i.addMark(n.from+u,c,e.type.create(s||{})),i.removeStoredMark(e.type)}}})}function Sg(e){return gk((t,n)=>({get(){return t(),e},set(o){e=o,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}var zO=class extends OO{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=Sg(this.view.state),this.reactiveExtensionStorage=Sg(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),pa(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const n=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}},FO=be({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=C(),n=Gs();return va(()=>{const o=e.editor;o&&o.options.element&&t.value&&ut(()=>{var r;if(!t.value||!((r=o.view.dom)!=null&&r.firstChild))return;const s=eo(t.value);t.value.append(o.view.dom),o.contentComponent=n.ctx._,n&&(o.appContext={...n.appContext,provides:n.provides}),o.setOptions({element:s}),o.createNodeViews()})}),ga(()=>{const o=e.editor;o&&(o.contentComponent=null,o.appContext=null)}),{rootEl:t}},render(){return D("div",{ref:e=>{this.rootEl=e}})}}),jO=(e={})=>{const t=jn();return Go(()=>{t.value=new zO(e)}),ga(()=>{var n,o,r;const s=(n=t.value)==null?void 0:n.view.dom,i=s?.cloneNode(!0);(o=s?.parentNode)==null||o.replaceChild(i,s),(r=t.value)==null||r.destroy()}),t},Kl=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...o}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,o,n]},UO=/^\s*>\s$/,KO=kt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return Kl("blockquote",{...it(this.options.HTMLAttributes,e),children:Kl("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",o=[];return e.content.forEach(r=>{const s=t.renderChildren([r]).split(`
`).map(i=>i.trim()===""?n:`${n} ${i}`);o.push(s.join(`
`))}),o.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[qs({find:UO,type:this.type})]}}),WO=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,qO=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,GO=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,JO=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,YO=er.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return Kl("strong",{...it(this.options.HTMLAttributes,e),children:Kl("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[as({find:WO,type:this.type}),as({find:GO,type:this.type})]},addPasteRules(){return[Rr({find:qO,type:this.type}),Rr({find:JO,type:this.type})]}}),ZO=/(^|[^`])`([^`]+)`(?!`)$/,XO=/(^|[^`])`([^`]+)`(?!`)/g,QO=er.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",it(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[as({find:ZO,type:this.type})]},addPasteRules(){return[Rr({find:XO,type:this.type})]}}),Qu=4,e6=/^```([a-z]+)?[\s\n]$/,t6=/^~~~([a-z]+)?[\s\n]$/,n6=kt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Qu,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;return n&&[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(r=>r.startsWith(n)).map(r=>r.replace(n,""))[0]||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",it(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let o="";const r=((n=e.attrs)==null?void 0:n.language)||"";return e.content?o=[`\`\`\`${r}`,t.renderChildren(e.content),"```"].join(`
`):o=`\`\`\`${r}

\`\`\``,o},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:Qu,{state:o}=e,{selection:r}=o,{$from:s,empty:i}=r;if(s.parent.type!==this.type)return!1;const a=" ".repeat(n);return i?e.commands.insertContent(a):e.commands.command(({tr:l})=>{const{from:c,to:u}=r,d=o.doc.textBetween(c,u,`
`,`
`).split(`
`).map(f=>a+f).join(`
`);return l.replaceWith(c,u,o.schema.text(d)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:Qu,{state:o}=e,{selection:r}=o,{$from:s,empty:i}=r;return s.parent.type!==this.type?!1:i?e.commands.command(({tr:a})=>{var l;const{pos:c}=s,u=s.start(),d=s.end(),f=o.doc.textBetween(u,d,`
`,`
`).split(`
`);let p=0,h=0;const m=c-u;for(let k=0;k<f.length;k+=1){if(h+f[k].length>=m){p=k;break}h+=f[k].length+1}const v=((l=f[p].match(/^ */))==null?void 0:l[0])||"",y=Math.min(v.length,n);if(y===0)return!0;let w=u;for(let k=0;k<p;k+=1)w+=f[k].length+1;return a.delete(w,w+y),c-w<=y&&a.setSelection(je.create(a.doc,w)),!0}):e.commands.command(({tr:a})=>{const{from:l,to:c}=r,u=o.doc.textBetween(l,c,`
`,`
`).split(`
`).map(d=>{var f;const p=((f=d.match(/^ */))==null?void 0:f[0])||"",h=Math.min(p.length,n);return d.slice(h)}).join(`
`);return a.replaceWith(l,c,o.schema.text(u)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:o,empty:r}=n;if(!r||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,i=o.parent.textContent.endsWith(`

`);return!s||!i?!1:e.chain().command(({tr:a})=>(a.delete(o.pos-2,o.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:o}=t,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||r.parentOffset!==r.parent.nodeSize-2)return!1;const i=r.after();return i===void 0?!1:o.nodeAt(i)?e.commands.command(({tr:a})=>(a.setSelection(We.near(o.resolve(i))),!0)):e.commands.exitCode()}}},addInputRules(){return[ef({find:e6,type:this.type,getAttributes:e=>({language:e[1]})}),ef({find:t6,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Ot({key:new Pt("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),o=t.clipboardData.getData("vscode-editor-data"),r=o?JSON.parse(o):void 0,s=r?.mode;if(!n||!s)return!1;const{tr:i,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:s},l)),i.selection.$from.parent.type!==this.type&&i.setSelection(je.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),e.dispatch(i),!0}}})]}}),o6=kt.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),r6=kt.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",it(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:o})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=o.extensionManager,l=s||r.$to.parentOffset&&r.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&i){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),s6=kt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,it(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const o=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,r="#".repeat(o);return e.content?`${r} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>ef({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),i6=kt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",it(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!NO(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:o}=n,r=e();return sb(n)?r.insertContentAt(o.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:s,tr:i,dispatch:a})=>{if(a){const{$to:l}=i.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(je.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(He.create(i.doc,l.pos)):i.setSelection(je.create(i.doc,l.pos));else{const u=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u?.create();d&&(i.insert(c,d),i.setSelection(je.create(i.doc,c+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Cb({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),a6=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,l6=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,c6=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,u6=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,d6=er.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",it(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[as({find:a6,type:this.type}),as({find:c6,type:this.type})]},addPasteRules(){return[Rr({find:l6,type:this.type}),Rr({find:u6,type:this.type})]}});const f6="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",p6="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",nf="numeric",of="ascii",rf="alpha",Bi="asciinumeric",wi="alphanumeric",sf="domain",xb="emoji",h6="scheme",m6="slashscheme",ed="whitespace";function g6(e,t){return e in t||(t[e]=[]),t[e]}function Gr(e,t,n){t[nf]&&(t[Bi]=!0,t[wi]=!0),t[of]&&(t[Bi]=!0,t[rf]=!0),t[Bi]&&(t[wi]=!0),t[rf]&&(t[wi]=!0),t[wi]&&(t[sf]=!0),t[xb]&&(t[sf]=!0);for(const o in t){const r=g6(o,n);r.indexOf(e)<0&&r.push(e)}}function v6(e,t){const n={};for(const o in t)t[o].indexOf(e)>=0&&(n[o]=!0);return n}function On(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}On.groups={};On.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let o=0;o<t.jr.length;o++){const r=t.jr[o][0],s=t.jr[o][1];if(s&&r.test(e))return s}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,o){for(let r=0;r<e.length;r++)this.tt(e[r],t,n,o)},tr(e,t,n,o){o=o||On.groups;let r;return t&&t.j?r=t:(r=new On(t),n&&o&&Gr(t,n,o)),this.jr.push([e,r]),r},ts(e,t,n,o){let r=this;const s=e.length;if(!s)return r;for(let i=0;i<s-1;i++)r=r.tt(e[i]);return r.tt(e[s-1],t,n,o)},tt(e,t,n,o){o=o||On.groups;const r=this;if(t&&t.j)return r.j[e]=t,t;const s=t;let i,a=r.go(e);if(a?(i=new On,Object.assign(i.j,a.j),i.jr.push.apply(i.jr,a.jr),i.jd=a.jd,i.t=a.t):i=new On,s){if(o)if(i.t&&typeof i.t=="string"){const l=Object.assign(v6(i.t,o),n);Gr(s,l,o)}else n&&Gr(s,n,o);i.t=s}return r.j[e]=i,i}};const nt=(e,t,n,o,r)=>e.ta(t,n,o,r),Nt=(e,t,n,o,r)=>e.tr(t,n,o,r),xg=(e,t,n,o,r)=>e.ts(t,n,o,r),ve=(e,t,n,o,r)=>e.tt(t,n,o,r),Ro="WORD",af="UWORD",Ab="ASCIINUMERICAL",Mb="ALPHANUMERICAL",ca="LOCALHOST",lf="TLD",cf="UTLD",hl="SCHEME",xs="SLASH_SCHEME",xp="NUM",uf="WS",Ap="NL",Hi="OPENBRACE",zi="CLOSEBRACE",Wl="OPENBRACKET",ql="CLOSEBRACKET",Gl="OPENPAREN",Jl="CLOSEPAREN",Yl="OPENANGLEBRACKET",Zl="CLOSEANGLEBRACKET",Xl="FULLWIDTHLEFTPAREN",Ql="FULLWIDTHRIGHTPAREN",ec="LEFTCORNERBRACKET",tc="RIGHTCORNERBRACKET",nc="LEFTWHITECORNERBRACKET",oc="RIGHTWHITECORNERBRACKET",rc="FULLWIDTHLESSTHAN",sc="FULLWIDTHGREATERTHAN",ic="AMPERSAND",ac="APOSTROPHE",lc="ASTERISK",fr="AT",cc="BACKSLASH",uc="BACKTICK",dc="CARET",gr="COLON",Mp="COMMA",fc="DOLLAR",fo="DOT",pc="EQUALS",Tp="EXCLAMATION",Hn="HYPHEN",Fi="PERCENT",hc="PIPE",mc="PLUS",gc="POUND",ji="QUERY",Ep="QUOTE",Tb="FULLWIDTHMIDDLEDOT",$p="SEMI",po="SLASH",Ui="TILDE",vc="UNDERSCORE",Eb="EMOJI",yc="SYM";var $b=Object.freeze({__proto__:null,ALPHANUMERICAL:Mb,AMPERSAND:ic,APOSTROPHE:ac,ASCIINUMERICAL:Ab,ASTERISK:lc,AT:fr,BACKSLASH:cc,BACKTICK:uc,CARET:dc,CLOSEANGLEBRACKET:Zl,CLOSEBRACE:zi,CLOSEBRACKET:ql,CLOSEPAREN:Jl,COLON:gr,COMMA:Mp,DOLLAR:fc,DOT:fo,EMOJI:Eb,EQUALS:pc,EXCLAMATION:Tp,FULLWIDTHGREATERTHAN:sc,FULLWIDTHLEFTPAREN:Xl,FULLWIDTHLESSTHAN:rc,FULLWIDTHMIDDLEDOT:Tb,FULLWIDTHRIGHTPAREN:Ql,HYPHEN:Hn,LEFTCORNERBRACKET:ec,LEFTWHITECORNERBRACKET:nc,LOCALHOST:ca,NL:Ap,NUM:xp,OPENANGLEBRACKET:Yl,OPENBRACE:Hi,OPENBRACKET:Wl,OPENPAREN:Gl,PERCENT:Fi,PIPE:hc,PLUS:mc,POUND:gc,QUERY:ji,QUOTE:Ep,RIGHTCORNERBRACKET:tc,RIGHTWHITECORNERBRACKET:oc,SCHEME:hl,SEMI:$p,SLASH:po,SLASH_SCHEME:xs,SYM:yc,TILDE:Ui,TLD:lf,UNDERSCORE:vc,UTLD:cf,UWORD:af,WORD:Ro,WS:uf});const $o=/[a-z]/,fi=new RegExp("\\p{L}","u"),td=new RegExp("\\p{Emoji}","u"),Oo=/\d/,nd=/\s/,Ag="\r",od=`
`,y6="",b6="",rd="";let Ga=null,Ja=null;function w6(e=[]){const t={};On.groups=t;const n=new On;Ga==null&&(Ga=Mg(f6)),Ja==null&&(Ja=Mg(p6)),ve(n,"'",ac),ve(n,"{",Hi),ve(n,"}",zi),ve(n,"[",Wl),ve(n,"]",ql),ve(n,"(",Gl),ve(n,")",Jl),ve(n,"<",Yl),ve(n,">",Zl),ve(n,"",Xl),ve(n,"",Ql),ve(n,"",ec),ve(n,"",tc),ve(n,"",nc),ve(n,"",oc),ve(n,"",rc),ve(n,"",sc),ve(n,"&",ic),ve(n,"*",lc),ve(n,"@",fr),ve(n,"`",uc),ve(n,"^",dc),ve(n,":",gr),ve(n,",",Mp),ve(n,"$",fc),ve(n,".",fo),ve(n,"=",pc),ve(n,"!",Tp),ve(n,"-",Hn),ve(n,"%",Fi),ve(n,"|",hc),ve(n,"+",mc),ve(n,"#",gc),ve(n,"?",ji),ve(n,'"',Ep),ve(n,"/",po),ve(n,";",$p),ve(n,"~",Ui),ve(n,"_",vc),ve(n,"\\",cc),ve(n,"",Tb);const o=Nt(n,Oo,xp,{[nf]:!0});Nt(o,Oo,o);const r=Nt(o,$o,Ab,{[Bi]:!0}),s=Nt(o,fi,Mb,{[wi]:!0}),i=Nt(n,$o,Ro,{[of]:!0});Nt(i,Oo,r),Nt(i,$o,i),Nt(r,Oo,r),Nt(r,$o,r);const a=Nt(n,fi,af,{[rf]:!0});Nt(a,$o),Nt(a,Oo,s),Nt(a,fi,a),Nt(s,Oo,s),Nt(s,$o),Nt(s,fi,s);const l=ve(n,od,Ap,{[ed]:!0}),c=ve(n,Ag,uf,{[ed]:!0}),u=Nt(n,nd,uf,{[ed]:!0});ve(n,rd,u),ve(c,od,l),ve(c,rd,u),Nt(c,nd,u),ve(u,Ag),ve(u,od),Nt(u,nd,u),ve(u,rd,u);const d=Nt(n,td,Eb,{[xb]:!0});ve(d,"#"),Nt(d,td,d),ve(d,y6,d);const f=ve(d,b6);ve(f,"#"),Nt(f,td,d);const p=[[$o,i],[Oo,r]],h=[[$o,null],[fi,a],[Oo,s]];for(let m=0;m<Ga.length;m++)sr(n,Ga[m],lf,Ro,p);for(let m=0;m<Ja.length;m++)sr(n,Ja[m],cf,af,h);Gr(lf,{tld:!0,ascii:!0},t),Gr(cf,{utld:!0,alpha:!0},t),sr(n,"file",hl,Ro,p),sr(n,"mailto",hl,Ro,p),sr(n,"http",xs,Ro,p),sr(n,"https",xs,Ro,p),sr(n,"ftp",xs,Ro,p),sr(n,"ftps",xs,Ro,p),Gr(hl,{scheme:!0,ascii:!0},t),Gr(xs,{slashscheme:!0,ascii:!0},t),e=e.sort((m,v)=>m[0]>v[0]?1:-1);for(let m=0;m<e.length;m++){const v=e[m][0],y=e[m][1]?{[h6]:!0}:{[m6]:!0};v.indexOf("-")>=0?y[sf]=!0:$o.test(v)?Oo.test(v)?y[Bi]=!0:y[of]=!0:y[nf]=!0,xg(n,v,v,y)}return xg(n,"localhost",ca,{ascii:!0}),n.jd=new On(yc),{start:n,tokens:Object.assign({groups:t},$b)}}function Ob(e,t){const n=k6(t.replace(/[A-Z]/g,a=>a.toLowerCase())),o=n.length,r=[];let s=0,i=0;for(;i<o;){let a=e,l=null,c=0,u=null,d=-1,f=-1;for(;i<o&&(l=a.go(n[i]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[i].length,f++),c+=n[i].length,s+=n[i].length,i++;s-=d,i-=f,c-=d,r.push({t:u.t,v:t.slice(s-c,s),s:s-c,e:s})}return r}function k6(e){const t=[],n=e.length;let o=0;for(;o<n;){let r=e.charCodeAt(o),s,i=r<55296||r>56319||o+1===n||(s=e.charCodeAt(o+1))<56320||s>57343?e[o]:e.slice(o,o+2);t.push(i),o+=i.length}return t}function sr(e,t,n,o,r){let s;const i=t.length;for(let a=0;a<i-1;a++){const l=t[a];e.j[l]?s=e.j[l]:(s=new On(o),s.jr=r.slice(),e.j[l]=s),e=s}return s=new On(n),s.jr=r.slice(),e.j[t[i-1]]=s,s}function Mg(e){const t=[],n=[];let o=0,r="0123456789";for(;o<e.length;){let s=0;for(;r.indexOf(e[o+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let i=parseInt(e.substring(o,o+s),10);i>0;i--)n.pop();o+=s}else n.push(e[o]),o++}return t}const ua={defaultProtocol:"http",events:null,format:Tg,formatHref:Tg,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Op(e,t=null){let n=Object.assign({},ua);e&&(n=Object.assign(n,e instanceof Op?e.o:e));const o=n.ignoreTags,r=[];for(let s=0;s<o.length;s++)r.push(o[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=r}Op.prototype={o:ua,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const o=t!=null;let r=this.o[e];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:ua[e],typeof r=="function"&&o&&(r=r(t,n))):typeof r=="function"&&o&&(r=r(t,n.t,n)),r)},getObj(e,t,n){let o=this.o[e];return typeof o=="function"&&t!=null&&(o=o(t,n.t,n)),o},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Tg(e){return e}function Db(e,t){this.t="token",this.v=e,this.tk=t}Db.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),o=e.get("format",t,this);return n&&o.length>n?o.substring(0,n)+"":o},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=ua.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),o=e.get("formatHref",n,this),r=e.get("tagName",n,t),s=this.toFormattedString(e),i={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return i.href=o,a&&(i.class=a),l&&(i.target=l),c&&(i.rel=c),u&&Object.assign(i,u),{tagName:r,attributes:i,content:s,eventListeners:d}}};function iu(e,t){class n extends Db{constructor(r,s){super(r,s),this.t=e}}for(const o in t)n.prototype[o]=t[o];return n.t=e,n}const Eg=iu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),$g=iu("text"),C6=iu("nl"),Ya=iu("url",{isLink:!0,toHref(e=ua.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==ca&&e[1].t===gr}}),Bn=e=>new On(e);function S6({groups:e}){const t=e.domain.concat([ic,lc,fr,cc,uc,dc,fc,pc,Hn,xp,Fi,hc,mc,gc,po,yc,Ui,vc]),n=[ac,gr,Mp,fo,Tp,Fi,ji,Ep,$p,Yl,Zl,Hi,zi,ql,Wl,Gl,Jl,Xl,Ql,ec,tc,nc,oc,rc,sc],o=[ic,ac,lc,cc,uc,dc,fc,pc,Hn,Hi,zi,Fi,hc,mc,gc,ji,po,yc,Ui,vc],r=Bn(),s=ve(r,Ui);nt(s,o,s),nt(s,e.domain,s);const i=Bn(),a=Bn(),l=Bn();nt(r,e.domain,i),nt(r,e.scheme,a),nt(r,e.slashscheme,l),nt(i,o,s),nt(i,e.domain,i);const c=ve(i,fr);ve(s,fr,c),ve(a,fr,c),ve(l,fr,c);const u=ve(s,fo);nt(u,o,s),nt(u,e.domain,s);const d=Bn();nt(c,e.domain,d),nt(d,e.domain,d);const f=ve(d,fo);nt(f,e.domain,d);const p=Bn(Eg);nt(f,e.tld,p),nt(f,e.utld,p),ve(c,ca,p);const h=ve(d,Hn);ve(h,Hn,h),nt(h,e.domain,d),nt(p,e.domain,d),ve(p,fo,f),ve(p,Hn,h);const m=ve(p,gr);nt(m,e.numeric,Eg);const v=ve(i,Hn),y=ve(i,fo);ve(v,Hn,v),nt(v,e.domain,i),nt(y,o,s),nt(y,e.domain,i);const w=Bn(Ya);nt(y,e.tld,w),nt(y,e.utld,w),nt(w,e.domain,i),nt(w,o,s),ve(w,fo,y),ve(w,Hn,v),ve(w,fr,c);const k=ve(w,gr),S=Bn(Ya);nt(k,e.numeric,S);const M=Bn(Ya),L=Bn();nt(M,t,M),nt(M,n,L),nt(L,t,M),nt(L,n,L),ve(w,po,M),ve(S,po,M);const N=ve(a,gr),V=ve(l,gr),_=ve(V,po),G=ve(_,po);nt(a,e.domain,i),ve(a,fo,y),ve(a,Hn,v),nt(l,e.domain,i),ve(l,fo,y),ve(l,Hn,v),nt(N,e.domain,M),ve(N,po,M),ve(N,ji,M),nt(G,e.domain,M),nt(G,t,M),ve(G,po,M);const te=[[Hi,zi],[Wl,ql],[Gl,Jl],[Yl,Zl],[Xl,Ql],[ec,tc],[nc,oc],[rc,sc]];for(let Y=0;Y<te.length;Y++){const[q,$]=te[Y],F=ve(M,q);ve(L,q,F),ve(F,$,M);const E=Bn(Ya);nt(F,t,E);const T=Bn();nt(F,n),nt(E,t,E),nt(E,n,T),nt(T,t,E),nt(T,n,T),ve(E,$,M),ve(T,$,M)}return ve(r,ca,w),ve(r,Ap,C6),{start:r,tokens:$b}}function x6(e,t,n){let o=n.length,r=0,s=[],i=[];for(;r<o;){let a=e,l=null,c=null,u=0,d=null,f=-1;for(;r<o&&!(l=a.go(n[r].t));)i.push(n[r++]);for(;r<o&&(c=l||a.go(n[r].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,r++,u++;if(f<0)r-=u,r<o&&(i.push(n[r]),r++);else{i.length>0&&(s.push(sd($g,t,i)),i=[]),r-=f,u-=f;const p=d.t,h=n.slice(r-u,r);s.push(sd(p,t,h))}}return i.length>0&&s.push(sd($g,t,i)),s}function sd(e,t,n){const o=n[0].s,r=n[n.length-1].e,s=t.slice(o,r);return new e(s,n)}const A6=typeof console<"u"&&console&&console.warn||(()=>{}),M6="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",$t={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function T6(){return On.groups={},$t.scanner=null,$t.parser=null,$t.tokenQueue=[],$t.pluginQueue=[],$t.customSchemes=[],$t.initialized=!1,$t}function Og(e,t=!1){if($t.initialized&&A6(`linkifyjs: already initialized - will not register custom scheme "${e}" ${M6}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);$t.customSchemes.push([e,t])}function E6(){$t.scanner=w6($t.customSchemes);for(let e=0;e<$t.tokenQueue.length;e++)$t.tokenQueue[e][1]({scanner:$t.scanner});$t.parser=S6($t.scanner.tokens);for(let e=0;e<$t.pluginQueue.length;e++)$t.pluginQueue[e][1]({scanner:$t.scanner,parser:$t.parser});return $t.initialized=!0,$t}function Dp(e){return $t.initialized||E6(),x6($t.parser.start,e,Ob($t.scanner.start,e))}Dp.scan=Ob;function Rb(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const o=new Op(n),r=Dp(e),s=[];for(let i=0;i<r.length;i++){const a=r[i];a.isLink&&(!t||a.t===t)&&o.check(a)&&s.push(a.toFormattedObject(o))}return s}var Rp="[\0- -\u2029]",$6=new RegExp(Rp),O6=new RegExp(`${Rp}$`),D6=new RegExp(Rp,"g");function R6(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function N6(e){return new Ot({key:new Pt("autolink"),appendTransaction:(t,n,o)=>{const r=t.some(l=>l.docChanged)&&!n.doc.eq(o.doc),s=t.some(l=>l.getMeta("preventAutolink"));if(!r||s)return;const{tr:i}=o,a=Y0(n.doc,[...t]);if(rb(a).forEach(({newRange:l})=>{const c=N4(o.doc,l,f=>f.isTextblock);let u,d;if(c.length>1)u=c[0],d=o.doc.textBetween(u.pos,u.pos+u.node.nodeSize,void 0," ");else if(c.length){const f=o.doc.textBetween(l.from,l.to," "," ");if(!O6.test(f))return;u=c[0],d=o.doc.textBetween(u.pos,l.to,void 0," ")}if(u&&d){const f=d.split($6).filter(Boolean);if(f.length<=0)return!1;const p=f[f.length-1],h=u.pos+d.lastIndexOf(p);if(!p)return!1;const m=Dp(p).map(v=>v.toObject(e.defaultProtocol));if(!R6(m))return!1;m.filter(v=>v.isLink).map(v=>({...v,from:h+v.start+1,to:h+v.end+1})).filter(v=>o.schema.marks.code?!o.doc.rangeHasMark(v.from,v.to,o.schema.marks.code):!0).filter(v=>e.validate(v.value)).filter(v=>e.shouldAutoLink(v.value)).forEach(v=>{bp(v.from,v.to,o.doc).some(y=>y.mark.type===e.type)||i.addMark(v.from,v.to,e.type.create({href:v.href}))})}}),!!i.steps.length)return i}})}function I6(e){return new Ot({key:new Pt("handleClickLink"),props:{handleClick:(t,n,o)=>{var r,s;if(o.button!==0||!t.editable)return!1;let i=null;if(o.target instanceof HTMLAnchorElement)i=o.target;else{let u=o.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;i=d.find(f=>f.nodeName==="A")}if(!i)return!1;const a=ob(t.state,e.type.name),l=(r=i?.href)!=null?r:a.href,c=(s=i?.target)!=null?s:a.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),i&&l?(window.open(l,c),!0):!1}}})}function L6(e){return new Ot({key:new Pt("handlePasteLink"),props:{handlePaste:(t,n,o)=>{const{shouldAutoLink:r}=e,{state:s}=t,{selection:i}=s,{empty:a}=i;if(a)return!1;let l="";o.content.forEach(u=>{l+=u.textContent});const c=Rb(l,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||r!==void 0&&!r(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function zr(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(o=>{const r=typeof o=="string"?o:o.scheme;r&&n.push(r)}),!e||e.replace(D6,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var P6=er.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){Og(e);return}Og(e.scheme,e.optionalSlashes)})},onDestroy(){T6()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!zr(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!zr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!zr(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",it(this.options.HTMLAttributes,e),0]:["a",it(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const o=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${o})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:o=>!!zr(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:o=>!!zr(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Rr({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:o}=this.options,r=Rb(e).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:i=>!!zr(i,n),protocols:n,defaultProtocol:o}));r.length&&r.forEach(s=>{this.options.shouldAutoLink(s.value)&&t.push({text:s.value,data:{href:s.href},index:s.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(N6({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o=>this.options.isAllowedUri(o,{defaultValidate:r=>!!zr(r,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(I6({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(L6({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),V6=Object.defineProperty,_6=(e,t)=>{for(var n in t)V6(e,n,{get:t[n],enumerable:!0})},B6="listItem",Dg="textStyle",Rg=/^\s*([-+*])\s$/,Nb=kt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",it(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(B6,this.editor.getAttributes(Dg)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=qs({find:Rg,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=qs({find:Rg,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Dg),editor:this.editor})),[e]}}),Ib=kt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",it(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(o=>o.type==="paragraph"))n=t.parseChildren(e.tokens);else{const o=e.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(o.tokens)}],e.tokens.length>1){const r=e.tokens.slice(1),s=t.parseChildren(r);n.push(...s)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>Sp(e,t,o=>o.parentType==="bulletList"?"- ":o.parentType==="orderedList"?`${o.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),H6={};_6(H6,{findListItemPos:()=>Ea,getNextListDepth:()=>Np,handleBackspace:()=>df,handleDelete:()=>ff,hasListBefore:()=>Lb,hasListItemAfter:()=>z6,hasListItemBefore:()=>Pb,listItemHasSubList:()=>Vb,nextListIsDeeper:()=>_b,nextListIsHigher:()=>Bb});var Ea=(e,t)=>{const{$from:n}=t.selection,o=zt(e,t.schema);let r=null,s=n.depth,i=n.pos,a=null;for(;s>0&&a===null;)r=n.node(s),r.type===o?a=s:(s-=1,i-=1);return a===null?null:{$pos:t.doc.resolve(i),depth:a}},Np=(e,t)=>{const n=Ea(e,t);if(!n)return!1;const[,o]=F4(t,e,n.$pos.pos+4);return o},Lb=(e,t,n)=>{const{$anchor:o}=e.selection,r=Math.max(0,o.pos-2),s=e.doc.resolve(r).node();return!(!s||!n.includes(s.type.name))},Pb=(e,t)=>{var n;const{$anchor:o}=t.selection,r=t.doc.resolve(o.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==e)},Vb=(e,t,n)=>{if(!n)return!1;const o=zt(e,t.schema);let r=!1;return n.descendants(s=>{s.type===o&&(r=!0)}),r},df=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Dr(e.state,t)&&Lb(e.state,t,n)){const{$anchor:i}=e.state.selection,a=e.state.doc.resolve(i.before()-1),l=[];a.node().descendants((d,f)=>{d.type.name===t&&l.push({node:d,pos:f})});const c=l.at(-1);if(!c)return!1;const u=e.state.doc.resolve(a.start()+c.pos+1);return e.chain().cut({from:i.start()-1,to:i.end()+1},u.end()).joinForward().run()}if(!Dr(e.state,t)||!W4(e.state))return!1;const o=Ea(t,e.state);if(!o)return!1;const r=e.state.doc.resolve(o.$pos.pos-2).node(o.depth),s=Vb(t,e.state,r);return Pb(t,e.state)&&!s?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},_b=(e,t)=>{const n=Np(e,t),o=Ea(e,t);return!o||!n?!1:n>o.depth},Bb=(e,t)=>{const n=Np(e,t),o=Ea(e,t);return!o||!n?!1:n<o.depth},ff=(e,t)=>{if(!Dr(e.state,t)||!K4(e.state,t))return!1;const{selection:n}=e.state,{$from:o,$to:r}=n;return!n.empty&&o.sameParent(r)?!1:_b(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():Bb(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},z6=(e,t)=>{var n;const{$anchor:o}=t.selection,r=t.doc.resolve(o.pos-o.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==e)},Hb=mt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&ff(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&ff(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:o})=>{e.state.schema.nodes[n]!==void 0&&df(e,n,o)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:o})=>{e.state.schema.nodes[n]!==void 0&&df(e,n,o)&&(t=!0)}),t}}}}),Ng=/^(\s*)(\d+)\.\s+(.*)$/,F6=/^\s/;function j6(e){const t=[];let n=0,o=0;for(;n<e.length;){const r=e[n],s=r.match(Ng);if(!s)break;const[,i,a,l]=s,c=i.length;let u=l,d=n+1;const f=[r];for(;d<e.length;){const p=e[d];if(p.match(Ng))break;if(p.trim()==="")f.push(p),u+=`
`,d+=1;else if(p.match(F6))f.push(p),u+=`
${p.slice(c+2)}`,d+=1;else break}t.push({indent:c,number:parseInt(a,10),content:u.trim(),raw:f.join(`
`)}),o=d,n=d}return[t,o]}function zb(e,t,n){var o;const r=[];let s=0;for(;s<e.length;){const i=e[s];if(i.indent===t){const a=i.content.split(`
`),l=((o=a[0])==null?void 0:o.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=a.slice(1).join(`
`).trim();if(u){const p=n.blockTokens(u);c.push(...p)}let d=s+1;const f=[];for(;d<e.length&&e[d].indent>t;)f.push(e[d]),d+=1;if(f.length>0){const p=Math.min(...f.map(m=>m.indent)),h=zb(f,p,n);c.push({type:"list",ordered:!0,start:f[0].number,items:h,raw:f.map(m=>m.raw).join(`
`)})}r.push({type:"list_item",raw:i.raw,tokens:c}),s=d}else s+=1}return r}function U6(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const o=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(r=>{if(r.type==="paragraph"||r.type==="list"||r.type==="blockquote"||r.type==="code")o.push(...t.parseChildren([r]));else if(r.type==="text"&&r.tokens){const s=t.parseChildren([r]);o.push({type:"paragraph",content:s})}else{const s=t.parseChildren([r]);s.length>0&&o.push(...s)}}),{type:"listItem",content:o}})}var K6="listItem",Ig="textStyle",Lg=/^(\d+)\.\s$/,Fb=kt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",it(this.options.HTMLAttributes,n),0]:["ol",it(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,o=e.items?U6(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:o}:{type:"orderedList",content:o}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t?.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var o;const r=e.split(`
`),[s,i]=j6(r);if(s.length===0)return;const a=zb(s,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((o=s[0])==null?void 0:o.number)||1,items:a,raw:r.slice(0,i).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(K6,this.editor.getAttributes(Ig)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=qs({find:Lg,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=qs({find:Lg,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Ig)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),W6=/^\s*(\[([( |x])?\])\s$/,q6=kt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",it(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const o=t.parseChildren(e.nestedTokens);n.push(...o)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const o=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return Sp(e,t,o)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:o})=>{const r=document.createElement("li"),s=document.createElement("label"),i=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,f;a.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(e),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!o.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;o.isEditable&&typeof n=="function"&&o.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=n();if(typeof p!="number")return!1;const h=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...h?.attrs,checked:d}),!0}).run(),!o.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{r.setAttribute(u,d)}),r.dataset.checked=e.attrs.checked,a.checked=e.attrs.checked,s.append(a,i),r.append(s,l),Object.entries(t).forEach(([u,d])=>{r.setAttribute(u,d)}),{dom:r,contentDOM:l,update:u=>u.type!==this.type?!1:(r.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[qs({find:W6,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),G6=kt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",it(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const o=s=>{const i=tf(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:o},n);return i?[{type:"taskList",raw:i.raw,items:i.items}]:n.blockTokens(s)},r=tf(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,i)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:i}),customNestedParser:o},n);if(r)return{type:"taskList",raw:r.raw,items:r.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});mt.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(Nb.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(Ib.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(Hb.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(Fb.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(q6.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(G6.configure(this.options.taskList)),e}});var J6=kt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",it(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Y6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Z6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,X6=er.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",it(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[as({find:Y6,type:this.type})]},addPasteRules(){return[Rr({find:Z6,type:this.type})]}}),Q6=kt.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),e8=er.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",it(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!o)return;const r=o[2].trim();return{type:"underline",raw:o[0],text:r,tokens:n.inlineTokens(r)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function t8(e={}){return new Ot({view(t){return new n8(t,e)}})}class n8{constructor(t,n){var o;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=i=>{this[r](i)};return t.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,o,r=this.editorView.dom,s=r.getBoundingClientRect(),i=s.width/r.offsetWidth,a=s.height/r.offsetHeight;if(n){let d=t.nodeBefore,f=t.nodeAfter;if(d||f){let p=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(p){let h=p.getBoundingClientRect(),m=d?h.bottom:h.top;d&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*a;o={left:h.left,right:h.right,top:m-v,bottom:m+v}}}}if(!o){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*i;o={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,p=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*p}this.element.style.left=(o.left-c)/i+"px",this.element.style.top=(o.top-u)/a+"px",this.element.style.width=(o.right-o.left)/i+"px",this.element.style.height=(o.bottom-o.top)/a+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,t):r;if(n&&!s){let i=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Fy(this.editorView.state.doc,i,this.editorView.dragging.slice);a!=null&&(i=a)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class It extends We{constructor(t){super(t,t)}map(t,n){let o=t.resolve(n.map(this.head));return It.valid(o)?new It(o):We.near(o)}content(){return xe.empty}eq(t){return t instanceof It&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new It(t.resolve(n.pos))}getBookmark(){return new Ip(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!o8(t)||!r8(t))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,n,o=!1){e:for(;;){if(!o&&It.valid(t))return t;let r=t.pos,s=null;for(let i=t.depth;;i--){let a=t.node(i);if(n>0?t.indexAfter(i)<a.childCount:t.index(i)>0){s=a.child(n>0?t.indexAfter(i):t.index(i)-1);break}else if(i==0)return null;r+=n;let l=t.doc.resolve(r);if(It.valid(l))return l}for(;;){let i=n>0?s.firstChild:s.lastChild;if(!i){if(s.isAtom&&!s.isText&&!He.isSelectable(s)){t=t.doc.resolve(r+s.nodeSize*n),o=!1;continue e}break}s=i,r+=n;let a=t.doc.resolve(r);if(It.valid(a))return a}return null}}}It.prototype.visible=!1;It.findFrom=It.findGapCursorFrom;We.jsonID("gapcursor",It);class Ip{constructor(t){this.pos=t}map(t){return new Ip(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return It.valid(n)?new It(n):We.near(n)}}function jb(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function o8(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),o=e.node(t);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||jb(r.type))return!0;if(r.inlineContent)return!1}}return!0}function r8(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),o=e.node(t);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||jb(r.type))return!0;if(r.inlineContent)return!1}}return!0}function s8(){return new Ot({props:{decorations:c8,createSelectionBetween(e,t,n){return t.pos==n.pos&&It.valid(n)?new It(n):null},handleClick:a8,handleKeyDown:i8,handleDOMEvents:{beforeinput:l8}}})}const i8=dp({ArrowLeft:Za("horiz",-1),ArrowRight:Za("horiz",1),ArrowUp:Za("vert",-1),ArrowDown:Za("vert",1)});function Za(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(o,r,s){let i=o.selection,a=t>0?i.$to:i.$from,l=i.empty;if(i instanceof je){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=o.doc.resolve(t>0?a.after():a.before())}let c=It.findGapCursorFrom(a,t,l);return c?(r&&r(o.tr.setSelection(new It(c))),!0):!1}}function a8(e,t,n){if(!e||!e.editable)return!1;let o=e.state.doc.resolve(t);if(!It.valid(o))return!1;let r=e.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&He.isSelectable(e.state.doc.nodeAt(r.inside))?!1:(e.dispatch(e.state.tr.setSelection(new It(o))),!0)}function l8(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof It))return!1;let{$from:n}=e.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!o)return!1;let r=he.empty;for(let i=o.length-1;i>=0;i--)r=he.from(o[i].createAndFill(null,r));let s=e.state.tr.replace(n.pos,n.pos,new xe(r,0,0));return s.setSelection(je.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function c8(e){if(!(e.selection instanceof It))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Tt.create(e.doc,[Yt.widget(e.selection.head,t,{key:"gapcursor"})])}var bc=200,en=function(){};en.prototype.append=function(e){return e.length?(e=en.from(e),!this.length&&e||e.length<bc&&this.leafAppend(e)||this.length<bc&&e.leafPrepend(this)||this.appendInner(e)):this};en.prototype.prepend=function(e){return e.length?en.from(e).append(this):this};en.prototype.appendInner=function(e){return new u8(this,e)};en.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?en.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};en.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};en.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};en.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var o=[];return this.forEach(function(r,s){return o.push(e(r,s))},t,n),o};en.from=function(e){return e instanceof en?e:e&&e.length?new Ub(e):en.empty};var Ub=(function(e){function t(o){e.call(this),this.values=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,r){return o==0&&r==this.length?this:new t(this.values.slice(o,r))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,r,s,i){for(var a=r;a<s;a++)if(o(this.values[a],i+a)===!1)return!1},t.prototype.forEachInvertedInner=function(o,r,s,i){for(var a=r-1;a>=s;a--)if(o(this.values[a],i+a)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=bc)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=bc)return new t(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(en);en.empty=new Ub([]);var u8=(function(e){function t(n,o){e.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,o,r,s){var i=this.left.length;if(o<i&&this.left.forEachInner(n,o,Math.min(r,i),s)===!1||r>i&&this.right.forEachInner(n,Math.max(o-i,0),Math.min(this.length,r)-i,s+i)===!1)return!1},t.prototype.forEachInvertedInner=function(n,o,r,s){var i=this.left.length;if(o>i&&this.right.forEachInvertedInner(n,o-i,Math.max(r,i)-i,s+i)===!1||r<i&&this.left.forEachInvertedInner(n,Math.min(o,i),r,s)===!1)return!1},t.prototype.sliceInner=function(n,o){if(n==0&&o==this.length)return this;var r=this.left.length;return o<=r?this.left.slice(n,o):n>=r?this.right.slice(n-r,o-r):this.left.slice(n,r).append(this.right.slice(0,o-r))},t.prototype.leafAppend=function(n){var o=this.right.leafAppend(n);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(n){var o=this.left.leafPrepend(n);if(o)return new t(o,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t})(en);const d8=500;class Zn{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,s;n&&(r=this.remapping(o,this.items.length),s=r.maps.length);let i=t.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){r||(r=this.remapping(o,f+1),s=r.maps.length),s--,u.push(d);return}if(r){u.push(new ho(d.map));let p=d.step.map(r.slice(s)),h;p&&i.maybeStep(p).doc&&(h=i.mapping.maps[i.mapping.maps.length-1],c.push(new ho(h,void 0,void 0,c.length+u.length))),s--,h&&r.appendMap(h,s)}else i.maybeStep(d.step);if(d.selection)return a=r?d.selection.map(r.slice(s)):d.selection,l=new Zn(this.items.slice(0,o).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:i,selection:a}}addTransform(t,n,o,r){let s=[],i=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new ho(t.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(i++,n=void 0),r||(l=f)}let c=i-o.depth;return c>p8&&(a=f8(a,c),i-=c),new Zn(a.append(s),i)}remapping(t,n){let o=new oa;return this.items.forEach((r,s)=>{let i=r.mirrorOffset!=null&&s-r.mirrorOffset>=t?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,i)},t,n),o}addMaps(t){return this.eventCount==0?this:new Zn(this.items.append(t.map(n=>new ho(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),s=t.mapping,i=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},r);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;i=Math.min(i,p);let h=s.maps[p];if(f.step){let m=t.steps[p].invert(t.docs[p]),v=f.selection&&f.selection.map(s.slice(l+1,p));v&&a++,o.push(new ho(h,m,v))}else o.push(new ho(h))},r);let c=[];for(let f=n;f<i;f++)c.push(new ho(s.maps[f]));let u=this.items.slice(0,r).append(c).append(o),d=new Zn(u,a);return d.emptyItemCount()>d8&&(d=d.compress(this.items.length-o.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),o=n.maps.length,r=[],s=0;return this.items.forEach((i,a)=>{if(a>=t)r.push(i),i.selection&&s++;else if(i.step){let l=i.step.map(n.slice(o)),c=l&&l.getMap();if(o--,c&&n.appendMap(c,o),l){let u=i.selection&&i.selection.map(n.slice(o));u&&s++;let d=new ho(c.invert(),l,u),f,p=r.length-1;(f=r.length&&r[p].merge(d))?r[p]=f:r.push(d)}}else i.map&&o--},this.items.length,0),new Zn(en.from(r.reverse()),s)}}Zn.empty=new Zn(en.empty,0);function f8(e,t){let n;return e.forEach((o,r)=>{if(o.selection&&t--==0)return n=r,!1}),e.slice(n)}class ho{constructor(t,n,o,r){this.map=t,this.step=n,this.selection=o,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new ho(n.getMap().invert(),n,this.selection)}}}class pr{constructor(t,n,o,r,s){this.done=t,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=s}}const p8=20;function h8(e,t,n,o){let r=n.getMeta(ts),s;if(r)return r.historyState;n.getMeta(v8)&&(e=new pr(e.done,e.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(i&&i.getMeta(ts))return i.getMeta(ts).redo?new pr(e.done.addTransform(n,void 0,o,ml(t)),e.undone,Pg(n.mapping.maps),e.prevTime,e.prevComposition):new pr(e.done,e.undone.addTransform(n,void 0,o,ml(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!i&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-o.newGroupDelay||!m8(n,e.prevRanges)),c=i?id(e.prevRanges,n.mapping):Pg(n.mapping.maps);return new pr(e.done.addTransform(n,l?t.selection.getBookmark():void 0,o,ml(t)),Zn.empty,c,n.time,a??e.prevComposition)}else return(s=n.getMeta("rebased"))?new pr(e.done.rebased(n,s),e.undone.rebased(n,s),id(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new pr(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),id(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function m8(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((o,r)=>{for(let s=0;s<t.length;s+=2)o<=t[s+1]&&r>=t[s]&&(n=!0)}),n}function Pg(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((o,r,s,i)=>t.push(s,i));return t}function id(e,t){if(!e)return null;let n=[];for(let o=0;o<e.length;o+=2){let r=t.map(e[o],1),s=t.map(e[o+1],-1);r<=s&&n.push(r,s)}return n}function g8(e,t,n){let o=ml(t),r=ts.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,o);if(!s)return null;let i=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),r,o),l=new pr(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(i).setMeta(ts,{redo:n,historyState:l})}let ad=!1,Vg=null;function ml(e){let t=e.plugins;if(Vg!=t){ad=!1,Vg=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){ad=!0;break}}return ad}const ts=new Pt("history"),v8=new Pt("closeHistory");function y8(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Ot({key:ts,state:{init(){return new pr(Zn.empty,Zn.empty,null,0,-1)},apply(t,n,o){return h8(n,o,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let o=n.inputType,r=o=="historyUndo"?Wb:o=="historyRedo"?qb:null;return!r||!t.editable?!1:(n.preventDefault(),r(t.state,t.dispatch))}}}})}function Kb(e,t){return(n,o)=>{let r=ts.getState(n);if(!r||(e?r.undone:r.done).eventCount==0)return!1;if(o){let s=g8(r,n,e);s&&o(s.scrollIntoView())}return!0}}const Wb=Kb(!1),qb=Kb(!0);mt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const n=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(n)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Ot({key:new Pt("characterCount"),appendTransaction:(t,n,o)=>{if(e)return;const r=this.options.limit;if(r==null||r===0){e=!0;return}const s=this.storage.characters({node:o.doc});if(s>r){const i=s-r,a=0,l=i;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const c=o.tr.deleteRange(a,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const o=this.options.limit;if(!t.docChanged||o===0||o===null||o===void 0)return!0;const r=this.storage.characters({node:n.doc}),s=this.storage.characters({node:t.doc});if(s<=o||r>o&&s>o&&s<=r)return!0;if(r>o&&s>o&&s>r||!t.getMeta("paste"))return!1;const i=t.selection.$head.pos,a=s-o,l=i-a,c=i;return t.deleteRange(l,c),!(this.storage.characters({node:t.doc})>o)}})]}});var b8=mt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[t8(this.options)]}});mt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ot({key:new Pt("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:o}=this.editor,{anchor:r}=t,s=[];if(!n||!o)return Tt.create(e,[]);let i=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(!l.isText){if(!(r>=c&&r<=c+l.nodeSize-1))return!1;i+=1}});let a=0;return e.descendants((l,c)=>{if(l.isText||!(r>=c&&r<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&i-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(Yt.node(c,c+l.nodeSize,{class:this.options.className}))}),Tt.create(e,s)}}})]}});var w8=mt.create({name:"gapCursor",addProseMirrorPlugins(){return[s8()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=dt(Be(e,"allowGapCursor",n)))!=null?t:null}}});mt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ot({key:new Pt("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=t,r=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((i,a)=>{const l=o>=a&&o<=a+i.nodeSize,c=!i.isLeaf&&ou(i);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=Yt.node(a,a+i.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:a,hasAnchor:l}):this.options.placeholder});r.push(d)}return this.options.includeChildren}),Tt.create(e,r)}}})]}});mt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Ot({key:new Pt("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||sb(n.selection)||e.view.dragging?null:Tt.create(n.doc,[Yt.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function _g({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var k8=mt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Pt(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",o=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(n).includes(r.name));return[new Ot({key:t,appendTransaction:(r,s,i)=>{const{doc:a,tr:l,schema:c}=i,u=t.getState(i),d=a.content.size,f=c.nodes[n];if(u)return l.insert(d,f.create())},state:{init:(r,s)=>{const i=s.tr.doc.lastChild;return!_g({node:i,types:o})},apply:(r,s)=>{if(!r.docChanged||r.getMeta("__uniqueIDTransaction"))return s;const i=r.doc.lastChild;return!_g({node:i,types:o})}}})]}}),C8=mt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>Wb(e,t),redo:()=>({state:e,dispatch:t})=>qb(e,t)}},addProseMirrorPlugins(){return[y8(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),S8=mt.create({name:"starterKit",addExtensions(){var e,t,n,o;const r=[];return this.options.bold!==!1&&r.push(YO.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(KO.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(Nb.configure(this.options.bulletList)),this.options.code!==!1&&r.push(QO.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(n6.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(o6.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(b8.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(w8.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(r6.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(s6.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(C8.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(i6.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(d6.configure(this.options.italic)),this.options.listItem!==!1&&r.push(Ib.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(Hb.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&r.push(P6.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&r.push(Fb.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(J6.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(X6.configure(this.options.strike)),this.options.text!==!1&&r.push(Q6.configure(this.options.text)),this.options.underline!==!1&&r.push(e8.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(k8.configure((o=this.options)==null?void 0:o.trailingNode)),r}}),x8=mt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),A8=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,M8=kt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",it(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,o,r,s,i;const a=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",l=(r=(o=e.attrs)==null?void 0:o.alt)!=null?r:"",c=(i=(s=e.attrs)==null?void 0:s.title)!=null?i:"";return c?`![${l}](${a} "${c}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:o}=this.options.resize;return({node:r,getPos:s,HTMLAttributes:i})=>{const a=document.createElement("img");Object.entries(i).forEach(([u,d])=>{if(d!=null)switch(u){case"width":case"height":break;default:a.setAttribute(u,d);break}}),a.src=i.src;const l=new RO({element:a,node:r,getPos:s,onResize:(u,d)=>{a.style.width=`${u}px`,a.style.height=`${d}px`},onCommit:(u,d)=>{const f=s();f!==void 0&&this.editor.chain().setNodeSelection(f).updateAttributes(this.name,{width:u,height:d}).run()},onUpdate:(u,d,f)=>u.type===r.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:o===!0}}),c=l.dom;return c.style.visibility="hidden",c.style.pointerEvents="none",a.onload=()=>{c.style.visibility="",c.style.pointerEvents=""},l}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[Cb({find:A8,type:this.type,getAttributes:e=>{const[,,t,n,o]=e;return{src:n,alt:t,title:o}}})]}}),T8=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,E8=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,$8=er.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",it(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,n){const o=/^(==)([^=]+)(==)/.exec(e);if(o){const r=o[2].trim(),s=n.inlineTokens(r);return{type:"highlight",raw:o[0],text:r,tokens:s}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[as({find:T8,type:this.type})]},addPasteRules(){return[Rr({find:E8,type:this.type})]}}),O8=20,Gb=(e,t=0)=>{const n=[];return!e.children.length||t>O8||Array.from(e.children).forEach(o=>{o.tagName==="SPAN"?n.push(o):o.children.length&&n.push(...Gb(o,t+1))}),n},D8=e=>{if(!e.children.length)return;const t=Gb(e);t&&t.forEach(n=>{var o,r;const s=n.getAttribute("style"),i=(r=(o=n.parentElement)==null?void 0:o.closest("span"))==null?void 0:r.getAttribute("style");n.setAttribute("style",`${i};${s}`)})},Jb=er.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&D8(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",it(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,o)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(s=>!!s))||e.removeMark(o,o+n.nodeSize,this.type)}),!0}}}}),R8=mt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const o=n.split(";").map(r=>r.trim()).filter(Boolean);for(let r=o.length-1;r>=0;r-=1){const s=o[r].split(":");if(s.length>=2){const i=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(i==="background-color")return a.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Yb=mt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const o=n.split(";").map(r=>r.trim()).filter(Boolean);for(let r=o.length-1;r>=0;r-=1){const s=o[r].split(":");if(s.length>=2){const i=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(i==="color")return a.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Zb=mt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),N8=mt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),I8=mt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});mt.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(R8.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(Yb.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(Zb.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(N8.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(I8.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(Jb.configure(this.options.textStyle)),e}});let pf,hf;if(typeof WeakMap<"u"){let e=new WeakMap;pf=t=>e.get(t),hf=(t,n)=>(e.set(t,n),n)}else{const e=[];let t=0;pf=n=>{for(let o=0;o<e.length;o+=2)if(e[o]==n)return e[o+1]},hf=(n,o)=>(t==10&&(t=0),e[t++]=n,e[t++]=o)}var Lt=class{constructor(e,t,n,o){this.width=e,this.height=t,this.map=n,this.problems=o}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const o=t%this.width,r=t/this.width|0;let s=o+1,i=r+1;for(let a=1;s<this.width&&this.map[t+a]==n;a++)s++;for(let a=1;i<this.height&&this.map[t+this.width*a]==n;a++)i++;return{left:o,top:r,right:s,bottom:i}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:o,right:r,top:s,bottom:i}=this.findCell(e);return t=="horiz"?(n<0?o==0:r==this.width)?null:this.map[s*this.width+(n<0?o-1:r)]:(n<0?s==0:i==this.height)?null:this.map[o+this.width*(n<0?s-1:i)]}rectBetween(e,t){const{left:n,right:o,top:r,bottom:s}=this.findCell(e),{left:i,right:a,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,i),top:Math.min(r,l),right:Math.max(o,a),bottom:Math.max(s,c)}}cellsInRect(e){const t=[],n={};for(let o=e.top;o<e.bottom;o++)for(let r=e.left;r<e.right;r++){const s=o*this.width+r,i=this.map[s];n[i]||(n[i]=!0,!(r==e.left&&r&&this.map[s-1]==i||o==e.top&&o&&this.map[s-this.width]==i)&&t.push(i))}return t}positionAt(e,t,n){for(let o=0,r=0;;o++){const s=r+n.child(o).nodeSize;if(o==e){let i=t+e*this.width;const a=(e+1)*this.width;for(;i<a&&this.map[i]<r;)i++;return i==a?s-1:this.map[i]}r=s}}static get(e){return pf(e)||hf(e,L8(e))}};function L8(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=P8(e),n=e.childCount,o=[];let r=0,s=null;const i=[];for(let c=0,u=t*n;c<u;c++)o[c]=0;for(let c=0,u=0;c<n;c++){const d=e.child(c);u++;for(let h=0;;h++){for(;r<o.length&&o[r]!=0;)r++;if(h==d.childCount)break;const m=d.child(h),{colspan:v,rowspan:y,colwidth:w}=m.attrs;for(let k=0;k<y;k++){if(k+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:y-k});break}const S=r+k*t;for(let M=0;M<v;M++){o[S+M]==0?o[S+M]=u:(s||(s=[])).push({type:"collision",row:c,pos:u,n:v-M});const L=w&&w[M];if(L){const N=(S+M)%t*2,V=i[N];V==null||V!=L&&i[N+1]==1?(i[N]=L,i[N+1]=1):V==L&&i[N+1]++}}}r+=v,u+=m.nodeSize}const f=(c+1)*t;let p=0;for(;r<f;)o[r++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:c,n:p}),u++}(t===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const a=new Lt(t,n,o,s);let l=!1;for(let c=0;!l&&c<i.length;c+=2)i[c]!=null&&i[c+1]<n&&(l=!0);return l&&V8(a,i,e),a}function P8(e){let t=-1,n=!1;for(let o=0;o<e.childCount;o++){const r=e.child(o);let s=0;if(n)for(let i=0;i<o;i++){const a=e.child(i);for(let l=0;l<a.childCount;l++){const c=a.child(l);i+c.attrs.rowspan>o&&(s+=c.attrs.colspan)}}for(let i=0;i<r.childCount;i++){const a=r.child(i);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function V8(e,t,n){e.problems||(e.problems=[]);const o={};for(let r=0;r<e.map.length;r++){const s=e.map[r];if(o[s])continue;o[s]=!0;const i=n.nodeAt(s);if(!i)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=i.attrs;for(let c=0;c<l.colspan;c++){const u=t[(r+c)%e.width*2];u!=null&&(!l.colwidth||l.colwidth[c]!=u)&&((a||(a=_8(l)))[c]=u)}a&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function _8(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function yn(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const o=e.nodes[n],r=o.spec.tableRole;r&&(t[r]=o)}}return t}const vr=new Pt("selectingCells");function ni(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function B8(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function io(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function au(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=ni(t.$head)||H8(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function H8(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const o=t.type.spec.tableRole;if(o=="cell"||o=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const o=t.type.spec.tableRole;if(o=="cell"||o=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function mf(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function z8(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function Lp(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Xb(e,t,n){const o=e.node(-1),r=Lt.get(o),s=e.start(-1),i=r.nextCell(e.pos-s,t,n);return i==null?null:e.node(0).resolve(s+i)}function ls(e,t,n=1){const o={...e,colspan:e.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(t,n),o.colwidth.some(r=>r>0)||(o.colwidth=null)),o}function Qb(e,t,n=1){const o={...e,colspan:e.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let r=0;r<n;r++)o.colwidth.splice(t,0,0)}return o}function F8(e,t,n){const o=yn(t.type.schema).header_cell;for(let r=0;r<e.height;r++)if(t.nodeAt(e.map[n+r*e.width]).type!=o)return!1;return!0}var Et=class No extends We{constructor(t,n=t){const o=t.node(-1),r=Lt.get(o),s=t.start(-1),i=r.rectBetween(t.pos-s,n.pos-s),a=t.node(0),l=r.cellsInRect(i).filter(u=>u!=n.pos-s);l.unshift(n.pos-s);const c=l.map(u=>{const d=o.nodeAt(u);if(!d)throw new RangeError(`No cell with offset ${u} found`);const f=s+u+1;return new qy(a.resolve(f),a.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const o=t.resolve(n.map(this.$anchorCell.pos)),r=t.resolve(n.map(this.$headCell.pos));if(mf(o)&&mf(r)&&Lp(o,r)){const s=this.$anchorCell.node(-1)!=o.node(-1);return s&&this.isRowSelection()?No.rowSelection(o,r):s&&this.isColSelection()?No.colSelection(o,r):new No(o,r)}return je.between(o,r)}content(){const t=this.$anchorCell.node(-1),n=Lt.get(t),o=this.$anchorCell.start(-1),r=n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),s={},i=[];for(let l=r.top;l<r.bottom;l++){const c=[];for(let u=l*n.width+r.left,d=r.left;d<r.right;d++,u++){const f=n.map[u];if(s[f])continue;s[f]=!0;const p=n.findCell(f);let h=t.nodeAt(f);if(!h)throw new RangeError(`No cell with offset ${f} found`);const m=r.left-p.left,v=p.right-r.right;if(m>0||v>0){let y=h.attrs;if(m>0&&(y=ls(y,0,m)),v>0&&(y=ls(y,y.colspan-v,v)),p.left<r.left){if(h=h.type.createAndFill(y),!h)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else h=h.type.create(y,h.content)}if(p.top<r.top||p.bottom>r.bottom){const y={...h.attrs,rowspan:Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top)};p.top<r.top?h=h.type.createAndFill(y):h=h.type.create(y,h.content)}c.push(h)}i.push(t.child(l).copy(he.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?t:i;return new xe(he.from(a),1,1)}replace(t,n=xe.empty){const o=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){const{$from:a,$to:l}=r[i],c=t.mapping.slice(o);t.replace(c.map(a.pos),c.map(l.pos),i?xe.empty:n)}const s=We.findFrom(t.doc.resolve(t.mapping.slice(o).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new xe(he.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),o=Lt.get(n),r=this.$anchorCell.start(-1),s=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let i=0;i<s.length;i++)t(n.nodeAt(s[i]),r+s[i])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const o=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const o=t.node(-1),r=Lt.get(o),s=t.start(-1),i=r.findCell(t.pos-s),a=r.findCell(n.pos-s),l=t.node(0);return i.top<=a.top?(i.top>0&&(t=l.resolve(s+r.map[i.left])),a.bottom<r.height&&(n=l.resolve(s+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+r.map[a.left])),i.bottom<r.height&&(t=l.resolve(s+r.map[r.width*(r.height-1)+i.right-1]))),new No(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Lt.get(t),o=this.$anchorCell.start(-1),r=n.colCount(this.$anchorCell.pos-o),s=n.colCount(this.$headCell.pos-o);if(Math.min(r,s)>0)return!1;const i=r+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)==n.width}eq(t){return t instanceof No&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const o=t.node(-1),r=Lt.get(o),s=t.start(-1),i=r.findCell(t.pos-s),a=r.findCell(n.pos-s),l=t.node(0);return i.left<=a.left?(i.left>0&&(t=l.resolve(s+r.map[i.top*r.width])),a.right<r.width&&(n=l.resolve(s+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+r.map[a.top*r.width])),i.right<r.width&&(t=l.resolve(s+r.map[r.width*(i.top+1)-1]))),new No(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new No(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,o=n){return new No(t.resolve(n),t.resolve(o))}getBookmark(){return new j8(this.$anchorCell.pos,this.$headCell.pos)}};Et.prototype.visible=!1;We.jsonID("cell",Et);var j8=class ew{constructor(t,n){this.anchor=t,this.head=n}map(t){return new ew(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),o=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&o.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&o.index()<o.parent.childCount&&Lp(n,o)?new Et(n,o):We.near(o,1)}};function U8(e){if(!(e.selection instanceof Et))return null;const t=[];return e.selection.forEachCell((n,o)=>{t.push(Yt.node(o,o+n.nodeSize,{class:"selectedCell"}))}),Tt.create(e.doc,t)}function K8({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,o=t.pos,r=e.depth;for(;r>=0&&!(e.after(r+1)<e.end(r));r--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,o--);return n==o&&/row|table/.test(e.node(r).type.spec.tableRole)}function W8({$from:e,$to:t}){let n,o;for(let r=e.depth;r>0;r--){const s=e.node(r);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let r=t.depth;r>0;r--){const s=t.node(r);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){o=s;break}}return n!==o&&t.parentOffset===0}function q8(e,t,n){const o=(t||e).selection,r=(t||e).doc;let s,i;if(o instanceof He&&(i=o.node.type.spec.tableRole)){if(i=="cell"||i=="header_cell")s=Et.create(r,o.from);else if(i=="row"){const a=r.resolve(o.from+1);s=Et.rowSelection(a,a)}else if(!n){const a=Lt.get(o.node),l=o.from+1,c=l+a.map[a.width*a.height-1];s=Et.create(r,l+1,c)}}else o instanceof je&&K8(o)?s=je.create(r,o.from):o instanceof je&&W8(o)&&(s=je.create(r,o.$from.start(),o.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}const G8=new Pt("fix-tables");function tw(e,t,n,o){const r=e.childCount,s=t.childCount;e:for(let i=0,a=0;i<s;i++){const l=t.child(i);for(let c=a,u=Math.min(r,i+3);c<u;c++)if(e.child(c)==l){a=c+1,n+=l.nodeSize;continue e}o(l,n),a<r&&e.child(a).sameMarkup(l)?tw(e.child(a),l,n+1,o):l.nodesBetween(0,l.content.size,o,n+1),n+=l.nodeSize}}function nw(e,t){let n;const o=(r,s)=>{r.type.spec.tableRole=="table"&&(n=J8(e,r,s,n))};return t?t.doc!=e.doc&&tw(t.doc,e.doc,0,o):e.doc.descendants(o),n}function J8(e,t,n,o){const r=Lt.get(t);if(!r.problems)return o;o||(o=e.tr);const s=[];for(let l=0;l<r.height;l++)s.push(0);for(let l=0;l<r.problems.length;l++){const c=r.problems[l];if(c.type=="collision"){const u=t.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let f=0;f<d.rowspan;f++)s[c.row+f]+=c.n;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,ls(d,d.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=t.nodeAt(c.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=t.nodeAt(c.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=o.mapping.map(n);o.delete(u,u+t.nodeSize)}}let i,a;for(let l=0;l<s.length;l++)s[l]&&(i==null&&(i=l),a=l);for(let l=0,c=n+1;l<r.height;l++){const u=t.child(l),d=c+u.nodeSize,f=s[l];if(f>0){let p="cell";u.firstChild&&(p=u.firstChild.type.spec.tableRole);const h=[];for(let v=0;v<f;v++){const y=yn(e.schema)[p].createAndFill();y&&h.push(y)}const m=(l==0||i==l-1)&&a==l?c+1:d-1;o.insert(o.mapping.map(m),h)}c=d}return o.setMeta(G8,{fixTables:!0})}function Co(e){const t=e.selection,n=au(e),o=n.node(-1),r=n.start(-1),s=Lt.get(o);return{...t instanceof Et?s.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r):s.findCell(n.pos-r),tableStart:r,map:s,table:o}}function ow(e,{map:t,tableStart:n,table:o},r){let s=r>0?-1:0;F8(t,o,r+s)&&(s=r==0||r==t.width?null:0);for(let i=0;i<t.height;i++){const a=i*t.width+r;if(r>0&&r<t.width&&t.map[a-1]==t.map[a]){const l=t.map[a],c=o.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,Qb(c.attrs,r-t.colCount(l))),i+=c.attrs.rowspan-1}else{const l=s==null?yn(o.type.schema).cell:o.nodeAt(t.map[a+s]).type,c=t.positionAt(i,r,o);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function Y8(e,t){if(!io(e))return!1;if(t){const n=Co(e);t(ow(e.tr,n,n.left))}return!0}function Z8(e,t){if(!io(e))return!1;if(t){const n=Co(e);t(ow(e.tr,n,n.right))}return!0}function X8(e,{map:t,table:n,tableStart:o},r){const s=e.mapping.maps.length;for(let i=0;i<t.height;){const a=i*t.width+r,l=t.map[a],c=n.nodeAt(l),u=c.attrs;if(r>0&&t.map[a-1]==l||r<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(s).map(o+l),null,ls(u,r-t.colCount(l)));else{const d=e.mapping.slice(s).map(o+l);e.delete(d,d+c.nodeSize)}i+=u.rowspan}}function Q8(e,t){if(!io(e))return!1;if(t){const n=Co(e),o=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let r=n.right-1;X8(o,n,r),r!=n.left;r--){const s=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=Lt.get(s)}t(o)}return!0}function eD(e,t,n){var o;const r=yn(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((o=t.nodeAt(e.map[s+n*e.width]))===null||o===void 0?void 0:o.type)!=r)return!1;return!0}function rw(e,{map:t,tableStart:n,table:o},r){let s=n;for(let c=0;c<r;c++)s+=o.child(c).nodeSize;const i=[];let a=r>0?-1:0;eD(t,o,r+a)&&(a=r==0||r==t.height?null:0);for(let c=0,u=t.width*r;c<t.width;c++,u++)if(r>0&&r<t.height&&t.map[u]==t.map[u-t.width]){const d=t.map[u],f=o.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),c+=f.colspan-1}else{var l;const d=a==null?yn(o.type.schema).cell:(l=o.nodeAt(t.map[u+a*t.width]))===null||l===void 0?void 0:l.type,f=d?.createAndFill();f&&i.push(f)}return e.insert(s,yn(o.type.schema).row.create(null,i)),e}function tD(e,t){if(!io(e))return!1;if(t){const n=Co(e);t(rw(e.tr,n,n.top))}return!0}function nD(e,t){if(!io(e))return!1;if(t){const n=Co(e);t(rw(e.tr,n,n.bottom))}return!0}function oD(e,{map:t,table:n,tableStart:o},r){let s=0;for(let c=0;c<r;c++)s+=n.child(c).nodeSize;const i=s+n.child(r).nodeSize,a=e.mapping.maps.length;e.delete(s+o,i+o);const l=new Set;for(let c=0,u=r*t.width;c<t.width;c++,u++){const d=t.map[u];if(!l.has(d)){if(l.add(d),r>0&&d==t.map[u-t.width]){const f=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(a).map(d+o),null,{...f,rowspan:f.rowspan-1}),c+=f.colspan-1}else if(r<t.height&&d==t.map[u+t.width]){const f=n.nodeAt(d),p=f.attrs,h=f.type.create({...p,rowspan:f.attrs.rowspan-1},f.content),m=t.positionAt(r+1,c,n);e.insert(e.mapping.slice(a).map(o+m),h),c+=p.colspan-1}}}}function rD(e,t){if(!io(e))return!1;if(t){const n=Co(e),o=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let r=n.bottom-1;oD(o,n,r),r!=n.top;r--){const s=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=Lt.get(n.table)}t(o)}return!0}function Bg(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function sD({width:e,height:t,map:n},o){let r=o.top*e+o.left,s=r,i=(o.bottom-1)*e+o.left,a=r+(o.right-o.left-1);for(let l=o.top;l<o.bottom;l++){if(o.left>0&&n[s]==n[s-1]||o.right<e&&n[a]==n[a+1])return!0;s+=e,a+=e}for(let l=o.left;l<o.right;l++){if(o.top>0&&n[r]==n[r-e]||o.bottom<t&&n[i]==n[i+e])return!0;r++,i++}return!1}function Hg(e,t){const n=e.selection;if(!(n instanceof Et)||n.$anchorCell.pos==n.$headCell.pos)return!1;const o=Co(e),{map:r}=o;if(sD(r,o))return!1;if(t){const s=e.tr,i={};let a=he.empty,l,c;for(let u=o.top;u<o.bottom;u++)for(let d=o.left;d<o.right;d++){const f=r.map[u*r.width+d],p=o.table.nodeAt(f);if(!(i[f]||!p))if(i[f]=!0,l==null)l=f,c=p;else{Bg(p)||(a=a.append(p.content));const h=s.mapping.map(f+o.tableStart);s.delete(h,h+p.nodeSize)}}if(l==null||c==null)return!0;if(s.setNodeMarkup(l+o.tableStart,null,{...Qb(c.attrs,c.attrs.colspan,o.right-o.left-c.attrs.colspan),rowspan:o.bottom-o.top}),a.size>0){const u=l+1+c.content.size,d=Bg(c)?l+1:u;s.replaceWith(d+o.tableStart,u+o.tableStart,a)}s.setSelection(new Et(s.doc.resolve(l+o.tableStart))),t(s)}return!0}function zg(e,t){const n=yn(e.schema);return iD(({node:o})=>n[o.type.spec.tableRole])(e,t)}function iD(e){return(t,n)=>{const o=t.selection;let r,s;if(o instanceof Et){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;r=o.$anchorCell.nodeAfter,s=o.$anchorCell.pos}else{var i;if(r=B8(o.$from),!r)return!1;s=(i=ni(o.$from))===null||i===void 0?void 0:i.pos}if(r==null||s==null||r.attrs.colspan==1&&r.attrs.rowspan==1)return!1;if(n){let a=r.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=Co(t),d=t.tr;for(let p=0;p<u.right-u.left;p++)l.push(c?{...a,colwidth:c&&c[p]?[c[p]]:null}:a);let f;for(let p=u.top;p<u.bottom;p++){let h=u.map.positionAt(p,u.left,u.table);p==u.top&&(h+=r.nodeSize);for(let m=u.left,v=0;m<u.right;m++,v++)m==u.left&&p==u.top||d.insert(f=d.mapping.map(h+u.tableStart,1),e({node:r,row:p,col:m}).createAndFill(l[v]))}d.setNodeMarkup(s,e({node:r,row:u.top,col:u.left}),l[0]),o instanceof Et&&d.setSelection(new Et(d.doc.resolve(o.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function aD(e,t){return function(n,o){if(!io(n))return!1;const r=au(n);if(r.nodeAfter.attrs[e]===t)return!1;if(o){const s=n.tr;n.selection instanceof Et?n.selection.forEachCell((i,a)=>{i.attrs[e]!==t&&s.setNodeMarkup(a,null,{...i.attrs,[e]:t})}):s.setNodeMarkup(r.pos,null,{...r.nodeAfter.attrs,[e]:t}),o(s)}return!0}}function lD(e){return function(t,n){if(!io(t))return!1;if(n){const o=yn(t.schema),r=Co(t),s=t.tr,i=r.map.cellsInRect(e=="column"?{left:r.left,top:0,right:r.right,bottom:r.map.height}:e=="row"?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),a=i.map(l=>r.table.nodeAt(l));for(let l=0;l<i.length;l++)a[l].type==o.header_cell&&s.setNodeMarkup(r.tableStart+i[l],o.cell,a[l].attrs);if(s.steps.length===0)for(let l=0;l<i.length;l++)s.setNodeMarkup(r.tableStart+i[l],o.header_cell,a[l].attrs);n(s)}return!0}}function Fg(e,t,n){const o=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let r=0;r<o.length;r++){const s=t.table.nodeAt(o[r]);if(s&&s.type!==n.header_cell)return!1}return!0}function da(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?lD(e):function(n,o){if(!io(n))return!1;if(o){const r=yn(n.schema),s=Co(n),i=n.tr,a=Fg("row",s,r),l=Fg("column",s,r),c=(e==="column"?a:e==="row"&&l)?1:0,u=e=="column"?{left:0,top:c,right:1,bottom:s.map.height}:e=="row"?{left:c,top:0,right:s.map.width,bottom:1}:s,d=e=="column"?l?r.cell:r.header_cell:e=="row"?a?r.cell:r.header_cell:r.cell;s.map.cellsInRect(u).forEach(f=>{const p=f+s.tableStart,h=i.doc.nodeAt(p);h&&i.setNodeMarkup(p,d,h.attrs)}),o(i)}return!0}}da("row",{useDeprecatedLogic:!0});da("column",{useDeprecatedLogic:!0});const cD=da("cell",{useDeprecatedLogic:!0});function uD(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let o=e.index(-1)-1,r=e.before();o>=0;o--){const s=e.node(-1).child(o),i=s.lastChild;if(i)return r-1-i.nodeSize;r-=s.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let o=e.indexAfter(-1),r=e.after();o<n.childCount;o++){const s=n.child(o);if(s.childCount)return r+1;r+=s.nodeSize}}return null}function jg(e){return function(t,n){if(!io(t))return!1;const o=uD(au(t),e);if(o==null)return!1;if(n){const r=t.doc.resolve(o);n(t.tr.setSelection(je.between(r,z8(r))).scrollIntoView())}return!0}}function dD(e,t){const n=e.selection.$anchor;for(let o=n.depth;o>0;o--)if(n.node(o).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(o),n.after(o)).scrollIntoView()),!0;return!1}function Xa(e,t){const n=e.selection;if(!(n instanceof Et))return!1;if(t){const o=e.tr,r=yn(e.schema).cell.createAndFill().content;n.forEachCell((s,i)=>{s.content.eq(r)||o.replace(o.mapping.map(i+1),o.mapping.map(i+s.nodeSize-1),new xe(r,0,0))}),o.docChanged&&t(o)}return!0}function fD(e){if(e.size===0)return null;let{content:t,openStart:n,openEnd:o}=e;for(;t.childCount==1&&(n>0&&o>0||t.child(0).type.spec.tableRole=="table");)n--,o--,t=t.child(0).content;const r=t.child(0),s=r.type.spec.tableRole,i=r.type.schema,a=[];if(s=="row")for(let l=0;l<t.childCount;l++){let c=t.child(l).content;const u=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,o-1);(u||d)&&(c=gf(yn(i).row,new xe(c,u,d)).content),a.push(c)}else if(s=="cell"||s=="header_cell")a.push(n||o?gf(yn(i).row,new xe(t,n,o)).content:t);else return null;return pD(i,a)}function pD(e,t){const n=[];for(let r=0;r<t.length;r++){const s=t[r];for(let i=s.childCount-1;i>=0;i--){const{rowspan:a,colspan:l}=s.child(i).attrs;for(let c=r;c<r+a;c++)n[c]=(n[c]||0)+l}}let o=0;for(let r=0;r<n.length;r++)o=Math.max(o,n[r]);for(let r=0;r<n.length;r++)if(r>=t.length&&t.push(he.empty),n[r]<o){const s=yn(e).cell.createAndFill(),i=[];for(let a=n[r];a<o;a++)i.push(s);t[r]=t[r].append(he.from(i))}return{height:t.length,width:o,rows:t}}function gf(e,t){const n=e.createAndFill();return new Jf(n).replace(0,n.content.size,t).doc}function hD({width:e,height:t,rows:n},o,r){if(e!=o){const s=[],i=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=s[a]||0,d=0;u<o;d++){let f=l.child(d%l.childCount);u+f.attrs.colspan>o&&(f=f.type.createChecked(ls(f.attrs,f.attrs.colspan,u+f.attrs.colspan-o),f.content)),c.push(f),u+=f.attrs.colspan;for(let p=1;p<f.attrs.rowspan;p++)s[a+p]=(s[a+p]||0)+f.attrs.colspan}i.push(he.from(c))}n=i,e=o}if(t!=r){const s=[];for(let i=0,a=0;i<r;i++,a++){const l=[],c=n[a%t];for(let u=0;u<c.childCount;u++){let d=c.child(u);i+d.attrs.rowspan>r&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,r-d.attrs.rowspan)},d.content)),l.push(d)}s.push(he.from(l))}n=s,t=r}return{width:e,height:t,rows:n}}function mD(e,t,n,o,r,s,i){const a=e.doc.type.schema,l=yn(a);let c,u;if(r>t.width)for(let d=0,f=0;d<t.height;d++){const p=n.child(d);f+=p.nodeSize;const h=[];let m;p.lastChild==null||p.lastChild.type==l.cell?m=c||(c=l.cell.createAndFill()):m=u||(u=l.header_cell.createAndFill());for(let v=t.width;v<r;v++)h.push(m);e.insert(e.mapping.slice(i).map(f-1+o),h)}if(s>t.height){const d=[];for(let h=0,m=(t.height-1)*t.width;h<Math.max(t.width,r);h++){const v=h>=t.width?!1:n.nodeAt(t.map[m+h]).type==l.header_cell;d.push(v?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const f=l.row.create(null,he.from(d)),p=[];for(let h=t.height;h<s;h++)p.push(f);e.insert(e.mapping.slice(i).map(o+n.nodeSize-2),p)}return!!(c||u)}function Ug(e,t,n,o,r,s,i,a){if(i==0||i==t.height)return!1;let l=!1;for(let c=r;c<s;c++){const u=i*t.width+c,d=t.map[u];if(t.map[u-t.width]==d){l=!0;const f=n.nodeAt(d),{top:p,left:h}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(a).map(d+o),null,{...f.attrs,rowspan:i-p}),e.insert(e.mapping.slice(a).map(t.positionAt(i,h,n)),f.type.createAndFill({...f.attrs,rowspan:p+f.attrs.rowspan-i})),c+=f.attrs.colspan-1}}return l}function Kg(e,t,n,o,r,s,i,a){if(i==0||i==t.width)return!1;let l=!1;for(let c=r;c<s;c++){const u=c*t.width+i,d=t.map[u];if(t.map[u-1]==d){l=!0;const f=n.nodeAt(d),p=t.colCount(d),h=e.mapping.slice(a).map(d+o);e.setNodeMarkup(h,null,ls(f.attrs,i-p,f.attrs.colspan-(i-p))),e.insert(h+f.nodeSize,f.type.createAndFill(ls(f.attrs,0,i-p))),c+=f.attrs.rowspan-1}}return l}function Wg(e,t,n,o,r){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let i=Lt.get(s);const{top:a,left:l}=o,c=l+r.width,u=a+r.height,d=e.tr;let f=0;function p(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");i=Lt.get(s),f=d.mapping.maps.length}mD(d,i,s,n,c,u,f)&&p(),Ug(d,i,s,n,l,c,a,f)&&p(),Ug(d,i,s,n,l,c,u,f)&&p(),Kg(d,i,s,n,a,u,l,f)&&p(),Kg(d,i,s,n,a,u,c,f)&&p();for(let h=a;h<u;h++){const m=i.positionAt(h,l,s),v=i.positionAt(h,c,s);d.replace(d.mapping.slice(f).map(m+n),d.mapping.slice(f).map(v+n),new xe(r.rows[h-a],0,0))}p(),d.setSelection(new Et(d.doc.resolve(n+i.positionAt(a,l,s)),d.doc.resolve(n+i.positionAt(u-1,c-1,s)))),t(d)}const gD=dp({ArrowLeft:Qa("horiz",-1),ArrowRight:Qa("horiz",1),ArrowUp:Qa("vert",-1),ArrowDown:Qa("vert",1),"Shift-ArrowLeft":el("horiz",-1),"Shift-ArrowRight":el("horiz",1),"Shift-ArrowUp":el("vert",-1),"Shift-ArrowDown":el("vert",1),Backspace:Xa,"Mod-Backspace":Xa,Delete:Xa,"Mod-Delete":Xa});function gl(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Qa(e,t){return(n,o,r)=>{if(!r)return!1;const s=n.selection;if(s instanceof Et)return gl(n,o,We.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;const i=sw(r,e,t);if(i==null)return!1;if(e=="horiz")return gl(n,o,We.near(n.doc.resolve(s.head+t),t));{const a=n.doc.resolve(i),l=Xb(a,e,t);let c;return l?c=We.near(l,1):t<0?c=We.near(n.doc.resolve(a.before(-1)),-1):c=We.near(n.doc.resolve(a.after(-1)),1),gl(n,o,c)}}}function el(e,t){return(n,o,r)=>{if(!r)return!1;const s=n.selection;let i;if(s instanceof Et)i=s;else{const l=sw(r,e,t);if(l==null)return!1;i=new Et(n.doc.resolve(l))}const a=Xb(i.$headCell,e,t);return a?gl(n,o,new Et(i.$anchorCell,a)):!1}}function vD(e,t){const n=e.state.doc,o=ni(n.resolve(t));return o?(e.dispatch(e.state.tr.setSelection(new Et(o))),!0):!1}function yD(e,t,n){if(!io(e.state))return!1;let o=fD(n);const r=e.state.selection;if(r instanceof Et){o||(o={width:1,height:1,rows:[he.from(gf(yn(e.state.schema).cell,n))]});const s=r.$anchorCell.node(-1),i=r.$anchorCell.start(-1),a=Lt.get(s).rectBetween(r.$anchorCell.pos-i,r.$headCell.pos-i);return o=hD(o,a.right-a.left,a.bottom-a.top),Wg(e.state,e.dispatch,i,a,o),!0}else if(o){const s=au(e.state),i=s.start(-1);return Wg(e.state,e.dispatch,i,Lt.get(s.node(-1)).findCell(s.pos-i),o),!0}else return!1}function bD(e,t){var n;if(t.ctrlKey||t.metaKey)return;const o=qg(e,t.target);let r;if(t.shiftKey&&e.state.selection instanceof Et)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&o&&(r=ni(e.state.selection.$anchor))!=null&&((n=ld(e,t))===null||n===void 0?void 0:n.pos)!=r.pos)s(r,t),t.preventDefault();else if(!o)return;function s(l,c){let u=ld(e,c);const d=vr.getState(e.state)==null;if(!u||!Lp(l,u))if(d)u=l;else return;const f=new Et(l,u);if(d||!e.state.selection.eq(f)){const p=e.state.tr.setSelection(f);d&&p.setMeta(vr,l.pos),e.dispatch(p)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",a),vr.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(vr,-1))}function a(l){const c=l,u=vr.getState(e.state);let d;if(u!=null)d=e.state.doc.resolve(u);else if(qg(e,c.target)!=o&&(d=ld(e,t),!d))return i();d&&s(d,c)}e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",a)}function sw(e,t,n){if(!(e.state.selection instanceof je))return null;const{$head:o}=e.state.selection;for(let r=o.depth-1;r>=0;r--){const s=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const i=o.before(r),a=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?i:null}}return null}function qg(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function ld(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return null;const o=n.inside>=0?n.inside:n.pos;return ni(e.state.doc.resolve(o))}var wD=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),vf(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,vf(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function vf(e,t,n,o,r,s){let i=0,a=!0,l=t.firstChild;const c=e.firstChild;if(c){for(let d=0,f=0;d<c.childCount;d++){const{colspan:p,colwidth:h}=c.child(d).attrs;for(let m=0;m<p;m++,f++){const v=r==f?s:h&&h[m],y=v?v+"px":"";if(i+=v||o,v||(a=!1),l)l.style.width!=y&&(l.style.width=y),l=l.nextSibling;else{const w=document.createElement("col");w.style.width=y,t.appendChild(w)}}}for(;l;){var u;const d=l.nextSibling;(u=l.parentNode)===null||u===void 0||u.removeChild(l),l=d}a?(n.style.width=i+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=i+"px")}}const Ln=new Pt("tableColumnResizing");function kD({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:o=wD,lastColumnResizable:r=!0}={}){const s=new Ot({key:Ln,state:{init(i,a){var l;const c=(l=s.spec)===null||l===void 0||(l=l.props)===null||l===void 0?void 0:l.nodeViews,u=yn(a.schema).table.name;return o&&c&&(c[u]=(d,f)=>new o(d,n,f)),new CD(-1,!1)},apply(i,a){return a.apply(i)}},props:{attributes:i=>{const a=Ln.getState(i);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(i,a)=>{SD(i,a,e,r)},mouseleave:i=>{xD(i)},mousedown:(i,a)=>{AD(i,a,t,n)}},decorations:i=>{const a=Ln.getState(i);if(a&&a.activeHandle>-1)return OD(i,a.activeHandle)},nodeViews:{}}});return s}var CD=class vl{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,o=t.getMeta(Ln);if(o&&o.setHandle!=null)return new vl(o.setHandle,!1);if(o&&o.setDragging!==void 0)return new vl(n.activeHandle,o.setDragging);if(n.activeHandle>-1&&t.docChanged){let r=t.mapping.map(n.activeHandle,-1);return mf(t.doc.resolve(r))||(r=-1),new vl(r,n.dragging)}return n}};function SD(e,t,n,o){if(!e.editable)return;const r=Ln.getState(e.state);if(r&&!r.dragging){const s=TD(t.target);let i=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();t.clientX-a<=n?i=Gg(e,t,"left",n):l-t.clientX<=n&&(i=Gg(e,t,"right",n))}if(i!=r.activeHandle){if(!o&&i!==-1){const a=e.state.doc.resolve(i),l=a.node(-1),c=Lt.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}iw(e,i)}}}function xD(e){if(!e.editable)return;const t=Ln.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&iw(e,-1)}function AD(e,t,n,o){var r;if(!e.editable)return!1;const s=(r=e.dom.ownerDocument.defaultView)!==null&&r!==void 0?r:window,i=Ln.getState(e.state);if(!i||i.activeHandle==-1||i.dragging)return!1;const a=e.state.doc.nodeAt(i.activeHandle),l=MD(e,i.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(Ln,{setDragging:{startX:t.clientX,startWidth:l}}));function c(d){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",u);const f=Ln.getState(e.state);f?.dragging&&(ED(e,f.activeHandle,Jg(f.dragging,d,n)),e.dispatch(e.state.tr.setMeta(Ln,{setDragging:null})))}function u(d){if(!d.which)return c(d);const f=Ln.getState(e.state);if(f&&f.dragging){const p=Jg(f.dragging,d,n);Yg(e,f.activeHandle,p,o)}}return Yg(e,i.activeHandle,l,o),s.addEventListener("mouseup",c),s.addEventListener("mousemove",u),t.preventDefault(),!0}function MD(e,t,{colspan:n,colwidth:o}){const r=o&&o[o.length-1];if(r)return r;const s=e.domAtPos(t);let i=s.node.childNodes[s.offset].offsetWidth,a=n;if(o)for(let l=0;l<n;l++)o[l]&&(i-=o[l],a--);return i/a}function TD(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function Gg(e,t,n,o){const r=n=="right"?-o:o,s=e.posAtCoords({left:t.clientX+r,top:t.clientY});if(!s)return-1;const{pos:i}=s,a=ni(e.state.doc.resolve(i));if(!a)return-1;if(n=="right")return a.pos;const l=Lt.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function Jg(e,t,n){const o=t.clientX-e.startX;return Math.max(n,e.startWidth+o)}function iw(e,t){e.dispatch(e.state.tr.setMeta(Ln,{setHandle:t}))}function ED(e,t,n){const o=e.state.doc.resolve(t),r=o.node(-1),s=Lt.get(r),i=o.start(-1),a=s.colCount(o.pos-i)+o.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<s.height;c++){const u=c*s.width+a;if(c&&s.map[u]==s.map[u-s.width])continue;const d=s.map[u],f=r.nodeAt(d).attrs,p=f.colspan==1?0:a-s.colCount(d);if(f.colwidth&&f.colwidth[p]==n)continue;const h=f.colwidth?f.colwidth.slice():$D(f.colspan);h[p]=n,l.setNodeMarkup(i+d,null,{...f,colwidth:h})}l.docChanged&&e.dispatch(l)}function Yg(e,t,n,o){const r=e.state.doc.resolve(t),s=r.node(-1),i=r.start(-1),a=Lt.get(s).colCount(r.pos-i)+r.nodeAfter.attrs.colspan-1;let l=e.domAtPos(r.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&vf(s,l.firstChild,l,o,a,n)}function $D(e){return Array(e).fill(0)}function OD(e,t){const n=[],o=e.doc.resolve(t),r=o.node(-1);if(!r)return Tt.empty;const s=Lt.get(r),i=o.start(-1),a=s.colCount(o.pos-i)+o.nodeAfter.attrs.colspan-1;for(let c=0;c<s.height;c++){const u=a+c*s.width;if((a==s.width-1||s.map[u]!=s.map[u+1])&&(c==0||s.map[u]!=s.map[u-s.width])){var l;const d=s.map[u],f=i+d+r.nodeAt(d).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",!((l=Ln.getState(e))===null||l===void 0)&&l.dragging&&n.push(Yt.node(i+d,i+d+r.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),n.push(Yt.widget(f,p))}}return Tt.create(e.doc,n)}function DD({allowTableNodeSelection:e=!1}={}){return new Ot({key:vr,state:{init(){return null},apply(t,n){const o=t.getMeta(vr);if(o!=null)return o==-1?null:o;if(n==null||!t.docChanged)return n;const{deleted:r,pos:s}=t.mapping.mapResult(n);return r?null:s}},props:{decorations:U8,handleDOMEvents:{mousedown:bD},createSelectionBetween(t){return vr.getState(t.state)!=null?t.state.selection:null},handleTripleClick:vD,handleKeyDown:gD,handlePaste:yD},appendTransaction(t,n,o){return q8(o,nw(o,n),e)}})}var aw=kt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{var t,n;const o=e.getAttribute("colwidth"),r=o?o.split(",").map(s=>parseInt(s,10)):null;if(!r){const s=(t=e.closest("table"))==null?void 0:t.querySelectorAll("colgroup > col"),i=Array.from(((n=e.parentElement)==null?void 0:n.children)||[]).indexOf(e);if(i&&i>-1&&s&&s[i]){const a=s[i].getAttribute("width");return a?[parseInt(a,10)]:null}}return r}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",it(this.options.HTMLAttributes,e),0]}}),lw=kt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",it(this.options.HTMLAttributes,e),0]}}),cw=kt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",it(this.options.HTMLAttributes,e),0]}});function yf(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function Zg(e,t,n,o,r,s){var i;let a=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u!==null)for(let f=0,p=0;f<u.childCount;f+=1){const{colspan:h,colwidth:m}=u.child(f).attrs;for(let v=0;v<h;v+=1,p+=1){const y=r===p?s:m&&m[v],w=y?`${y}px`:"";if(a+=y||o,y||(l=!1),c){if(c.style.width!==w){const[k,S]=yf(o,y);c.style.setProperty(k,S)}c=c.nextSibling}else{const k=document.createElement("col"),[S,M]=yf(o,y);k.style.setProperty(S,M),t.appendChild(k)}}}for(;c;){const f=c.nextSibling;(i=c.parentNode)==null||i.removeChild(c),c=f}const d=e.attrs.style&&typeof e.attrs.style=="string"&&/\bwidth\s*:/i.test(e.attrs.style);l&&!d?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}var RD=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),e.attrs.style&&(this.table.style.cssText=e.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Zg(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Zg(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){const t=e.target,n=this.dom.contains(t),o=this.contentDOM.contains(t);return!!(n&&!o&&(e.type==="attributes"||e.type==="childList"||e.type==="characterData"))}};function ND(e,t,n,o){let r=0,s=!0;const i=[],a=e.firstChild;if(!a)return{};for(let u=0,d=0;u<a.childCount;u+=1){const{colspan:f,colwidth:p}=a.child(u).attrs;for(let h=0;h<f;h+=1,d+=1){const m=n===d?o:p&&p[h];r+=m||t,m||(s=!1);const[v,y]=yf(t,m);i.push(["col",{style:`${v}: ${y}`}])}}const l=s?`${r}px`:"",c=s?"":`${r}px`;return{colgroup:["colgroup",{},...i],tableWidth:l,tableMinWidth:c}}function Xg(e,t){return e.createAndFill()}function ID(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const o=e.nodes[n];o.spec.tableRole&&(t[o.spec.tableRole]=o)}),e.cached.tableNodeTypes=t,t}function LD(e,t,n,o,r){const s=ID(e),i=[],a=[];for(let c=0;c<n;c+=1){const u=Xg(s.cell);if(u&&a.push(u),o){const d=Xg(s.header_cell);d&&i.push(d)}}const l=[];for(let c=0;c<t;c+=1)l.push(s.row.createChecked(null,o&&c===0?i:a));return s.table.createChecked(null,l)}function PD(e){return e instanceof Et}var tl=({editor:e})=>{const{selection:t}=e.state;if(!PD(t))return!1;let n=0;return Z0(t.ranges[0].$from,r=>r.type.name==="table")?.node.descendants(r=>{if(r.type.name==="table")return!1;["tableCell","tableHeader"].includes(r.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},VD="";function _D(e){return(e||"").replace(/\s+/g," ").trim()}function BD(e,t,n={}){var o;const r=(o=n.cellLineSeparator)!=null?o:VD;if(!e||!e.content||e.content.length===0)return"";const s=[];e.content.forEach(p=>{const h=[];p.content&&p.content.forEach(m=>{let v="";m.content&&Array.isArray(m.content)&&m.content.length>1?v=m.content.map(k=>t.renderChildren(k)).join(r):v=m.content?t.renderChildren(m.content):"";const y=_D(v),w=m.type==="tableHeader";h.push({text:y,isHeader:w})}),s.push(h)});const i=s.reduce((p,h)=>Math.max(p,h.length),0);if(i===0)return"";const a=new Array(i).fill(0);s.forEach(p=>{var h;for(let m=0;m<i;m+=1){const v=(((h=p[m])==null?void 0:h.text)||"").length;v>a[m]&&(a[m]=v),a[m]<3&&(a[m]=3)}});const l=(p,h)=>p+" ".repeat(Math.max(0,h-p.length)),c=s[0],u=c.some(p=>p.isHeader);let d=`
`;const f=new Array(i).fill(0).map((p,h)=>u&&c[h]&&c[h].text||"");return d+=`| ${f.map((p,h)=>l(p,a[h])).join(" | ")} |
`,d+=`| ${a.map(p=>"-".repeat(Math.max(3,p))).join(" | ")} |
`,(u?s.slice(1):s).forEach(p=>{d+=`| ${new Array(i).fill(0).map((h,m)=>l(p[m]&&p[m].text||"",a[m])).join(" | ")} |
`}),d}var HD=BD,uw=kt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:RD,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:o,tableMinWidth:r}=ND(e,this.options.cellMinWidth),s=t.style;function i(){return s||(o?`width: ${o}`:`min-width: ${r}`)}const a=["table",it(this.options.HTMLAttributes,t,{style:i()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},a]:a},parseMarkdown:(e,t)=>{const n=[];if(e.header){const o=[];e.header.forEach(r=>{o.push(t.createNode("tableHeader",{},[{type:"paragraph",content:t.parseInline(r.tokens)}]))}),n.push(t.createNode("tableRow",{},o))}return e.rows&&e.rows.forEach(o=>{const r=[];o.forEach(s=>{r.push(t.createNode("tableCell",{},[{type:"paragraph",content:t.parseInline(s.tokens)}]))}),n.push(t.createNode("tableRow",{},r))}),t.createNode("table",void 0,n)},renderMarkdown:(e,t)=>HD(e,t),addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:o,dispatch:r,editor:s})=>{const i=LD(s.schema,e,t,n);if(r){const a=o.selection.from+1;o.replaceSelectionWith(i).scrollIntoView().setSelection(je.near(o.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>Y8(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>Z8(e,t),deleteColumn:()=>({state:e,dispatch:t})=>Q8(e,t),addRowBefore:()=>({state:e,dispatch:t})=>tD(e,t),addRowAfter:()=>({state:e,dispatch:t})=>nD(e,t),deleteRow:()=>({state:e,dispatch:t})=>rD(e,t),deleteTable:()=>({state:e,dispatch:t})=>dD(e,t),mergeCells:()=>({state:e,dispatch:t})=>Hg(e,t),splitCell:()=>({state:e,dispatch:t})=>zg(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>da("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>da("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>cD(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>Hg(e,t)?!0:zg(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:o})=>aD(e,t)(n,o),goToNextCell:()=>({state:e,dispatch:t})=>jg(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>jg(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&nw(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const o=Et.create(t.doc,e.anchorCell,e.headCell);t.setSelection(o)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:tl,"Mod-Backspace":tl,Delete:tl,"Mod-Delete":tl}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[kD({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],DD({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:dt(Be(e,"tableRole",t))}}});mt.create({name:"tableKit",addExtensions(){const e=[];return this.options.table!==!1&&e.push(uw.configure(this.options.table)),this.options.tableCell!==!1&&e.push(aw.configure(this.options.tableCell)),this.options.tableHeader!==!1&&e.push(lw.configure(this.options.tableHeader)),this.options.tableRow!==!1&&e.push(cw.configure(this.options.tableRow)),e}});const zD=mt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),FD=kt.create({name:"span",group:"inline",inline:!0,content:"inline*",addAttributes(){return{id:{default:null}}},parseHTML(){return[{tag:"span"}]},renderHTML({HTMLAttributes:e}){return["span",it(e),0]}}),jD=kt.create({name:"abbr",inline:!0,group:"inline",content:"inline*",addAttributes(){return{title:{default:null},contenteditable:{default:!1}}},parseHTML(){return[{tag:"abbr"}]},renderHTML({HTMLAttributes:e}){return["abbr",it(e),0]}}),UD=kt.create({name:"oneCrmArticle",inline:!0,group:"inline",content:"text*",selectable:!0,addAttributes(){return{id:{default:null},contenteditable:{default:!1}}},parseHTML(){return[{tag:"onecrm-article"}]},renderHTML({HTMLAttributes:e}){return["onecrm-article",it(e),0]}}),KD=kt.create({name:"oneCrmCategory",inline:!0,group:"inline",content:"text*",selectable:!0,addAttributes(){return{id:{default:null},contenteditable:{default:!1}}},parseHTML(){return[{tag:"onecrm-category"}]},renderHTML({HTMLAttributes:e}){return["onecrm-category",it(e),0]}}),WD=kt.create({name:"select",inline:!1,group:"block",content:"option+",addAttributes(){return{id:{default:null},name:{default:null}}},parseHTML(){return[{tag:"select"}]},renderHTML({HTMLAttributes:e}){return["select",it(e),0]}}),qD=kt.create({name:"option",inline:!0,content:"inline*",addAttributes(){return{value:{default:null},selected:{default:!1}}},parseHTML(){return[{tag:"option"}]},renderHTML({HTMLAttributes:e}){return["option",it(e),0]}}),GD=kt.create({name:"checkbox",inline:!0,group:"inline",content:"inline*",addAttributes(){return{id:{default:null},name:{default:null}}},parseHTML(){return[{tag:'input[type="checkbox"]'}]},renderHTML({HTMLAttributes:e}){return["input",it({type:"checkbox"},e)]}}),JD=kt.create({name:"inputText",inline:!0,group:"inline",content:"inline*",addAttributes(){return{id:{default:null},name:{default:null},placeholder:{default:""},value:{default:""}}},parseHTML(){return[{tag:'input[type="text"]'}]},renderHTML({HTMLAttributes:e}){return["input",it({type:"text"},e)]}}),YD=kt.create({name:"inputButton",inline:!0,group:"inline",content:"inline*",addAttributes(){return{id:{default:null},name:{default:null},value:{default:""}}},parseHTML(){return[{tag:'input[type="button"]'}]},renderHTML({HTMLAttributes:e}){return["input",it({type:"button"},e)]}}),ZD=be({name:"OfHtmlEditor",components:{EditorContent:FO},props:{name:String,label:String,modelValue:{type:String,default:""},record:{type:Object,required:!1},extensions:{type:Array},toolbarItems:{type:Array,default:()=>[]},editable:{type:Boolean,default:!0},oneRow:{type:Boolean,default:!1},onImageUpload:{type:Function,default:null},onImageUploadSuccess:{type:Function,default:null},onImageUploadError:{type:Function,default:null}},emits:{"update:modelValue":null,updated:null},setup(e,t){const n=C(!1),o=A(()=>e.editable),r=A(()=>e.record||void 0),s=A(()=>{const U=r.value?.value.hasOwnProperty(`${e.name}_html`),pe=e.name?`${e.name}_html`:void 0;return U?pe:void 0}),i=A(()=>{let U=e.modelValue??"";if(r.value&&e.name){const pe=s.value?r.value.value[s.value]??null:null,ke=r.value.value[e.name]??null;pe?U=pe:ke&&(U=ke)}return U}),a=C("default"),l=[{text:"Default Font",value:"default"},{text:"Inter",value:"Inter"},{text:"Comic Sans",value:"Comic Sans MS, Comic Sans"},{text:"Serif",value:"serif"},{text:"Monospace",value:"monospace"},{text:"Cursive",value:"cursive"}],c=()=>{let U=[],pe=8;for(;pe<=28;){U.push(pe);let ke=pe>=12?2:1;pe+=ke}return U=U.concat([36,48,72]),U},u=C("default"),d=A(()=>[{text:"Size",value:"default"},...c().map(U=>({text:String(U),value:String(U)}))]),f=C("#000000"),p=C(!1),h=C(3),m=C(2),v=C(!1),y=A(()=>({format:{type:"text"},modelValue:h.value,"onUpdate:modelValue":U=>{h.value=U},label:"Rows",id:"table_rows",name:"table_rows",type:"text"})),w=A(()=>({format:{type:"text"},modelValue:m.value,"onUpdate:modelValue":U=>{m.value=U},label:"Columns",id:"table_columns",name:"table_columns",type:"text"})),k=A(()=>({type:"toggle",name:"add_header",label:"With Header",id:"add_header",format:{type:"toggle",inputType:"switch"},modelValue:v.value,"onUpdate:modelValue":U=>{v.value=U}})),S=()=>{p.value=!1},M=()=>{S(),B.value.chain().focus().insertTable({rows:h.value,cols:m.value,withHeaderRow:v.value}).run()},L=C(!1),N=C(""),V=A(()=>({format:{type:"text"},modelValue:N.value,"onUpdate:modelValue":U=>{N.value=U},label:"URL",id:"image-url",name:"image-url",type:"text"})),_=A(()=>({modelValue:N.value,"onUpdate:modelValue":U=>{ge(U)},label:"File",id:"image-file",name:"image-file",type:"file"})),G=()=>{L.value=!1},te=()=>{G(),N.value&&B.value.chain().focus().setImage({src:N.value}).run()},Y=(U="",pe="")=>{G(),U&&B.value.chain().focus().setImage({src:U,alt:pe}).run()},q=C(!1),$=C(""),F=A(()=>({format:{type:"text"},modelValue:$.value,"onUpdate:modelValue":U=>{$.value=U},label:"URL",id:"link",name:"link",type:"text"})),E=()=>{q.value=!1},T=()=>{E(),$.value&&B.value.chain().focus().setLink({href:$.value,target:"_blank"}).run()},J=C(""),le=C(null),ye=C(!1),Me=()=>{ye.value=!ye.value,z("end"),ut(()=>{le.value?.focus()})},me=A(()=>ye.value),X=C(!1),ae=C(!1);Ae(()=>e.modelValue,U=>{!r.value&&!X.value&&(H(U),X.value=!1,ae.value=!0,J.value=B.value.getHTML())}),Ae(()=>r.value?.value[s.value??e.name??""],U=>{X.value||(H(U),X.value=!1,ae.value=!0,J.value=B.value.getHTML())}),Ae(()=>J.value,U=>{ae.value||(H(U),ee()),ae.value=!1}),Ae(()=>o.value,U=>{B.value.setEditable(U)}),Ae(()=>a.value,U=>{U==="default"?B.value.chain().focus().unsetFontFamily().run():B.value.chain().focus().setFontFamily(U).run()}),Ae(()=>u.value,U=>{U==="default"?B.value.chain().focus().unsetFontSize().run():B.value.chain().focus().setFontSize(`${U}px`).run()}),Ae(()=>f.value,U=>{B.value.chain().setColor(U).run()});const Ee=[S8,M8.configure({inline:!0}),x8.configure({types:["heading","paragraph"]}),$8.configure({multicolor:!0}),Jb,Zb,zD,Yb,uw.configure({resizable:!0}),cw,aw,lw,FD,jD,UD,KD,WD,qD,GD,JD,YD],B=jO({content:i.value,editable:o.value,extensions:e.extensions?Ee.concat(e.extensions):Ee,onUpdate:()=>{ae.value=!0,J.value=B.value.getHTML(),setTimeout(()=>ee())},onFocus:()=>{n.value=!0},onBlur:()=>{n.value=!1}}),H=(U,pe=!1)=>{X.value=!0,B.value.getHTML()!==U&&B.value.commands.setContent(U,{emitUpdate:pe})},ee=()=>{e.name&&r.value?s.value?(r.value.value[s.value]=B.value.getHTML(),r.value.value[e.name]=B.value.getText()):r.value.value[e.name]=B.value.getHTML():t.emit("update:modelValue",B.value.getHTML()),t.emit("updated",{html:B.value.getHTML(),text:B.value.getText()})},Q=(U,pe={})=>U==="source"?ye.value?"filled":"text":B.value.isActive(U,pe)?"filled":"text",de=()=>{const U=new Map([["action",[{name:"undo",icon:"undo",title:"Undo",variant:"text",disabled:me.value,click:()=>B.value.chain().focus().undo().run()},{name:"redo",icon:"redo",title:"Redo",variant:"text",disabled:me.value,click:()=>B.value.chain().focus().redo().run()}]],["insert",[{name:"add-image",icon:"insert-photo",title:"Image",variant:"text",disabled:me.value,click:()=>{N.value="",L.value=!0}},{name:"add-link",icon:"insert-link",title:"Set Link",variant:"text",disabled:me.value,click:()=>{$.value="",q.value=!0}},{name:"add-table",icon:"table",title:"Table",variant:"text",disabled:me.value,click:()=>p.value=!0},{name:"horizontal-line",icon:"separator",title:"Insert Horizontal Line",variant:"text",disabled:me.value,click:()=>B.value.chain().focus().setHorizontalRule().run()}]],["style",[{name:"paragraph",icon:"paragraph",title:"Paragraph",variant:Q("paragraph"),disabled:me.value,click:()=>B.value.chain().focus().setParagraph().run()},{name:"heading-1",icon:"h-1",title:"Heading 1",variant:Q("heading",{level:1}),disabled:me.value,click:()=>B.value.chain().focus().toggleHeading({level:1}).run()},{name:"heading-2",icon:"h-2",title:"Heading 2",variant:Q("heading",{level:2}),disabled:me.value,click:()=>B.value.chain().focus().toggleHeading({level:2}).run()},{name:"heading-3",icon:"h-3",title:"Heading 3",variant:Q("heading",{level:3}),disabled:me.value,click:()=>B.value.chain().focus().toggleHeading({level:3}).run()}]],["source",[{name:"source-mode",icon:"source-code",title:"Source",variant:Q("source"),click:()=>Me()}]]]);return R(U)},Ve=()=>{const U=new Map([["format",[{name:"bold",icon:"format bold",title:"Bold",variant:Q("bold"),disabled:me.value,click:()=>B.value.chain().focus().toggleBold().run()},{name:"italic",icon:"format italic",title:"Italic",variant:Q("italic"),disabled:me.value,click:()=>B.value.chain().focus().toggleItalic().run()},{name:"underline",icon:"format underline",title:"Underline",variant:Q("underline"),disabled:me.value,click:()=>B.value.chain().focus().toggleUnderline().run()},{name:"strike",icon:"format strikethrough",title:"Strike",variant:Q("strike"),disabled:me.value,click:()=>B.value.chain().focus().toggleStrike().run()}]],["highlight",[{name:"code",icon:"code",title:"Code",variant:Q("code"),disabled:me.value,click:()=>B.value.chain().focus().toggleCode().run()},{name:"highlight",icon:"highlight",title:"Highlight",variant:Q("highlight"),disabled:me.value,click:()=>B.value.chain().focus().toggleHighlight({color:"#74c0fc"}).run()}]],["align",[{name:"align-left",icon:"format align-left",title:"Left",variant:Q({textAlign:"left"}),disabled:me.value,click:()=>B.value.chain().focus().setTextAlign("left").run()},{name:"align-center",icon:"format align-center",title:"Center",variant:Q({textAlign:"center"}),disabled:me.value,click:()=>B.value.chain().focus().setTextAlign("center").run()},{name:"align-right",icon:"format align-right",title:"Right",variant:Q({textAlign:"right"}),disabled:me.value,click:()=>B.value.chain().focus().setTextAlign("right").run()},{name:"align-justify",icon:"format align-justify",title:"Justify",variant:Q({textAlign:"justify"}),disabled:me.value,click:()=>B.value.chain().focus().setTextAlign("justify").run()}]],["clear",[{name:"clear",icon:"format clear",title:"Clear Format",variant:"text",disabled:me.value,click:()=>B.value.chain().focus().clearNodes().run()},{name:"wrap",icon:"wrap-text",title:"Hard Break",variant:"text",disabled:me.value,click:()=>B.value.chain().focus().setHardBreak().run()}]],["font",[{name:"text-color",icon:"",title:"Text Color",variant:"text",type:"color",disabled:me.value,modelValue:f.value,"onUpdate:modelValue":pe=>{f.value=pe}},{name:"font-family",icon:"",title:"Font Family",variant:"text",type:"select",items:l,disabled:me.value,modelValue:a.value,"onUpdate:modelValue":pe=>{a.value=pe}},{name:"font-size",icon:"",title:"Font Size",variant:"text",type:"select",items:d.value,disabled:me.value,modelValue:u.value,"onUpdate:modelValue":pe=>{u.value=pe}}]],["format-2",[{name:"numbered-list",icon:"format list-numbered",title:"Ordered List",variant:Q("orderedList"),disabled:me.value,click:()=>B.value.chain().focus().toggleOrderedList().run()},{name:"bulleted-list",icon:"format list-bulleted",title:"Bullet List",variant:Q("bulletList"),disabled:me.value,click:()=>B.value.chain().focus().toggleBulletList().run()},{name:"code-block",icon:"developer-mode",title:"Code Block",variant:Q("codeBlock"),disabled:me.value,click:()=>B.value.chain().focus().toggleCodeBlock().run()},{name:"blockquote",icon:"format quote",title:"Blockquote",variant:Q("blockquote"),disabled:me.value,click:()=>B.value.chain().focus().toggleBlockquote().run()}]]]);return R(U)},x=A(()=>{if(e.oneRow){const U=[...de(),...Ve()],pe=U.findIndex(ke=>ke.name==="source-mode");return~pe&&(U.push({name:"divider",icon:"",title:"",variant:"",type:"divider"}),U.splice(U.length-1,0,U.splice(pe,1)[0])),{row1:U}}else return{row1:de(),row2:Ve()}}),R=U=>{let pe=[];return U.forEach((ke,Oe)=>{const Le=ke.filter(Ne=>e.toolbarItems.length===0||e.toolbarItems.includes(Ne.name));pe.length>0&&Le.length>0&&pe.push({name:"divider",icon:"",title:"",variant:"",type:"divider"}),pe=[...pe,...Le]}),pe},z=(U=void 0)=>{ye.value?(n.value=!0,U==="end"&&le.value?.focus()):B.value.commands.focus(U)},ne=()=>n.value=!1,re=C(null),oe=C(!0),Ce=A(()=>oe.value?"--of-editor-content-height: 255px; --of-editor-editable-area-height: 300px;":"--of-editor-content-height: 320px; --of-editor-editable-area-height: 400px;"),fe=async()=>{},ge=async U=>{if(U&&e.onImageUpload)try{const pe=await e.onImageUpload(U);e.onImageUploadSuccess&&(e.onImageUploadSuccess(pe),Y(pe.url,pe.alt))}catch(pe){e.onImageUploadError&&e.onImageUploadError(pe)}};return Go(()=>{(re.value?.textContent||re.value?.innerHTML)&&(oe.value=!1),ae.value=!0,J.value=B.value?.getHTML()}),{editor:B,isEditable:o,focused:n,setFocus:z,unfocus:ne,footer:re,style:Ce,menuRows:x,tableDialogActive:p,tableRowsFieldProps:y,tableColumnsFieldProps:w,tableHeaderFieldProps:k,closeTableDialog:S,addTable:M,linkDialogActive:q,linkFieldProps:F,closeLinkDialog:E,addLink:T,imageDialogActive:L,imageFieldProps:V,imageUploadFieldProps:_,closeImageDialog:G,addImage:te,sourceMode:ye,source:J,sourceElt:le,handleImageUpload:ge,onUpload:fe}}}),XD=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},QD={class:"of-field-label"},eR={class:"of-field-main"},tR={class:"of-field-body of-editor-body"},nR={class:"of-field-inner"},oR={class:"of-field-content-text of--align-start of--unpadded"},rR={key:0,class:"editor-toolbar"},sR={key:0,class:"divider"},iR={key:3,class:"editor-action"},aR={class:"tooltip"},lR={class:"tooltip-text"},cR={key:1,class:"editor-outer source-mode"},uR={key:3,class:"editor-footer",ref:"footer"},dR={class:"dialog-actions"},fR={class:"dialog-actions"},pR={class:"dialog-actions"};function hR(e,t,n,o,r,s){const i=K("of-select-field"),a=K("of-color-field"),l=K("of-button"),c=K("editor-content"),u=K("of-field"),d=K("of-dialog"),f=K("of-file-field");return P(),W(Pe,null,[g("div",{class:Xe(["of-field","of-editor","of--active",e.isEditable?"of--interactive":"",e.isEditable?"of--cursor-text":"of--cursor-normal",e.isEditable?"of--label-top":"",e.isEditable?"of--mode-editable":"of--mode-fixed",e.focused?"of--focused":"","of--variant-outlined","of--tint-undefined",e.isEditable?"of-text-field":""]),style:Ht(e.style)},[g("div",{class:"of-field-main-label",onClick:t[0]||(t[0]=p=>e.setFocus("end"))},[g("label",QD,Fe(e.label),1)]),g("div",eR,[t[9]||(t[9]=g("div",{class:"of--layer of--layer-bg"},null,-1)),t[10]||(t[10]=g("div",{class:"of--layer of--layer-brd"},null,-1)),t[11]||(t[11]=g("div",{class:"of--layer of--layer-outl"},null,-1)),t[12]||(t[12]=g("div",{class:"of-field-header"},null,-1)),g("div",tR,[g("div",nR,[g("div",oR,[e.editor&&e.isEditable?(P(),W("div",rR,[(P(!0),W(Pe,null,ct(e.menuRows,(p,h)=>(P(),W("div",{key:h,class:"editor-toolbar-row"},[(P(!0),W(Pe,null,ct(p,m=>(P(),W(Pe,{key:m.name},[m.type==="divider"?(P(),W("div",sR)):m.type==="select"?(P(),ot(i,Ke({key:1,ref_for:!0},m,{density:"3"}),null,16)):m.type==="color"?(P(),ot(a,Ke({key:2,ref_for:!0},m,{density:"3"}),null,16)):(P(),W("div",iR,[g("div",aR,[g("div",lR,Fe(m.title),1)]),b(l,{density:"3",variant:m.variant,onClick:m.click,icon:m.icon,disabled:m.disabled,"aria-label":m.title},null,8,["variant","onClick","icon","disabled","aria-label"])]))],64))),128))]))),128)),t[8]||(t[8]=g("hr",{class:"editor-toolbar-border"},null,-1))])):$e("",!0),e.isEditable&&e.sourceMode?(P(),W("div",cR,[e.sourceMode?Pv((P(),W("textarea",{key:0,id:"editor_source","onUpdate:modelValue":t[1]||(t[1]=p=>e.source=p),class:"source-container",ref:"sourceElt",onFocus:t[2]||(t[2]=p=>e.setFocus(void 0)),onBlur:t[3]||(t[3]=(...p)=>e.unfocus&&e.unfocus(...p))},null,544)),[[rC,e.source]]):$e("",!0)])):$e("",!0),!e.sourceMode||!e.isEditable?(P(),ot(c,{key:2,editor:e.editor,class:"editor-outer",onClick:t[4]||(t[4]=p=>e.setFocus(void 0))},null,8,["editor"])):$e("",!0),e.isEditable&&!e.sourceMode?(P(),W("div",uR,[Qe(e.$slots,"editor-footer")],512)):$e("",!0)])])])])],6),e.isEditable?Qe(e.$slots,"extra",{key:0},()=>[b(d,{class:"of-editor-popup",modelValue:e.tableDialogActive,"onUpdate:modelValue":t[5]||(t[5]=p=>e.tableDialogActive=p)},{default:j(()=>[b(u,jr(hr(e.tableRowsFieldProps)),null,16),b(u,jr(hr(e.tableColumnsFieldProps)),null,16),b(u,jr(hr(e.tableHeaderFieldProps)),null,16),g("div",dR,[b(l,{onClick:e.closeTableDialog},{default:j(()=>[...t[13]||(t[13]=[ce("Cancel",-1)])]),_:1},8,["onClick"]),b(l,{onClick:e.addTable},{default:j(()=>[...t[14]||(t[14]=[ce("Apply",-1)])]),_:1},8,["onClick"])])]),_:1},8,["modelValue"]),b(d,{class:"of-editor-popup insert",modelValue:e.linkDialogActive,"onUpdate:modelValue":t[6]||(t[6]=p=>e.linkDialogActive=p)},{default:j(()=>[b(u,jr(hr(e.linkFieldProps)),null,16),g("div",fR,[b(l,{onClick:e.closeLinkDialog},{default:j(()=>[...t[15]||(t[15]=[ce("Cancel",-1)])]),_:1},8,["onClick"]),b(l,{onClick:e.addLink},{default:j(()=>[...t[16]||(t[16]=[ce("Apply",-1)])]),_:1},8,["onClick"])])]),_:1},8,["modelValue"]),b(d,{class:"of-editor-popup insert",modelValue:e.imageDialogActive,"onUpdate:modelValue":t[7]||(t[7]=p=>e.imageDialogActive=p)},{default:j(()=>[b(f,Ke(e.imageUploadFieldProps,{"onUpdate:modelValue":e.onUpload}),null,16,["onUpdate:modelValue"]),b(u,jr(hr(e.imageFieldProps)),null,16),g("div",pR,[b(l,{onClick:e.closeImageDialog},{default:j(()=>[...t[17]||(t[17]=[ce("Cancel",-1)])]),_:1},8,["onClick"]),b(l,{onClick:e.addImage},{default:j(()=>[...t[18]||(t[18]=[ce("Apply",-1)])]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])]):$e("",!0)],64)}const mR=XD(ZD,[["render",hR]]),gR={install(e){e.component("OfDemoField",v3),e.component("OfHighlight",V3),e.component("OfHtmlEditor",mR)}},vR=["default","0","1","2","3"],yR=["Off","On"],bR=["Default","Nested"],wR=["Off","On"],kR=[{text:"Inline",value:"inline"},{text:"Popup",value:"popup"}],CR=["Hide","Show"],SR=pt({density:"default",draggable:"Off",nested:"Default",editable:"Off",editType:"inline",showOldValues:"Hide"}),xR=be({setup(){const e=["Category 1","Category 2","Category 3","Category 4"],t=[{text:"Name",value:"name",divider:!0,width:"150px",sortable:!1},{text:"Category",value:"category",sortable:!1},{text:"Date & Time",value:"datetime",sortable:!1},{text:"Amount",value:"amount",sortable:!1,sum_total:!0},{text:"Size",value:"size",align:"end",sortable:!1,sum_total:!0}],n=C([{name:{value:"First item",editable:!0},id:"1",amount:[{value:10,editable:!0,type:"number"},{value:20,editable:!0,type:"number"}],datetime:{editable:!0,value:"2022-06-17 12:44:44",type:"datetime"},draggable:!0,category:{value:"Category 1",type:"select",items:e,editable:!0},size:{value:15.56,format:"currency",params:{symbol:"&#36;"}}},{draggable:!0,id:"2",amount:[{value:40,editable:!0,type:"number"},{value:50,editable:!0,type:"number"}],name:{value:"Second item",editable:!0},category:{value:"Category 2",type:"select",items:e,editable:!0},datetime:{editable:!0,value:"2021-06-17 12:20:00",type:"datetime"},size:{value:-15.56,format:"currency",params:{symbol:"&#36;"}}},{id:"3",draggable:!0,amount:[{value:100,editable:!0,type:"number"}],name:{value:"Third item",editable:!0},category:{value:"Category 3",type:"select",items:e,editable:!0},datetime:{editable:!0,value:"2023-08-13 22:14:00",type:"datetime"},size:{value:1512.56,format:"currency",params:{symbol:"&#36;"}}},{id:"4",draggable:!0,amount:[{value:45,editable:!0,type:"number"}],name:{value:"Fourth item",editable:!0},category:{value:"Category 4",type:"select",items:e,editable:!0},datetime:{editable:!0,value:"2022-06-17 12:44:44",type:"datetime"},size:{value:1512.56,format:"currency",params:{symbol:"&#36;"}}},{id:"5",draggable:!0,amount:[{value:45,editable:!0,type:"number"}],name:{value:"Fourth item",editable:!0},category:{value:"Category 4",type:"select",items:e,editable:!0},datetime:{editable:!0,value:"2020-12-20 11:11:11",type:"datetime"},size:{value:15125.5,format:"currency",params:{symbol:"&#36;"}}},{id:"6",draggable:!0,amount:[{value:45,editable:!0,type:"number"}],name:{value:"Fourth item",editable:!0},category:{value:"Category 4",type:"select",items:e,editable:!0},datetime:{editable:!0,value:"2020-12-20 11:11:11",type:"datetime"},size:{value:15125.56,format:"currency",params:{symbol:"&#36;"}}}]),o=[{text:"Text",value:"text",sortable:!1},{text:"Number",value:"number",sortable:!1},{text:"Select",value:"select",sortable:!1},{text:"Toggle",value:"toggle",sortable:!1},{text:"Date",value:"date",sortable:!1},{text:"Time",value:"time",sortable:!1},{text:"Date & Time",value:"datetime",sortable:!1}],r=[{text:[{editable:!0,type:"text",value:"Text 1",name:"text",label:"test"},{editable:!0,type:"text",value:"Text 1",name:"sub_text"}],number:{editable:!0,type:"number",value:0,label:"test"},toggle:{editable:!0,type:"toggle",value:!0},date:{editable:!0,type:"date",value:"2021-01-01"},time:{editable:!0,type:"time",value:"15:15:15"},datetime:{editable:!0,type:"datetime",value:"2021-01-01 15:15:15"},select:{editable:!0,type:"select",value:"Select 1",items:["Select 1","Select 2","Select 3","Select 4"]}},{text:{editable:!0,type:"text",value:"Text 2"},number:{editable:!0,type:"number",value:"200"},toggle:{editable:!0,type:"toggle",value:!1},date:{editable:!0,type:"date",value:"2022-02-02"},time:{editable:!0,type:"time",value:"16:16:16"},datetime:{editable:!0,type:"datetime",value:"2022-02-02 16:16:16"},select:{editable:!0,type:"select",value:"Select 2",items:["Select 1","Select 2","Select 3","Select 4"]}},{text:{editable:!0,type:"text",value:"Text 3"},number:{editable:!0,type:"number",value:"300"},toggle:{editable:!0,type:"toggle",value:!0},date:{editable:!0,type:"date",value:"2023-03-03"},time:{editable:!0,type:"time",value:"17:17:17"},datetime:{editable:!0,type:"datetime",value:"2023-03-03 17:17:17"},select:{editable:!0,type:"select",value:"Select 3",items:["Select 1","Select 2","Select 3","Select 4"]}},{text:{editable:!0,type:"text",value:"Text 4"},number:{editable:!0,type:"number",value:"400"},toggle:{editable:!0,type:"toggle",value:!1},date:{editable:!0,type:"date",value:"2024-04-04"},time:{editable:!0,type:"time",value:"18:18:18"},datetime:{editable:!0,type:"datetime",value:"2024-04-04 18:18:18"},select:{editable:!0,type:"select",value:"Select 4",items:["Select 1","Select 2","Select 3","Select 4"]}}],s=[{text:"Name",value:"name",divider:!0,sort:"desc",extra_sort_fields:[{label:"Address",value:"address"},{label:"Phone",value:"phone"}]},{text:"Category",value:"category"},{text:"Address",value:"address",sortable:!1},{text:"Phone",value:"phone",sortable:!1},{text:"Amount",value:"amount",sortable:!1},{text:"Size",value:"size",align:"end",sort:"asc",sum_total:!0}],i=[{text:"Name",value:"name",divider:!0,sort:"desc",extra_sort_fields:[{label:"Address",value:"address"},{label:"Phone",value:"phone"}]},{text:"Category",value:"category"},{text:"Address",value:"address",sortable:!1}],a=[{name:"First item",draggable:!0,category:"Category 1",address:"New York, NY, USA",amount:100,phone:"+1 (961) 209-1256",size:15.56},{draggable:!0,name:"Second item",amount:150,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{id:"3",name:{value:"Third item",editable:!0},amount:16,category:"Category 3",draggable:!0,address:"Orlans, CA, USA",phone:"+1 (125) 853-7161",size:15125.51},{id:"4",name:"Fourth item",draggable:!0,category:"Category 4",address:"New York, NY, USA",phone:"+1 (041) 102-0224",amount:1500,size:45.5},{id:"5",name:"Fifth item",category:"Category 5",draggable:!0,address:"Lisbon, CA, USA ",phone:"+1 (041) 102-0224",size:12.55,amount:200}],l=[{name:"parent nested 1",draggable:!0,nested:!0,parent:!0,category:"Category 1",address:"New York, NY, USA",amount:100,phone:"+1 (961) 209-1256",size:15.56,subitems:[{draggable:!0,name:"nested 2",amount:150,nested:!0,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{draggable:!0,name:"nested 3",amount:150,nested:!0,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{draggable:!0,name:"parent 4",amount:150,parent:!0,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56}]},{draggable:!0,name:"parent 6",parent:!0,amount:150,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",subitems:[{draggable:!0,name:"parent nested",amount:150,parent:!0,nested:!0,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{draggable:!0,name:"Draggable 2",amount:150,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{draggable:!0,name:"Draggable -n",amount:150,nested:!0,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56}],size:-15.56},{draggable:!0,name:"Draggable",amount:150,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{draggable:!0,name:"Draggable 2",amount:150,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{draggable:!0,name:"Draggable -n",amount:150,nested:!0,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{draggable:!0,name:"Draggable -pn",parent:!0,nested:!0,amount:150,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{draggable:!0,name:"Second item",amount:150,category:"Category 2",address:"San Francisco, CA, USA",phone:"+1 (416) 269-0823",size:-15.56},{id:"3",name:"Third item",amount:16,category:"Category 3",draggable:!0,address:"Orlans, CA, USA",phone:"+1 (125) 853-7161",size:15125.56},{id:"4",name:"Fourth item",draggable:!0,category:"Category 4",address:"New York, NY, USA",phone:"+1 (041) 102-0224",amount:1500,size:45.56},{id:"5",name:"Fifth item",category:"Category 5",draggable:!0,address:"Lisbon, CA, USA ",phone:"+1 (041) 102-0224",size:12.55,amount:200},{id:"6",name:"Sixth item",category:"Category 6",draggable:!0,address:"Lisbon, CA, USA ",phone:"+1 (041) 102-0224",size:12.55,amount:200}],c=[...n.value];return{universalHeaders:t,draggableHeaders:s,newDraggableHeaders:i,editableHeaders:o,editableItems:r,universalItems:n,draggableItems:a,newDraggableItems:l,footerItems:[{size:100.5}],onRowsSelected:function(m){console.log("onRowsSelected",m)},onRowsEdited:()=>{},OnRowsMoved:function(m){console.log("OnRowsMoved",m)},onRowsSorted:function(m){m.order==""?n.value=[...c]:(m.column=="size"?n.value.sort((v,y)=>v.size>y.size?1:-1):n.value.sort(function(v,y){let w=v[m.column].toString().toUpperCase(),k=y[m.column].toString().toUpperCase();return w==k?0:w>k?1:-1}),m.order=="desc"&&n.value.reverse())},params:SR,densityOptions:vR,draggableOptions:yR,nestedOptions:bR,editableOptions:wR,editOptions:kR,oldValuesOptions:CR}}}),AR={class:"container"},MR={class:"row"},TR={class:"column"},ER={class:"row"},$R={class:"column"},OR={class:"row"},DR={class:"column"},RR={class:"row"},NR={class:"column"};function IR(e,t,n,o,r,s){const i=K("of-field"),a=K("of-data-table");return P(),W("div",AR,[t[10]||(t[10]=g("h1",null,"Data Tables",-1)),b(i,{modelValue:e.params.density,"onUpdate:modelValue":t[0]||(t[0]=l=>e.params.density=l),label:"Density",type:"select",items:e.densityOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.draggable,"onUpdate:modelValue":t[1]||(t[1]=l=>e.params.draggable=l),label:"Draggable",type:"select",items:e.draggableOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.nested,"onUpdate:modelValue":t[2]||(t[2]=l=>e.params.nested=l),label:"Nested",disabled:e.params.draggable==="Off",type:"select",items:e.nestedOptions},null,8,["modelValue","disabled","items"]),b(i,{modelValue:e.params.editable,"onUpdate:modelValue":t[3]||(t[3]=l=>e.params.editable=l),label:"Editable",type:"select",items:e.editableOptions},null,8,["modelValue","items"]),b(i,{modelValue:e.params.editType,"onUpdate:modelValue":t[4]||(t[4]=l=>e.params.editType=l),label:"Edit Type",disabled:e.params.editable==="Off",type:"select",items:e.editOptions},null,8,["modelValue","disabled","items"]),b(i,{modelValue:e.params.showOldValues,"onUpdate:modelValue":t[5]||(t[5]=l=>e.params.showOldValues=l),label:"Show Original Value",disabled:e.params.editable==="Off",type:"select",items:e.oldValuesOptions},null,8,["modelValue","disabled","items"]),g("div",MR,[g("div",TR,[t[6]||(t[6]=g("h3",null,"Data Table",-1)),b(a,{"rows-selector":"",editable:e.params.editable==="On",draggable:e.params.draggable==="On","drag-options":{nestedLimit:5,nested:!0,allNested:!0,allParent:!0},nested:e.params.nested==="Nested","edit-type":e.params.editType,"show-old-values":e.params.showOldValues==="Show",onRowsSelected:e.onRowsSelected,onRowsMoved:e.OnRowsMoved,onRowsSorted:e.onRowsSorted,onRowsEdited:e.onRowsEdited,headers:e.universalHeaders,items:e.universalItems},null,8,["editable","draggable","nested","edit-type","show-old-values","onRowsSelected","onRowsMoved","onRowsSorted","onRowsEdited","headers","items"])])]),g("div",ER,[g("div",$R,[t[7]||(t[7]=g("h3",null,"Editable Data Table",-1)),b(a,{"rows-selector":"",nested:e.params.nested==="Nested",editable:"","edit-type":e.params.editType,"show-old-values":e.params.showOldValues==="Show",density:e.params.density,draggable:e.params.draggable==="On",onRowsSelected:e.onRowsSelected,onRowsMoved:e.OnRowsMoved,onRowsSorted:e.onRowsSorted,onRowsEdited:e.onRowsEdited,headers:e.editableHeaders,items:e.editableItems,"footer-items":e.footerItems},null,8,["nested","edit-type","show-old-values","density","draggable","onRowsSelected","onRowsMoved","onRowsSorted","onRowsEdited","headers","items","footer-items"])])]),g("div",OR,[g("div",DR,[t[8]||(t[8]=g("h3",null,"Draggable Data Table",-1)),b(a,{draggable:"",onRowsSorted:e.onRowsSorted,headers:e.draggableHeaders,items:e.draggableItems},null,8,["onRowsSorted","headers","items"])])]),g("div",RR,[g("div",NR,[t[9]||(t[9]=g("h3",null,"Draggable Data Table Unlimit Nested",-1)),b(a,{draggable:"","drag-options":{nestedLimit:10,nested:!0,allNested:!0,allParent:!0},editable:"",onRowsSorted:e.onRowsSorted,headers:e.newDraggableHeaders,items:e.newDraggableItems,"footer-items":e.footerItems},null,8,["onRowsSorted","headers","items","footer-items"])])])])}const LR=ht(xR,[["render",IR]]),PR=be({setup(){const e=pt({number:100125.99,duration:100,url:"https://example.com/",color:"#336699"}),t=[{text:"(browser default)",value:""},{text:"en-CA",value:"en-CA"},{text:"de-CH",value:"de-CH"},{text:"de-DE",value:"de-DE"},{text:"fr-FR",value:"fr-FR"}];return{locale:C(""),localeOpts:t,values:e}}}),VR={class:"container"},_R={class:"row content"},BR={class:"column"},HR={class:"demo-form of--elevated-1"},zR={class:"row form-row",style:{"column-gap":"1em"}},FR={class:"column"},jR={class:"column"},UR={class:"row form-row"},KR={class:"row form-row"};function WR(e,t,n,o,r,s){const i=K("of-text-field"),a=K("of-config"),l=K("of-select-field"),c=K("of-field");return P(),W("div",VR,[t[5]||(t[5]=g("h1",null,"Value Formatters",-1)),g("div",_R,[g("div",BR,[g("div",HR,[g("div",zR,[g("div",FR,[b(a,{locale:e.locale},{default:j(()=>[b(i,{placeholder:"(placeholder)",help:"field help",label:"Number Input",modelValue:e.values.number,"onUpdate:modelValue":t[0]||(t[0]=u=>e.values.number=u),type:"number"},null,8,["modelValue"])]),_:1},8,["locale"])]),g("div",jR,[b(l,{label:"Select Locale",items:e.localeOpts,modelValue:e.locale,"onUpdate:modelValue":t[1]||(t[1]=u=>e.locale=u)},null,8,["items","modelValue"])])]),g("div",UR,[b(a,{locale:e.locale},{default:j(()=>[b(c,{placeholder:"(placeholder)",help:"field help",label:"Duration Input",type:"duration",modelValue:e.values.duration,"onUpdate:modelValue":t[2]||(t[2]=u=>e.values.duration=u)},null,8,["modelValue"])]),_:1},8,["locale"])]),g("div",KR,[b(a,{locale:e.locale},{default:j(()=>[b(c,{placeholder:"(placeholder)",help:"field help",label:"URL Input",type:"url",modelValue:e.values.url,"onUpdate:modelValue":t[3]||(t[3]=u=>e.values.url=u)},null,8,["modelValue"])]),_:1},8,["locale"])])])]),t[4]||(t[4]=g("div",{class:"column"},null,-1))])])}const qR=ht(PR,[["render",WR]]),nl=document.createElement("canvas");function GR(e,t){nl.width=24,nl.height=24;const n=nl.getContext("2d");if(e){const s=e[e.length-1],i=new Path2D(s);n.fill(i,"evenodd")}t.width=96,t.height=96;const o=t.getContext("2d"),r=t.width/24;o.imageSmoothingEnabled=!1,o.scale(r,r),o.drawImage(nl,0,0)}const JR=e=>{const t=new DOMParser().parseFromString(e,"image/svg+xml");if(!(t.documentElement instanceof SVGSVGElement))throw new TypeError("Document not parsed as SVG");const n=t.documentElement.getAttribute("width");if(n!=="100%"&&(!n||parseInt(n,10)!=24))throw new TypeError("Expected width of 24px");const o=t.documentElement.getAttribute("height");if(n!=="100%"&&(!o||parseInt(o,10)!=24))throw new TypeError("Expected height of 24px");const r=[];for(let s=0;s<t.documentElement.children.length;s++){const i=t.documentElement.children[s];if(i instanceof SVGPathElement){if(i.getAttribute("fill")==="none")continue;r.push(i.getAttribute("d"))}}return{paths:r}},YR=be({name:"OfIconPreview",setup(e,t){const n=C({paths:["M4.427,12.845c-0.835,-0.329 -1.427,-1.143 -1.427,-2.095l0,-4.5c0,-1.242 1.008,-2.25 2.25,-2.25l13.5,0c1.242,0 2.25,1.008 2.25,2.25l0,4.5c0,1.242 -1.008,2.25 -2.25,2.25l-8.137,0c-0.333,-1.435 -1.602,-2.504 -3.113,-2.504c-1.456,0 -2.687,0.992 -3.073,2.349Z","M6.41,16c-0.834,-0.405 -1.41,-1.261 -1.41,-2.25c0,-1.38 1.12,-2.5 2.5,-2.5c1.38,0 2.5,1.12 2.5,2.5c0,0.989 -0.576,1.845 -1.41,2.25l0.91,0c0.828,0 1.5,0.672 1.5,1.5l0,3c0,0.828 -0.672,1.5 -1.5,1.5l-4,0c-0.828,0 -1.5,-0.672 -1.5,-1.5l0,-3c0,-0.828 0.672,-1.5 1.5,-1.5l0.91,0Zm9.433,-7.717l3.611,0l0,-0.024c-0.012,-2.066 -1.626,-3.738 -3.611,-3.738l0,3.762Zm0,0.795l2.815,0l0,0.019c-0.009,1.545 -1.267,2.797 -2.815,2.797l0,-2.816Zm-0.773,-3.668l0,6.5c-1.932,0 -3.5,-1.456 -3.5,-3.25c0,-1.793 1.568,-3.25 3.5,-3.25Zm-10.761,8.555c-1.309,-0.212 -2.309,-1.347 -2.309,-2.715l0,-5.5c0,-1.518 1.232,-2.75 2.75,-2.75l14.5,0c1.518,0 2.75,1.232 2.75,2.75l0,5.5c0,1.518 -1.232,2.75 -2.75,2.75l-8.561,0c0.006,-0.083 0.009,-0.166 0.009,-0.25c0,-0.258 -0.029,-0.509 -0.085,-0.75l8.137,0c1.242,0 2.25,-1.008 2.25,-2.25l0,-4.5c0,-1.242 -1.008,-2.25 -2.25,-2.25l-13.5,0c-1.242,0 -2.25,1.008 -2.25,2.25l0,4.5c0,0.952 0.592,1.766 1.427,2.095c-0.081,0.287 -0.125,0.591 -0.125,0.905c0,0.072 0.002,0.144 0.007,0.215Z"]}),o=C(""),r={resolve(c){if(c==="preview-icon")return{svg:{paths:[...n.value.paths]}}}},s=C(!1),i=C("");return{divAttrs:{onDragover:function(c){c.stopPropagation(),c.preventDefault(),c.dataTransfer.dropEffect="copy",s.value=!0},onDragleave:function(c){s.value=!1},onDrop:function(c){s.value=!1,c.stopPropagation(),c.preventDefault();const u=c.dataTransfer?.files;if(i.value="",u&&u.length){const d=new FileReader;d.onload=function(f){if(f.loaded){const p=f.target?.result;try{n.value=JR(p)}catch(h){i.value=h.message}}},d.readAsText(u[0])}}},dragActive:s,draw:c=>{GR(n.value.paths,c.el)},icons:r,iconEffect:o,loadError:i}}}),ZR={class:"load-error"},XR={class:"round"},QR={class:"roundr"},eN={style:{width:"0",height:"0",position:"absolute"},"aria-hidden":"true",focusable:"false"};function tN(e,t,n,o,r,s){const i=K("of-field"),a=K("of-icon"),l=K("of-config");return P(),W(Pe,null,[b(i,{type:"select",items:[{value:"",text:"(none)"},{value:"plus",text:"Plus"}],label:"Icon Effect",modelValue:e.iconEffect,"onUpdate:modelValue":t[0]||(t[0]=c=>e.iconEffect=c),inline:""},null,8,["modelValue"]),t[4]||(t[4]=g("br",null,null,-1)),t[5]||(t[5]=g("br",null,null,-1)),g("div",Ke({class:"outer"},e.divAttrs,{class:{dragging:e.dragActive}}),[b(l,{icons:e.icons},{default:j(()=>[g("div",ZR,Fe(e.loadError),1),g("div",null,[b(a,{name:"preview-icon",scale:"xs",title:"16px scale",effect:e.iconEffect},null,8,["effect"]),b(a,{name:"preview-icon",scale:"sm",title:"20px scale",effect:e.iconEffect},null,8,["effect"]),b(a,{name:"preview-icon",scale:"md",title:"24px scale (standard)",effect:e.iconEffect},null,8,["effect"]),b(a,{name:"preview-icon",scale:"lg",title:"28px scale",effect:e.iconEffect},null,8,["effect"]),b(a,{name:"preview-icon",scale:"xl",title:"32px scale",effect:e.iconEffect},null,8,["effect"])]),g("div",null,[b(a,{name:"preview-icon",class:"style-no-alt",title:"without alt layer",effect:e.iconEffect},null,8,["effect"]),b(a,{name:"preview-icon",class:"style-blue",title:"fill single colour",effect:e.iconEffect},null,8,["effect"]),b(a,{name:"preview-icon",class:"style-contrast",title:"fill two colours",effect:e.iconEffect},null,8,["effect"]),g("div",XR,[b(a,{name:"preview-icon",effect:e.iconEffect},null,8,["effect"])]),g("div",QR,[b(a,{name:"preview-icon",effect:e.iconEffect},null,8,["effect"])]),(P(),W("svg",eN,[...t[3]||(t[3]=[g("linearGradient",{id:"of-icon-grad-1",x2:"100%",y2:"100%"},[g("stop",{offset:"0%",class:"g g1","stop-color":"#cfc998"}),g("stop",{offset:"60%",class:"g g2","stop-color":"#deb887"})],-1),g("linearGradient",{id:"of-icon-grad-2",x2:"1",y2:"1"},[g("stop",{offset:"0%",class:"g g1","stop-color":"#fff","stop-opacity":"0.6"}),g("stop",{offset:"60%",class:"g g2","stop-color":"#fff"})],-1)])]))]),g("div",null,[g("canvas",{width:"100",height:"100",title:"24px scaled","on:vueMounted":t[1]||(t[1]=(...c)=>e.draw&&e.draw(...c)),"on:vueUpdated":t[2]||(t[2]=(...c)=>e.draw&&e.draw(...c))},null,32)])]),_:1},8,["icons"])],16)],64)}const nN=ht(YR,[["render",tN]]),oN=be({components:{OfIconPreview:nN},setup(e,t){const n=Vc();return{highDpi:A(()=>n.isHighDpi),icons:[{accept:"accept",cancel:"cancel",gear:"gear",print:"print",refresh:"refresh",menu:"menu",more:"more","more alt":"more alt","theme settings":"theme settings","theme light":"light mode","theme dark":"dark mode"},{required:"required",email:"email",mobile:"mobile",phone:"phone",external:"external",attach:"attachment",plus:"plus",minus:"minus",user:"user",lock:"lock",search:"search",date:"date",time:"time",hourglass:"hourglass"},{checkbox:"checkbox off","checkbox checked":"checkbox on",radio:"radio off","radio checked":"radio on",star:"star off","star checked":"star on"},{"arrow up":"up arrow","arrow down":"down arrow","arrow left":"left arrow","arrow right":"right arrow"},{"page first":"page first","page previous":"page previous","page next":"page next","page last":"page last"},{"bullet up":"bullet up","bullet down":"bullet down","bullet left":"bullet left","bullet right":"bullet right"},{"expand up":"expand up","expand down":"expand down","expand open":"expand","expand close":"expand close"},{"accept circle":"accept circle","cancel circle":"cancel circle","info circle":"info circle","error circle":"error circle","plus circle":"plus circle","minus circle":"minus circle","help circle":"help circle"},{"led grey":"grey led","led green":"green led","led red":"red led","led yellow":"yellow led","led violet":"violet led","led blue":"blue led","led orange":"orange led"}]}}}),rN={class:"container"},sN={class:"row demo-row"},iN={key:0},aN={class:"row demo-row"};function lN(e,t,n,o,r,s){const i=K("of-icon"),a=K("of-config"),l=K("of-icon-preview");return P(),W("div",rN,[t[0]||(t[0]=g("h1",null,"Icons",-1)),t[1]||(t[1]=g("p",null," The library will support a customizable mapping from standard named icons to theme-specific versions, with support for Material icons by default, along with any others that applications choose to include. ",-1)),b(a,null,{default:j(()=>[g("div",sN,[(P(!0),W(Pe,null,ct(e.icons,(c,u)=>(P(),W("div",{class:"demo-inline",key:u},[(P(!0),W(Pe,null,ct(c,(d,f)=>(P(),W("div",{class:"demo-icon",key:f},[b(i,{name:f,title:d},null,8,["name","title"])]))),128))]))),128))]),e.highDpi?(P(),W("div",iN,[g("div",aN,[(P(!0),W(Pe,null,ct(e.icons,(c,u)=>(P(),W("div",{class:"demo-inline",key:u},[(P(!0),W(Pe,null,ct(c,(d,f)=>(P(),W("div",{class:"demo-icon",key:f},[b(i,{name:f,title:d,size:"12"},null,8,["name","title"])]))),128))]))),128))])])):$e("",!0)]),_:1}),t[2]||(t[2]=g("h2",null,"Two-color SVG icons",-1)),b(l)])}const cN=ht(oN,[["render",lN]]),uN=be({name:"DemoOverview"}),dN={class:"container"};function fN(e,t,n,o,r,s){return P(),W("div",dN,[...t[0]||(t[0]=[Sd('<h1 data-v-0d35c55b>Oceanfront User Interface Library</h1><div class="row" data-v-0d35c55b><div class="column" data-v-0d35c55b><h2 data-v-0d35c55b>Lightweight and Flexible</h2><ul class="col2" data-v-0d35c55b><li data-v-0d35c55b> The library does not include general page layout rules or element-based selectors, allowing it to be mixed in with other frameworks and keeping the size to a minimum. Visual styles are easily overridden, and multiple basic styles can be used to create themes consistent with various platforms. </li><li data-v-0d35c55b> Components are reused across the framework, allowing for input fields to adapt to a variety of containers and configuration settings. Custom field types only need to be defined once. </li></ul></div></div><div class="row" data-v-0d35c55b><div class="column" data-v-0d35c55b><h2 data-v-0d35c55b>Future Facing</h2><ul data-v-0d35c55b><li data-v-0d35c55b> Oceanfront is built on Typescript and Vue 3, and takes advantage of newer CSS features offered by the current generation of web browsers. </li></ul></div></div><div class="row" data-v-0d35c55b><div class="column" data-v-0d35c55b><h2 data-v-0d35c55b>Open Source</h2><ul data-v-0d35c55b><li data-v-0d35c55b>The library is released under the MIT License.</li></ul></div></div>',4)])])}const pN=ht(uN,[["render",fN],["__scopeId","data-v-0d35c55b"]]),hN=be({setup(){const e=`
<of-button scale="nm">Submit</of-button>
<of-button variant="outlined">Submit</of-button>
<of-button variant="text">Submit</of-button>
<of-button disabled>Disabled</of-button>
<of-button icon="gear">With Icon</of-button>
<of-button rounded>Rounded</of-button>
<of-button split :items="testItems" @click="menuClick">Split</of-button>
<of-button icon="gear" rounded :items="testItems">Menu</of-button>
<!-- Set -->
<span class="of-buttonset">
  <of-button icon="accept">Save</of-button>
  <of-button icon="refresh" disabled>Refresh</of-button>
  <of-button icon="gear" rounded split :items="testItems">Split</of-button>
  <of-button icon="cancel">Cancel</of-button>
</span>`,t=["elevated","filled","tonal","outlined","text"],n=()=>{console.log("Menu item 1 selected")},o=()=>{console.log("Menu item 2 selected")},r=()=>{console.log("Button click")},s=[{text:"Option 1",value:n,attrs:{"data-test":"my-btn"}},{text:"Option 2",value:o}],i=["default","0","1","2","3"],a=["default","primary","secondary","tertiary"],l=["sm","nm","lg"],c=pt({density:"default",rounded:!1,tint:"default",scale:"nm"});return{sampleCode:e,testItems:s,densityOptions:i,tintOptions:a,scaleOptions:l,params:c,menuClick:r,variants:t}}}),mN={class:"container"},gN={class:"header-options-fields"},vN={class:"demo-fields of--elevated-1"},yN={class:"column spaced",style:{flex:"0 1 10em","text-transform":"capitalize","font-weight":"bold"}},bN={class:"column spaced"},wN={class:"demo-fields of--elevated-1"},kN={class:"column spaced"},CN={key:0,class:"column spaced"};function SN(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-field"),l=K("of-button");return P(),W("div",mN,[t[18]||(t[18]=g("h1",null,"Buttons",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),t[19]||(t[19]=g("br",null,null,-1)),g("div",gN,[b(a,{modelValue:e.params.density,"onUpdate:modelValue":t[0]||(t[0]=c=>e.params.density=c),label:"Density",type:"select",items:e.densityOptions},null,8,["modelValue","items"]),b(a,{modelValue:e.params.rounded,"onUpdate:modelValue":t[1]||(t[1]=c=>e.params.rounded=c),label:"Rounded",type:"toggle","label-position":"input",items:e.densityOptions},null,8,["modelValue","items"]),b(a,{modelValue:e.params.tint,"onUpdate:modelValue":t[2]||(t[2]=c=>e.params.tint=c),label:"Tint",type:"select",items:e.tintOptions},null,8,["modelValue","items"]),b(a,{modelValue:e.params.scale,"onUpdate:modelValue":t[3]||(t[3]=c=>e.params.scale=c),label:"Scale",type:"select",items:e.scaleOptions},null,8,["modelValue","items"])]),g("div",vN,[(P(!0),W(Pe,null,ct(e.variants,c=>(P(),W("div",{class:"row",key:c},[g("div",yN,Fe(c),1),g("div",bN,[b(l,Ke({ref_for:!0},e.params,{variant:c}),{default:j(()=>[...t[4]||(t[4]=[ce("Submit",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c,disabled:""}),{default:j(()=>[...t[5]||(t[5]=[ce("Disabled",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c,icon:"gear"}),null,16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c,split:"",items:e.testItems,onClick:e.menuClick,icon:"gear"}),null,16,["variant","items","onClick"]),b(l,Ke({ref_for:!0},e.params,{variant:c,icon:"gear"}),{default:j(()=>[...t[6]||(t[6]=[ce("Gear",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c,split:"",items:e.testItems,onClick:e.menuClick}),{default:j(()=>[...t[7]||(t[7]=[ce("Split",-1)])]),_:1},16,["variant","items","onClick"]),b(l,Ke({ref_for:!0},e.params,{variant:c,icon:"gear",items:e.testItems}),{default:j(()=>[...t[8]||(t[8]=[ce("Menu",-1)])]),_:1},16,["variant","items"])])]))),128))]),g("div",wN,[(P(!0),W(Pe,null,ct(e.variants,c=>(P(),W("div",{class:"row",key:c},[g("div",kN,[g("span",{class:Xe(["of-buttonset",{"of-buttonset--rounded":e.params.rounded,"of--elevated":c=="elevated"}])},[b(l,Ke({ref_for:!0},e.params,{variant:c,icon:"accept"}),{default:j(()=>[...t[9]||(t[9]=[ce("Save",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c,icon:"refresh",disabled:""}),{default:j(()=>[...t[10]||(t[10]=[ce("Refresh",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c,icon:"gear",items:e.testItems}),{default:j(()=>[...t[11]||(t[11]=[ce("Menu",-1)])]),_:1},16,["variant","items"]),b(l,Ke({ref_for:!0},e.params,{variant:c,icon:"cancel"}),{default:j(()=>[...t[12]||(t[12]=[ce("Cancel",-1)])]),_:1},16,["variant"])],2)]),c!="text"?(P(),W("div",CN,[g("span",{class:Xe(["of-buttonset",{"of-buttonset--rounded":e.params.rounded,"of--elevated":c=="elevated"}])},[b(l,Ke({ref_for:!0},e.params,{variant:c}),{default:j(()=>[...t[13]||(t[13]=[ce("1",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c,active:""}),{default:j(()=>[...t[14]||(t[14]=[ce("2",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c}),{default:j(()=>[...t[15]||(t[15]=[ce("3",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c}),{default:j(()=>[...t[16]||(t[16]=[ce("4",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c}),{default:j(()=>[...t[17]||(t[17]=[ce("5",-1)])]),_:1},16,["variant"]),b(l,Ke({ref_for:!0},e.params,{variant:c,icon:"page last"}),null,16,["variant"])],2)])):$e("",!0)]))),128))])])}const xN=ht(hN,[["render",SN],["__scopeId","data-v-172f9d89"]]),AN=be({setup(){const e=`
<of-file-field
  label="File input"
  :model-value="{name: 'Previous filename', size: 100}"
/>`,t=C(!1),n=A(()=>({label:"Test input",variant:t.value?"filled":"outlined"})),o=C("Field value");return{filled:t,fieldProps:n,fieldValue:o,sampleCode:e}}}),MN={class:"container"},TN={class:"row"},EN={class:"attrs of--elevated-1"},$N={class:"row"},ON={class:"column field"},DN={class:"row"},RN={class:"column field"},NN={class:"row"},IN={class:"column field"},LN={class:"row"},PN={class:"column field"},VN={class:"row"},_N={class:"column field"},BN={class:"row"},HN={class:"column field"};function zN(e,t,n,o,r,s){const i=K("of-toggle-field"),a=K("of-field");return P(),W("div",MN,[t[18]||(t[18]=g("h1",null,"Field States",-1)),g("div",TN,[b(i,{modelValue:e.filled,"onUpdate:modelValue":t[0]||(t[0]=l=>e.filled=l),label:"Show filled inputs","label-position":"input"},null,8,["modelValue"])]),t[19]||(t[19]=g("br",null,null,-1)),g("div",EN,[g("div",$N,[t[7]||(t[7]=g("div",{class:"column state"},"Editable",-1)),g("div",ON,[b(a,Ke(e.fieldProps,{modelValue:e.fieldValue,"onUpdate:modelValue":t[1]||(t[1]=l=>e.fieldValue=l)}),null,16,["modelValue"])])]),g("div",DN,[t[8]||(t[8]=g("div",{class:"column state"},"Locked",-1)),g("div",RN,[b(a,Ke(e.fieldProps,{modelValue:e.fieldValue,"onUpdate:modelValue":t[2]||(t[2]=l=>e.fieldValue=l),locked:""}),null,16,["modelValue"])]),t[9]||(t[9]=g("div",{class:"column desc"}," Locked fields are not editable, but generally appear the same as an editable field. This state should be used when updates are being performed in the background and rapid changes to the visual style of the input are not desired. ",-1))]),g("div",NN,[t[10]||(t[10]=g("div",{class:"column state"},"Readonly",-1)),g("div",IN,[b(a,Ke(e.fieldProps,{modelValue:e.fieldValue,"onUpdate:modelValue":t[3]||(t[3]=l=>e.fieldValue=l),readonly:""}),null,16,["modelValue"])]),t[11]||(t[11]=g("div",{class:"column desc"},[ce(" Read-only fields are not editable, but do participate in the tab order and indicate the focus and hover states. There should be a visual indicator of the "),g("code",null,"readonly"),ce(" state. This state supercedes "),g("code",null,"locked"),ce(". ")],-1))]),g("div",LN,[t[12]||(t[12]=g("div",{class:"column state"},"Disabled",-1)),g("div",PN,[b(a,Ke(e.fieldProps,{modelValue:e.fieldValue,"onUpdate:modelValue":t[4]||(t[4]=l=>e.fieldValue=l),disabled:"",message:"This field is disabled"}),null,16,["modelValue"])]),t[13]||(t[13]=g("div",{class:"column desc"},[ce(" Disabled fields are not editable, and generally indicate that a precondition for editing the field has not been met. A message indicating the reason should be included for accessibility and clarity. The disabled state supercedes "),g("code",null,"locked"),ce(" and "),g("code",null,"readonly"),ce(". ")],-1))]),g("div",VN,[t[14]||(t[14]=g("div",{class:"column state"},"Fixed",-1)),g("div",_N,[b(a,Ke(e.fieldProps,{modelValue:e.fieldValue,"onUpdate:modelValue":t[5]||(t[5]=l=>e.fieldValue=l),fixed:""}),null,16,["modelValue"])]),t[15]||(t[15]=g("div",{class:"column desc"},[ce(" Fixed fields are not editable or interactive. This state supercedes "),g("code",null,"locked"),ce(", "),g("code",null,"readonly"),ce(", and "),g("code",null,"disabled"),ce(". ")],-1))]),g("div",BN,[t[16]||(t[16]=g("div",{class:"column state"},"Invalid",-1)),g("div",HN,[b(a,Ke(e.fieldProps,{modelValue:e.fieldValue,"onUpdate:modelValue":t[6]||(t[6]=l=>e.fieldValue=l),invalid:"",message:"This field is invalid"}),null,16,["modelValue"])]),t[17]||(t[17]=g("div",{class:"column desc"},[ce(" The "),g("code",null,"invalid"),ce(" state may be combined with any other states in order to indicate that the current value of the field cannot be accepted. ")],-1))])])])}const FN=ht(AN,[["render",zN]]),jN=be({setup(){return{sampleCode:`
<of-file-field
  label="File input"
  :model-value="{name: 'Previous filename', size: 100}"
/>`}}}),UN={class:"container"};function KN(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-field"),l=K("of-demo-field");return P(),W("div",UN,[t[0]||(t[0]=g("h1",null,"File Inputs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),b(l,null,{default:j(c=>[b(a,Ke({type:"file",label:"Uploaded file","model-value":{name:"myreport.pdf",size:10204},size:"30"},c),null,16)]),_:1})])}const WN=ht(jN,[["render",KN]]),Qg=wa({one:"optionA",two:"text",three:!0,four:25,five:"2021-03-14 15:45",six:"2021-02-15",seven:"12:00:00",eight:"https://1crm.com/",nine:["optionB","optionA"]}),qN=[{value:"optionA",text:"A"},{value:"optionB",text:"B"}],GN=be({setup(){const e=C("62.14"),t=()=>{e.value=new Date().getTime().toString()},n=A(()=>JSON.stringify(Qg.value,null,2));return{change:t,formatValue:n,sampleBinding:`<of-field
  :record="testRecord"
  name="propA"
  type="text"
/>`,testRecord:Qg,textValue:e,items:qN}}}),JN={class:"container"},YN={class:"row content"},ZN={class:"column"},XN={class:"demo-form of--elevated-1"},QN={class:"row form-row"},eI={class:"column"},tI={class:"row form-row"},nI={class:"column"},oI={class:"row form-row"},rI={class:"column"},sI={class:"row form-row"},iI={class:"column"},aI={class:"row form-row"},lI={class:"column"},cI={class:"row form-row"},uI={class:"column"},dI={class:"row form-row"},fI={class:"column"},pI={class:"row form-row"},hI={class:"column"},mI={class:"row form-row"},gI={class:"column"},vI={class:"column"},yI={class:"record-info"},bI={class:"row"},wI={class:"column sm-8"},kI={class:"row"},CI={class:"column sm-8"};function SI(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-select-field"),l=K("of-text-field"),c=K("of-toggle-field"),u=K("of-slider-field"),d=K("of-datetime-field"),f=K("of-date-field"),p=K("of-time-field"),h=K("of-button"),m=K("of-toggle");return P(),W("div",JN,[t[5]||(t[5]=g("h1",null,"Records",-1)),t[6]||(t[6]=g("p",null,[ce(" Instead of binding each field's value property directly, it can be more effective to bind a "),g("var",null,"record"),ce(" and a field name. This may be be required for complex field types which bind to multiple fields on the associated record. It also allows for validation rules to be combined at the record level, instead of being assigned to individual fields or handled within a custom component. ")],-1)),b(i,{lang:"html",value:e.sampleBinding},null,8,["value"]),g("div",YN,[g("div",ZN,[g("div",XN,[g("div",QN,[g("div",eI,[b(a,{label:"Select",items:e.items,record:e.testRecord,name:"one"},null,8,["items","record"])])]),g("div",tI,[g("div",nI,[b(a,{label:"Multi Select",multi:"",items:e.items,record:e.testRecord,name:"nine"},null,8,["items","record"])])]),g("div",oI,[g("div",rI,[b(l,{label:"Text",name:"two",record:e.testRecord},null,8,["record"])])]),g("div",sI,[g("div",iI,[b(c,{name:"three",label:"Toggle","label-position":"input",record:e.testRecord},null,8,["record"])])]),g("div",aI,[g("div",lI,[b(u,{name:"four",label:"Slider",record:e.testRecord},null,8,["record"])])]),g("div",cI,[g("div",uI,[b(d,{name:"five",label:"Date and time picker",record:e.testRecord},null,8,["record"])])]),g("div",dI,[g("div",fI,[b(f,{name:"six",label:"Date picker",required:"",record:e.testRecord},null,8,["record"])])]),g("div",pI,[g("div",hI,[b(p,{name:"seven",label:"Time picker",record:e.testRecord},null,8,["record"])])]),g("div",mI,[g("div",gI,[b(h,{onClick:t[0]||(t[0]=v=>e.testRecord.reset()),disabled:e.testRecord.locked},{default:j(()=>[...t[2]||(t[2]=[ce(" Reset ",-1)])]),_:1},8,["disabled"])])])])]),g("div",vI,[g("div",yI,[t[4]||(t[4]=g("h4",null,"Record state",-1)),g("div",bI,[g("div",wI,[b(m,{label:"Locked",checked:e.testRecord.locked,"onUpdate:checked":t[1]||(t[1]=v=>e.testRecord.locked=v),switch:""},null,8,["checked"])])]),g("div",kI,[t[3]||(t[3]=g("div",{class:"column sm-4"},"Updated:",-1)),g("div",CI,Fe(e.testRecord.updated||!1),1)]),b(i,{lang:"json",value:e.formatValue},null,8,["value"])])])])])}const xI=ht(GN,[["render",SI],["__scopeId","data-v-660178d1"]]);class AI{constructor(t,n){this._mode="edit";const o=st(t||{});this._initial=C(Object.assign({},o)),this._rules=C([]),this._state=C({locked:!1}),this._value=pt(o),this._metadata=pt(n),va(this._checkUpdated.bind(this))}get metadata(){return this._metadata}_checkUpdated(){const t=this._initial.value,n=this._value;let o=!1;this._state.value.updated=!Sf(t,n);for(const r of this._rules.value)r(n)||(o=!0);for(const r in this.metadata.required)n[r]||(o=!0);this._state.value.invalid=o}get initialValue(){return this._initial.value}get invalid(){return this._state.value.invalid||!1}lock(t){return this.locked?null:(this._state.value.locked=!0,{release:()=>{this._state.value.locked=!1}})}get locked(){return this._state.value.locked||!1}set locked(t){this._state.value.locked=t}get pending(){return this._state.value.pending||!1}reset(){this.value=this._initial.value}get updated(){return this._state.value.updated||!1}get value(){return this._value}set value(t){for(const n in this._value)(!t||!(n in t))&&delete this._value[n];Object.assign(this._value,t)}get mode(){return this._mode}set mode(t){this._mode=t}}const MI=(e,t)=>pa(new AI(e,t)),TI={one:"optionA",two:"2015-05-11",three:"Text",four_hours:1,four_minutes:15},EI=pt({one:{type:"select",label:"Select input (label from metadata)",items:[{value:"optionA",text:"A"},{value:"optionB",text:"B"}]},two:{type:"date",label:"Date"},three:{type:"text",label:"Text"},four:{type:"minutes",label:"Minutes"}}),ev=MI(TI,EI),$I=be({setup(){const e=C("62.14"),t=()=>{e.value=new Date().getTime().toString()},n=A(()=>JSON.stringify(ev.value,null,2));return{change:t,formatValue:n,sampleBinding:`<of-field
  :record="testRecord"
  name="propA"
  type="text"
/>`,testRecord:ev,textValue:e}}}),OI={class:"container"},DI={class:"row content"},RI={class:"column"},NI={class:"demo-form of--elevated-1"},II={class:"row form-row"},LI={class:"row form-row"},PI={class:"row form-row"},VI={class:"row form-row"},_I={class:"row form-row"},BI={class:"row form-row"},HI={class:"column"},zI={class:"record-info"},FI={class:"row"},jI={class:"column sm-8"},UI={class:"row"},KI={class:"column sm-8"};function WI(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-field"),l=K("of-button"),c=K("of-toggle");return P(),W("div",OI,[t[5]||(t[5]=g("h1",null,"Records",-1)),t[6]||(t[6]=g("p",null,[ce(" Instead of binding each field's value property directly, it can be more effective to bind a "),g("var",null,"record"),ce(" and a field name. This may be be required for complex field types which bind to multiple fields on the associated record. It also allows for validation rules to be combined at the record level, instead of being assigned to individual fields or handled within a custom component. ")],-1)),b(i,{lang:"html",value:e.sampleBinding},null,8,["value"]),g("div",DI,[g("div",RI,[g("div",NI,[g("div",II,[b(a,{record:e.testRecord,name:"one"},null,8,["record"])]),g("div",LI,[b(a,{label:"Select input (label from props)",record:e.testRecord,name:"one"},null,8,["record"])]),g("div",PI,[b(a,{record:e.testRecord,name:"two"},null,8,["record"])]),g("div",VI,[b(a,{record:e.testRecord,name:"three"},null,8,["record"])]),g("div",_I,[b(a,{name:"four",record:e.testRecord},null,8,["record"])]),g("div",BI,[b(l,{onClick:t[0]||(t[0]=u=>e.testRecord.reset()),disabled:e.testRecord.locked},{default:j(()=>[...t[2]||(t[2]=[ce(" Reset ",-1)])]),_:1},8,["disabled"])])])]),g("div",HI,[g("div",zI,[t[4]||(t[4]=g("h4",null,"Record state",-1)),g("div",FI,[g("div",jI,[b(c,{label:"Locked",checked:e.testRecord.locked,"onUpdate:checked":t[1]||(t[1]=u=>e.testRecord.locked=u),switch:""},null,8,["checked"])])]),g("div",UI,[t[3]||(t[3]=g("div",{class:"column sm-4"},"Updated:",-1)),g("div",KI,Fe(e.testRecord.updated||!1),1)]),b(i,{lang:"json",value:e.formatValue},null,8,["value"])])])])])}const qI=ht($I,[["render",WI],["__scopeId","data-v-6953f6b4"]]),GI=be({setup(){const e=`
<of-select-field
  label="Select input"
  :items="['apple', 'orange']"
  v-model="fieldValue"
/>`,t=[{special:"header",text:"Test select items"},"Option 1",{special:"divider"},"Option 2"],n=["Africa/Algiers","Africa/Luanda","Africa/Porto-Novo","Africa/Gaborone","Africa/Ouagadougou","Africa/Bujumbura","Africa/Douala","Atlantic/Cape_Verde","Africa/Bangui","Africa/Ndjamena","Indian/Comoro","Africa/Kinshasa","Africa/Lubumbashi","Africa/Brazzaville","Africa/Abidjan","Africa/Djibouti","Africa/Cairo","Africa/Malabo","Africa/Asmera","Africa/Addis_Ababa","Africa/Libreville","Africa/Banjul","Africa/Accra","Africa/Conakry","Africa/Bissau","Africa/Nairobi","Africa/Maseru","Africa/Monrovia","Africa/Tripoli","Indian/Antananarivo","Africa/Blantyre","Africa/Bamako","Africa/Nouakchott","Indian/Mauritius","Indian/Mayotte","Africa/Casablanca","Africa/El_Aaiun","Africa/Maputo","Africa/Windhoek","Africa/Niamey","Africa/Lagos","Indian/Reunion","Africa/Kigali","Atlantic/St_Helena","Africa/Sao_Tome","Africa/Dakar","Indian/Mahe","Africa/Freetown","Africa/Mogadishu","Africa/Johannesburg","Africa/Khartoum","Africa/Mbabane","Africa/Dar_es_Salaam","Africa/Lome","Africa/Tunis","Africa/Kampala","Africa/Lusaka","Africa/Harare","Antarctica/Casey","Antarctica/Davis","Antarctica/Mawson","Indian/Kerguelen","Antarctica/DumontDUrville","Antarctica/Syowa","Antarctica/Vostok","Antarctica/Rothera","Antarctica/Palmer","Antarctica/McMurdo","Asia/Kabul","Asia/Yerevan","Asia/Baku","Asia/Bahrain","Asia/Dhaka","Asia/Thimphu","Indian/Chagos","Asia/Brunei","Asia/Rangoon","Asia/Phnom_Penh","Asia/Harbin","Asia/Shanghai","Asia/Chongqing","Asia/Urumqi","Asia/Kashgar","Asia/Hong_Kong","Asia/Taipei","Asia/Macau","Asia/Nicosia","Asia/Tbilisi","Asia/Dili","Asia/Calcutta","Asia/Jakarta","Asia/Pontianak","Asia/Makassar","Asia/Jayapura","Asia/Tehran","Asia/Baghdad","Asia/Jerusalem","Asia/Tokyo","Asia/Amman","Asia/Almaty","Asia/Qyzylorda","Asia/Aqtobe","Asia/Aqtau","Asia/Oral","Asia/Bishkek","Asia/Seoul","Asia/Pyongyang","Asia/Kuwait","Asia/Vientiane","Asia/Beirut","Asia/Kuala_Lumpur","Asia/Kuching","Indian/Maldives","Asia/Hovd","Asia/Ulaanbaatar","Asia/Choibalsan","Asia/Katmandu","Asia/Muscat","Asia/Karachi","Asia/Gaza","Asia/Manila","Asia/Qatar","Asia/Riyadh","Asia/Singapore","Asia/Colombo","Asia/Damascus","Asia/Dushanbe","Asia/Bangkok","Asia/Ashgabat","Asia/Dubai","Asia/Samarkand","Asia/Tashkent","Asia/Saigon","Asia/Aden","Australia/Darwin","Australia/Perth","Australia/Brisbane","Australia/Lindeman","Australia/Adelaide","Australia/Hobart","Australia/Currie","Australia/Melbourne","Australia/Sydney","Australia/Broken_Hill","Indian/Christmas","Pacific/Rarotonga","Indian/Cocos","Pacific/Fiji","Pacific/Gambier","Pacific/Marquesas","Pacific/Tahiti","Pacific/Guam","Pacific/Tarawa","Pacific/Enderbury","Pacific/Kiritimati","Pacific/Saipan","Pacific/Majuro","Pacific/Kwajalein","Pacific/Truk","Pacific/Ponape","Pacific/Kosrae","Pacific/Nauru","Pacific/Noumea","Pacific/Auckland","Pacific/Chatham","Pacific/Niue","Pacific/Norfolk","Pacific/Palau","Pacific/Port_Moresby","Pacific/Pitcairn","Pacific/Pago_Pago","Pacific/Apia","Pacific/Guadalcanal","Pacific/Fakaofo","Pacific/Tongatapu","Pacific/Funafuti","Pacific/Johnston","Pacific/Midway","Pacific/Wake","Pacific/Efate","Pacific/Wallis","Europe/London","Europe/Dublin","WET","CET","MET","EET","Europe/Tirane","Europe/Andorra","Europe/Vienna","Europe/Minsk","Europe/Brussels","Europe/Sofia","Europe/Prague","Europe/Copenhagen","Atlantic/Faeroe","America/Danmarkshavn","America/Scoresbysund","America/Godthab","America/Thule","Europe/Tallinn","Europe/Helsinki","Europe/Paris","Europe/Berlin","Europe/Gibraltar","Europe/Athens","Europe/Budapest","Atlantic/Reykjavik","Europe/Rome","Europe/Riga","Europe/Vaduz","Europe/Vilnius","Europe/Luxembourg","Europe/Malta","Europe/Chisinau","Europe/Monaco","Europe/Amsterdam","Europe/Oslo","Europe/Warsaw","Europe/Lisbon","Atlantic/Azores","Atlantic/Madeira","Europe/Bucharest","Europe/Kaliningrad","Europe/Moscow","Europe/Samara","Asia/Yekaterinburg","Asia/Omsk","Asia/Novosibirsk","Asia/Krasnoyarsk","Asia/Irkutsk","Asia/Yakutsk","Asia/Vladivostok","Asia/Sakhalin","Asia/Magadan","Asia/Kamchatka","Asia/Anadyr","Europe/Belgrade","Europe/Madrid","Africa/Ceuta","Atlantic/Canary","Europe/Stockholm","Europe/Zurich","Europe/Istanbul","Europe/Kiev","Europe/Uzhgorod","Europe/Zaporozhye","Europe/Simferopol","America/New_York","America/Chicago","America/North_Dakota/Center","America/Denver","America/Los_Angeles","America/Juneau","America/Yakutat","America/Anchorage","America/Nome","America/Adak","Pacific/Honolulu","America/Phoenix","America/Boise","America/Indiana/Indianapolis","America/Indiana/Marengo","America/Indiana/Knox","America/Indiana/Vevay","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Detroit","America/Menominee","America/St_Johns","America/Goose_Bay","America/Halifax","America/Glace_Bay","America/Montreal","America/Toronto","America/Thunder_Bay","America/Nipigon","America/Rainy_River","America/Winnipeg","America/Regina","America/Swift_Current","America/Edmonton","America/Vancouver","America/Dawson_Creek","America/Pangnirtung","America/Iqaluit","America/Coral_Harbour","America/Rankin_Inlet","America/Cambridge_Bay","America/Yellowknife","America/Inuvik","America/Whitehorse","America/Dawson","America/Cancun","America/Merida","America/Monterrey","America/Mexico_City","America/Chihuahua","America/Hermosillo","America/Mazatlan","America/Tijuana","America/Anguilla","America/Antigua","America/Nassau","America/Barbados","America/Belize","Atlantic/Bermuda","America/Cayman","America/Costa_Rica","America/Havana","America/Dominica","America/Santo_Domingo","America/El_Salvador","America/Grenada","America/Guadeloupe","America/Guatemala","America/Port-au-Prince","America/Tegucigalpa","America/Jamaica","America/Martinique","America/Montserrat","America/Managua","America/Panama","America/Puerto_Rico","America/St_Kitts","America/St_Lucia","America/Miquelon","America/St_Vincent","America/Grand_Turk","America/Tortola","America/St_Thomas","America/Argentina/Buenos_Aires","America/Argentina/Cordoba","America/Argentina/Tucuman","America/Argentina/La_Rioja","America/Argentina/San_Juan","America/Argentina/Jujuy","America/Argentina/Catamarca","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Ushuaia","America/Aruba","America/La_Paz","America/Noronha","America/Belem","America/Fortaleza","America/Recife","America/Araguaina","America/Maceio","America/Bahia","America/Sao_Paulo","America/Campo_Grande","America/Cuiaba","America/Porto_Velho","America/Boa_Vista","America/Manaus","America/Eirunepe","America/Rio_Branco","America/Santiago","Pacific/Easter","America/Bogota","America/Curacao","America/Guayaquil","Pacific/Galapagos","Atlantic/Stanley","America/Cayenne","America/Guyana","America/Asuncion","America/Lima","Atlantic/South_Georgia","America/Paramaribo","America/Port_of_Spain","America/Montevideo","America/Caracas"];n.sort();const o={items:[]},r=C("America/Vancouver");let s=null;for(const a of n){const l=a.indexOf("/"),c=a.replace(/_/g," "),u=a.substring(0,l);u!==s&&(o.items.push({special:"header",text:u}),s=u),o.items.push({text:c,value:a})}const i=pt({multi:!1,addRemove:!1});return Ae(()=>i.multi,a=>{r.value=a?[r.value]:r.value[0]??""}),{sampleCode:e,testItems:t,tzOpts:o,tzValue:r,customProps:i}}}),JI={class:"container"};function YI(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-select-field"),l=K("of-field"),c=K("of-demo-field");return P(),W("div",JI,[t[3]||(t[3]=g("h1",null,"Select Inputs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),b(c,null,{default:j(u=>[b(a,Ke({items:e.tzOpts,label:"Select timezone",modelValue:e.tzValue,"onUpdate:modelValue":t[0]||(t[0]=d=>e.tzValue=d)},{...u,...e.customProps}),null,16,["items","modelValue"])]),options:j(()=>[b(l,{type:"toggle",label:"Multi select","label-position":"input",modelValue:e.customProps.multi,"onUpdate:modelValue":t[1]||(t[1]=u=>e.customProps.multi=u)},null,8,["modelValue"]),e.customProps.multi?(P(),ot(l,{key:0,type:"toggle",label:"Add/Remove buttons","label-position":"input",modelValue:e.customProps.addRemove,"onUpdate:modelValue":t[2]||(t[2]=u=>e.customProps.addRemove=u)},null,8,["modelValue"])):$e("",!0)]),_:1})])}const ZI=ht(GI,[["render",YI]]),XI=be({setup(){return{sampleCode:`
<of-slider-field
  label="Field Label"
  :min="0"
  :max="100"
  :step="5"
  v-model="fieldValue"
/>`,sliderValue:C(65),sliderMax:150}}}),QI={class:"container"};function eL(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-slider-field"),l=K("of-demo-field");return P(),W("div",QI,[t[1]||(t[1]=g("h1",null,"Slider Inputs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),b(l,null,{default:j(c=>[b(a,Ke({max:e.sliderMax,step:1,label:"Test Slider ("+e.sliderValue+")",modelValue:e.sliderValue,"onUpdate:modelValue":t[0]||(t[0]=u=>e.sliderValue=u)},c),null,16,["max","label","modelValue"])]),_:1})])}const tL=ht(XI,[["render",eL]]),nL=be({setup(){const e=C("sample value"),t=()=>{e.value=new Date().getTime().toString()},n=`
<of-text-field
  label="Field Label"
  v-model="fieldValue"
/>`,o=[{text:"Items",value:"Items"},{text:"Items2",value:"Items2"},{text:"Items3",value:"Items3"}],r=C("Items"),s=a=>r.value=a,i=pt({multiline:!1});return{change:t,customProps:i,sampleCode:n,textValue:e,items:o,withItemsVal:r,upd:s}}}),oL={class:"container"},rL={class:"demo-fields of--elevated-1"},sL={class:"row demo-row"};function iL(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-text-field"),l=K("of-field"),c=K("of-demo-field");return P(),W("div",oL,[t[2]||(t[2]=g("h1",null,"Text Inputs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),b(c,null,{default:j(u=>[b(a,Ke({placeholder:"(placeholder)",help:"field help",label:"Text input",modelValue:e.textValue,"onUpdate:modelValue":t[0]||(t[0]=d=>e.textValue=d)},{...u,...e.customProps}),null,16,["modelValue"])]),options:j(()=>[b(l,{type:"toggle",label:"Multi-line","label-position":"input",modelValue:e.customProps.multiline,"onUpdate:modelValue":t[1]||(t[1]=u=>e.customProps.multiline=u)},null,8,["modelValue"])]),_:1}),g("div",rL,[g("div",sL,[b(a,{class:"of--small","model-value":"Small text input",style:{width:"10em"},frame:"none"}),b(a,{"model-value":e.withItemsVal,"onUpdate:modelValue":e.upd,style:{width:"10em"},frame:"none",items:e.items},null,8,["model-value","onUpdate:modelValue","items"]),b(a,{"model-value":"Normal text input",style:{width:"10em"},frame:"none"}),b(a,{class:"of--large","model-value":"Large text input",style:{width:"10em"},frame:"none"}),b(a,{readonly:"","model-value":"Read-only text",style:{width:"10em"},frame:"none"}),b(a,{disabled:"","model-value":"Disabled text",style:{width:"10em"},frame:"none"}),b(a,{placeholder:"Placeholder",style:{width:"10em"},frame:"none"}),b(a,{class:"of--density-3",style:{width:"10em"},"model-value":"Compact",frame:"none"}),b(a,{placeholder:"Password","input-type":"password","model-value":"password",frame:"none"}),b(a,{multiline:"",class:"of--small",style:{width:"10em"},"model-value":"Small text area",frame:"none"}),b(a,{multiline:"",style:{width:"10em"},"model-value":"Normal text area",frame:"none"}),b(a,{multiline:"",class:"of--large",style:{width:"10em"},"model-value":"Large text area",frame:"none"}),b(a,{multiline:"",readonly:"",style:{width:"10em"},"model-value":"Read-only text area",frame:"none"}),b(a,{multiline:"",disabled:"",style:{width:"10em"},"model-value":"Disabled text area",frame:"none"})])])])}const aL=ht(nL,[["render",iL]]),lL=be({setup(){const e=`
<of-toggle-field
  label="Field Label"
  v-model:checked="fieldChecked"
/>`,t=pt({switch:!1});return{checkedValue:C(!1),customProps:t,sampleCode:e}}}),cL={class:"container"};function uL(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-toggle-field"),l=K("of-demo-field");return P(),W("div",cL,[t[2]||(t[2]=g("h1",null,"Toggle Inputs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),b(l,{"allow-input-label-position":""},{default:j(c=>[b(a,Ke({type:"toggle",label:"Toggle Field",modelValue:e.checkedValue,"onUpdate:modelValue":t[0]||(t[0]=u=>e.checkedValue=u)},{...c,inputType:e.customProps.switch?"switch":null,inputLabel:e.checkedValue?"On":"Off"}),null,16,["modelValue"])]),options:j(()=>[b(a,{label:"Render as switch","label-position":"input",modelValue:e.customProps.switch,"onUpdate:modelValue":t[1]||(t[1]=c=>e.customProps.switch=c)},null,8,["modelValue"])]),_:1})])}const dL=ht(lL,[["render",uL]]),fL=be({setup(){const e=`
<of-radio-field
	label="Field Label"
	:items="['value1', 'value2', 'value3'] or [{text: 'Value1', value: 'value1'}, {text: 'Value2', value: 'value2'}, {text: 'Value3', value: 'value3'}]"
	v-model="selectedValue"
/>`,t=pt({grid:"column"}),n=["column","row"];return{checkedValue:C(""),customProps:t,sampleCode:e,gridOptions:n}}}),pL={class:"container"};function hL(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-radio-field"),l=K("of-field"),c=K("of-demo-field");return P(),W("div",pL,[t[2]||(t[2]=g("h1",null,"Radio Inputs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),b(c,{"allow-input-label-position":""},{default:j(u=>[b(a,Ke({type:"radio",label:"Radio Field",items:[{text:"Value1",value:"value1"},{text:"Value2",value:"value2"},{text:"Value3",value:"value3"}],modelValue:e.checkedValue,"onUpdate:modelValue":t[0]||(t[0]=d=>e.checkedValue=d)},{...u,grid:e.customProps.grid}),null,16,["modelValue"])]),options:j(()=>[b(l,{modelValue:e.customProps.grid,"onUpdate:modelValue":t[1]||(t[1]=u=>e.customProps.grid=u),label:"Grid",type:"select",items:e.gridOptions},null,8,["modelValue","items"])]),_:1})])}const mL=ht(fL,[["render",hL]]),gL=C({context:"hex"}),vL=["hex","hsl","rgb"],yL=C("hsl(240, 33%, 72%)"),bL=be({setup(){return{sampleCode:`
<of-color-field
  label="Color"
  v-model="colorValue"
/>`,colorValue:yL,customProps:gL,colorModeOptions:vL}}}),wL={class:"container"};function kL(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-field"),l=K("of-demo-field");return P(),W("div",wL,[t[2]||(t[2]=g("h1",null,"Color Picker Inputs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),b(l,null,{default:j(c=>[b(a,Ke({type:"color",label:"Color Field",modelValue:e.colorValue,"onUpdate:modelValue":t[0]||(t[0]=u=>e.colorValue=u)},{...c,...e.customProps}),null,16,["modelValue"])]),options:j(()=>[b(a,{type:"select",label:"Color Mode",items:e.colorModeOptions,modelValue:e.customProps.context,"onUpdate:modelValue":t[1]||(t[1]=c=>e.customProps.context=c)},null,8,["items","modelValue"])]),_:1})])}const CL=ht(bL,[["render",kL]]),SL=C("2021-03-05 12:00"),xL=C("2021-03-05"),AL=C("18:55"),ML=be({setup(){const e=`
<of-datetime-field
  label="Date and time"
  v-model="inputValue"
/>
`,t=C(""),n=[{text:"default",value:""},{text:"Y-m-d",value:"Y-m-d"},{text:"m-d-Y",value:"m-d-Y"},{text:"d-m-Y",value:"d-m-Y"},{text:"Y/m/d",value:"Y/m/d"},{text:"m/d/Y",value:"m/d/Y"},{text:"d/m/Y",value:"d/m/Y"},{text:"Y.m.d",value:"Y.m.d"},{text:"d.m.Y",value:"d.m.Y"},{text:"m.d.Y",value:"m.d.Y"}],o=C(""),r=[{text:"default",value:""},{text:"H:i",value:"H:i"},{text:"h:ia",value:"h:ia"},{text:"h:i a",value:"h:i a"},{text:"h:iA",value:"h:iA"},{text:"h:i A",value:"h:i A"},{text:"H.i",value:"H.i"},{text:"h.ia",value:"h.ia"},{text:"h.i a",value:"h.i a"},{text:"h.iA",value:"h.iA"},{text:"h.i A",value:"h.i A"}],s=C(""),i=[{text:"default",value:""},{text:"en-CA",value:"en-CA"},{text:"de-CH",value:"de-CH"},{text:"de-DE",value:"de-DE"},{text:"fr-FR",value:"fr-FR"}],a=["Africa/Algiers","Africa/Luanda","Africa/Porto-Novo","Africa/Gaborone","Africa/Ouagadougou","Africa/Bujumbura","Africa/Douala","Atlantic/Cape_Verde","Africa/Bangui","Africa/Ndjamena","Indian/Comoro","Africa/Kinshasa","Africa/Lubumbashi","Africa/Brazzaville","Africa/Abidjan","Africa/Djibouti","Africa/Cairo","Africa/Malabo","Africa/Asmera","Africa/Addis_Ababa","Africa/Libreville","Africa/Banjul","Africa/Accra","Africa/Conakry","Africa/Bissau","Africa/Nairobi","Africa/Maseru","Africa/Monrovia","Africa/Tripoli","Indian/Antananarivo","Africa/Blantyre","Africa/Bamako","Africa/Nouakchott","Indian/Mauritius","Indian/Mayotte","Africa/Casablanca","Africa/El_Aaiun","Africa/Maputo","Africa/Windhoek","Africa/Niamey","Africa/Lagos","Indian/Reunion","Africa/Kigali","Atlantic/St_Helena","Africa/Sao_Tome","Africa/Dakar","Indian/Mahe","Africa/Freetown","Africa/Mogadishu","Africa/Johannesburg","Africa/Khartoum","Africa/Mbabane","Africa/Dar_es_Salaam","Africa/Lome","Africa/Tunis","Africa/Kampala","Africa/Lusaka","Africa/Harare","Antarctica/Casey","Antarctica/Davis","Antarctica/Mawson","Indian/Kerguelen","Antarctica/DumontDUrville","Antarctica/Syowa","Antarctica/Vostok","Antarctica/Rothera","Antarctica/Palmer","Antarctica/McMurdo","Asia/Kabul","Asia/Yerevan","Asia/Baku","Asia/Bahrain","Asia/Dhaka","Asia/Thimphu","Indian/Chagos","Asia/Brunei","Asia/Rangoon","Asia/Phnom_Penh","Asia/Harbin","Asia/Shanghai","Asia/Chongqing","Asia/Urumqi","Asia/Kashgar","Asia/Hong_Kong","Asia/Taipei","Asia/Macau","Asia/Nicosia","Asia/Tbilisi","Asia/Dili","Asia/Calcutta","Asia/Jakarta","Asia/Pontianak","Asia/Makassar","Asia/Jayapura","Asia/Tehran","Asia/Baghdad","Asia/Jerusalem","Asia/Tokyo","Asia/Amman","Asia/Almaty","Asia/Qyzylorda","Asia/Aqtobe","Asia/Aqtau","Asia/Oral","Asia/Bishkek","Asia/Seoul","Asia/Pyongyang","Asia/Kuwait","Asia/Vientiane","Asia/Beirut","Asia/Kuala_Lumpur","Asia/Kuching","Indian/Maldives","Asia/Hovd","Asia/Ulaanbaatar","Asia/Choibalsan","Asia/Katmandu","Asia/Muscat","Asia/Karachi","Asia/Gaza","Asia/Manila","Asia/Qatar","Asia/Riyadh","Asia/Singapore","Asia/Colombo","Asia/Damascus","Asia/Dushanbe","Asia/Bangkok","Asia/Ashgabat","Asia/Dubai","Asia/Samarkand","Asia/Tashkent","Asia/Saigon","Asia/Aden","Australia/Darwin","Australia/Perth","Australia/Brisbane","Australia/Lindeman","Australia/Adelaide","Australia/Hobart","Australia/Currie","Australia/Melbourne","Australia/Sydney","Australia/Broken_Hill","Indian/Christmas","Pacific/Rarotonga","Indian/Cocos","Pacific/Fiji","Pacific/Gambier","Pacific/Marquesas","Pacific/Tahiti","Pacific/Guam","Pacific/Tarawa","Pacific/Enderbury","Pacific/Kiritimati","Pacific/Saipan","Pacific/Majuro","Pacific/Kwajalein","Pacific/Truk","Pacific/Ponape","Pacific/Kosrae","Pacific/Nauru","Pacific/Noumea","Pacific/Auckland","Pacific/Chatham","Pacific/Niue","Pacific/Norfolk","Pacific/Palau","Pacific/Port_Moresby","Pacific/Pitcairn","Pacific/Pago_Pago","Pacific/Apia","Pacific/Guadalcanal","Pacific/Fakaofo","Pacific/Tongatapu","Pacific/Funafuti","Pacific/Johnston","Pacific/Midway","Pacific/Wake","Pacific/Efate","Pacific/Wallis","Europe/London","Europe/Dublin","WET","CET","MET","EET","Europe/Tirane","Europe/Andorra","Europe/Vienna","Europe/Minsk","Europe/Brussels","Europe/Sofia","Europe/Prague","Europe/Copenhagen","Atlantic/Faeroe","America/Danmarkshavn","America/Scoresbysund","America/Godthab","America/Thule","Europe/Tallinn","Europe/Helsinki","Europe/Paris","Europe/Berlin","Europe/Gibraltar","Europe/Athens","Europe/Budapest","Atlantic/Reykjavik","Europe/Rome","Europe/Riga","Europe/Vaduz","Europe/Vilnius","Europe/Luxembourg","Europe/Malta","Europe/Chisinau","Europe/Monaco","Europe/Amsterdam","Europe/Oslo","Europe/Warsaw","Europe/Lisbon","Atlantic/Azores","Atlantic/Madeira","Europe/Bucharest","Europe/Kaliningrad","Europe/Moscow","Europe/Samara","Asia/Yekaterinburg","Asia/Omsk","Asia/Novosibirsk","Asia/Krasnoyarsk","Asia/Irkutsk","Asia/Yakutsk","Asia/Vladivostok","Asia/Sakhalin","Asia/Magadan","Asia/Kamchatka","Asia/Anadyr","Europe/Belgrade","Europe/Madrid","Africa/Ceuta","Atlantic/Canary","Europe/Stockholm","Europe/Zurich","Europe/Istanbul","Europe/Kiev","Europe/Uzhgorod","Europe/Zaporozhye","Europe/Simferopol","America/New_York","America/Chicago","America/North_Dakota/Center","America/Denver","America/Los_Angeles","America/Juneau","America/Yakutat","America/Anchorage","America/Nome","America/Adak","Pacific/Honolulu","America/Phoenix","America/Boise","America/Indiana/Indianapolis","America/Indiana/Marengo","America/Indiana/Knox","America/Indiana/Vevay","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Detroit","America/Menominee","America/St_Johns","America/Goose_Bay","America/Halifax","America/Glace_Bay","America/Montreal","America/Toronto","America/Thunder_Bay","America/Nipigon","America/Rainy_River","America/Winnipeg","America/Regina","America/Swift_Current","America/Edmonton","America/Vancouver","America/Dawson_Creek","America/Pangnirtung","America/Iqaluit","America/Coral_Harbour","America/Rankin_Inlet","America/Cambridge_Bay","America/Yellowknife","America/Inuvik","America/Whitehorse","America/Dawson","America/Cancun","America/Merida","America/Monterrey","America/Mexico_City","America/Chihuahua","America/Hermosillo","America/Mazatlan","America/Tijuana","America/Anguilla","America/Antigua","America/Nassau","America/Barbados","America/Belize","Atlantic/Bermuda","America/Cayman","America/Costa_Rica","America/Havana","America/Dominica","America/Santo_Domingo","America/El_Salvador","America/Grenada","America/Guadeloupe","America/Guatemala","America/Port-au-Prince","America/Tegucigalpa","America/Jamaica","America/Martinique","America/Montserrat","America/Managua","America/Panama","America/Puerto_Rico","America/St_Kitts","America/St_Lucia","America/Miquelon","America/St_Vincent","America/Grand_Turk","America/Tortola","America/St_Thomas","America/Argentina/Buenos_Aires","America/Argentina/Cordoba","America/Argentina/Tucuman","America/Argentina/La_Rioja","America/Argentina/San_Juan","America/Argentina/Jujuy","America/Argentina/Catamarca","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Ushuaia","America/Aruba","America/La_Paz","America/Noronha","America/Belem","America/Fortaleza","America/Recife","America/Araguaina","America/Maceio","America/Bahia","America/Sao_Paulo","America/Campo_Grande","America/Cuiaba","America/Porto_Velho","America/Boa_Vista","America/Manaus","America/Eirunepe","America/Rio_Branco","America/Santiago","Pacific/Easter","America/Bogota","America/Curacao","America/Guayaquil","Pacific/Galapagos","Atlantic/Stanley","America/Cayenne","America/Guyana","America/Asuncion","America/Lima","Atlantic/South_Georgia","America/Paramaribo","America/Port_of_Spain","America/Montevideo","America/Caracas"];a.sort();const l={items:[]},c=C("America/Vancouver");let u=null;for(const f of a){const p=f.indexOf("/"),h=f.replace(/_/g," "),m=f.substring(0,p);m!==u&&(l.items.push({special:"header",text:m}),u=m),l.items.push({text:h,value:f})}const d=pt({showTodayButton:!0});return{sampleCode:e,dateValue:xL,dateTimeValue:SL,timeValue:AL,dateFormatOptions:n,dateFormat:t,timeFormatOptions:r,timeFormat:o,localeOpts:i,locale:s,tzOpts:l,timeZone:c,customProps:d}}}),TL={class:"container"},EL={class:"row",style:{"column-gap":"1em"}},$L={class:"column"},OL={class:"column"},DL={class:"column"},RL={class:"column"};function NL(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-select-field"),l=K("of-date-field"),c=K("of-field"),u=K("of-demo-field"),d=K("of-datetime-field"),f=K("of-time-field"),p=K("of-config");return P(),ot(p,{"locale-params":{dateTimeFormat:{dateFormat:e.dateFormat,timeFormat:e.timeFormat,timeZone:e.timeZone}},locale:e.locale},{default:j(()=>[g("div",TL,[t[9]||(t[9]=g("h1",null,"Date & Time Inputs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),t[10]||(t[10]=g("br",null,null,-1)),g("div",EL,[g("div",$L,[b(a,{label:"Select Locale",items:e.localeOpts,modelValue:e.locale,"onUpdate:modelValue":t[0]||(t[0]=h=>e.locale=h)},null,8,["items","modelValue"])]),g("div",OL,[b(a,{label:"Select Date Format",items:e.dateFormatOptions,modelValue:e.dateFormat,"onUpdate:modelValue":t[1]||(t[1]=h=>e.dateFormat=h)},null,8,["items","modelValue"])]),g("div",DL,[b(a,{label:"Select Time Format",items:e.timeFormatOptions,modelValue:e.timeFormat,"onUpdate:modelValue":t[2]||(t[2]=h=>e.timeFormat=h)},null,8,["items","modelValue"])]),g("div",RL,[b(a,{items:e.tzOpts,label:"Select Timezone",placeholder:"browser",modelValue:e.timeZone,"onUpdate:modelValue":t[3]||(t[3]=h=>e.timeZone=h)},null,8,["items","modelValue"])])]),b(u,null,{default:j(h=>[b(l,Ke({label:"Date only",modelValue:e.dateValue,"onUpdate:modelValue":t[4]||(t[4]=m=>e.dateValue=m)},{...h,...e.customProps}),null,16,["modelValue"])]),options:j(()=>[b(c,{type:"toggle",label:"Show Today Button","label-position":"input",modelValue:e.customProps.showTodayButton,"onUpdate:modelValue":t[5]||(t[5]=h=>e.customProps.showTodayButton=h)},null,8,["modelValue"])]),_:1}),b(u,null,{default:j(h=>[b(d,Ke({label:"Date and Time",modelValue:e.dateTimeValue,"onUpdate:modelValue":t[6]||(t[6]=m=>e.dateTimeValue=m)},{...h,...e.customProps}),null,16,["modelValue"])]),options:j(()=>[b(c,{type:"toggle",label:"Show Today button","label-position":"input",modelValue:e.customProps.showTodayButton,"onUpdate:modelValue":t[7]||(t[7]=h=>e.customProps.showTodayButton=h)},null,8,["modelValue"])]),_:1}),b(u,null,{default:j(h=>[b(f,Ke({label:"Time only",modelValue:e.timeValue,"onUpdate:modelValue":t[8]||(t[8]=m=>e.timeValue=m)},h),null,16,["modelValue"])]),_:1})])]),_:1},8,["locale-params","locale"])}const IL=ht(ML,[["render",NL]]),LL=be({setup(){return{record:wa({first:"Bob",last:"Terwilliger",salutation:"Mr"}),sampleCode:""}}}),PL={class:"container"},VL={class:"demo-fields of--elevated-1",style:{"max-width":"fit-content"}},_L={class:"row form-row"},BL={class:"column filled"},HL={class:"of-block"},zL={class:"of-group of--elevated"},FL={class:"of-group-row of--pad"},jL={class:"of-block"},UL={class:"of-group of--elevated"},KL={class:"of-group-row of--pad"},WL={class:"of-group-row of--pad"},qL={class:"of-block"},GL={class:"of-group of--elevated"},JL={class:"of-group-row of--pad"},YL={class:"of-group-row of--pad"},ZL={class:"of-group-row of--pad"};function XL(e,t,n,o,r,s){const i=K("of-field");return P(),W("div",PL,[t[5]||(t[5]=g("h1",null,"Grouped Inputs",-1)),g("div",VL,[g("div",_L,[g("div",BL,[g("div",HL,[g("div",zL,[g("div",FL,[b(i,{id:"pw","input-type":"password",label:"Password"}),b(i,{id:"cpw","input-type":"password",label:"Confirm Password"})])])]),g("div",jL,[g("div",UL,[t[0]||(t[0]=g("div",{class:"of-group-label"},"Primary Address",-1)),g("div",KL,[b(i,{type:"text",label:"Street","model-value":"99 Street Ave.",id:"street",variant:"filled"})]),g("div",WL,[b(i,{type:"text",label:"City","model-value":"Vancouver",variant:"filled",id:"city"}),b(i,{type:"text",label:"State","model-value":"BC",variant:"filled",id:"state"})])])]),g("div",qL,[g("div",GL,[t[4]||(t[4]=g("div",{class:"of-group-label"},"Phone Numbers",-1)),g("div",JL,[b(i,{type:"text",frame:"none","model-value":"999-888-7777",variant:"filled",density:"3",id:"ph1"}),t[1]||(t[1]=g("label",{class:"of-group-label",for:"ph1"},"work",-1))]),g("div",YL,[b(i,{type:"text",frame:"none","model-value":"999-888-7778",variant:"filled",density:"3",id:"ph2"}),t[2]||(t[2]=g("label",{class:"of-group-label",for:"ph2"},"mobile",-1))]),g("div",ZL,[b(i,{type:"text",frame:"none","model-value":"999-888-7789",variant:"filled",density:"3",id:"ph3"}),t[3]||(t[3]=g("label",{class:"of-group-label",for:"ph3"},"home",-1))])])])])])])])}const QL=ht(LL,[["render",XL],["__scopeId","data-v-7714aa2e"]]),e7=["material","attached"],t7=["1px","2px","3px"],n7=["default","0","1","2","3"],o7=be({setup(){const e=`
<of-tabs :items="itemsList" v-model="selItem" variant="material" @select-tab="selectTab" />
<of-tabs :items="itemsList" v-model="selItem" variant="material" submenu />
<of-tabs :items="itemsList2" v-model="selItem" :scrolling="true" style="width: 400px;" />
<of-tabs :items="itemsList3" v-model="selItem" overflow-buttton style="width: 400px;" />
<of-tabs :items="itemsList" v-model="selItem" variant="osx" />
`,t=pt({variant:"material",rounded:!1,border:!1,borderWidth:"1px",density:"default"}),n=["Tab 1","Tab 2","Tab 3",{text:"Tab 4",params:{module:"Test",layout:"Standard"}}],o=["Tab 1","Tab 2",{text:"Tab 3",icon:"user"},"Tab 4","Tab 5",{text:"Tab 6",disabled:!0},"Tab 7","Tab 8"],r=["Tab 1","Tab 2","Tab 3",{text:"Tab 4",icon:"user"},"Tab 5",{text:"Tab 6"},"Tab 7",{text:"Tab 8",disabled:!0},"Tab 9",{text:"Tab 10",icon:"led blue"}],s=["Tab 1","Tab 2","Tab 3",{text:"Tab 4"},{text:"Tab 5"}],i=[{text:"Tab 1",subMenuItems:[{text:"SubMenu Tab11",icon:"led blue"},{text:"SubMenu Tab12",icon:"led red"}]},{text:"Tab 2",subMenuItems:[{text:"SubMenu Tab21"},{text:"SubMenu Tab22"}]},{text:"Tab 3",subMenuItems:[{text:"SubMenu Tab31"},{text:"SubMenu Tab32"},{text:"SubMenu Tab33"}]}],a=["Tab 1","Tab 2",{text:"Tab 3",icon:"user"},"Tab 4","Tab 5",{text:"Tab 6",disabled:!0},"Tab 7","Tab 8"],l=C(0),c=C(1),u=C(0),d=C(0),f=C(0),p=C(1);return{sampleCode:e,selectTab:function(m){console.log(m)},params:t,variants:e7,borderWidths:t7,densities:n7,testItems:n,selected1:l,testItems2:o,selected2:c,testItems3:r,selected3:u,testItems4:s,selected4:d,testItems5:i,selected5:f,testItems6:a,selected6:p}}}),r7={class:"container"},s7={class:"demo-fields of--elevated-1"},i7={class:"row"},a7={class:"column spaced"},l7={class:"column spaced"},c7={class:"column spaced",style:{"align-self":"flex-end"}},u7={key:0,class:"column spaced",style:{"align-self":"flex-end"}},d7={key:1,class:"column spaced"},f7={class:"demo-fields of--elevated-1"};function p7(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-field"),l=K("of-tabs");return P(),W("div",r7,[t[15]||(t[15]=g("h1",null,"Tabs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),g("div",s7,[g("div",i7,[g("div",a7,[b(a,{modelValue:e.params.variant,"onUpdate:modelValue":t[0]||(t[0]=c=>e.params.variant=c),label:"Variant",type:"select",items:e.variants},null,8,["modelValue","items"])]),g("div",l7,[b(a,{modelValue:e.params.density,"onUpdate:modelValue":t[1]||(t[1]=c=>e.params.density=c),label:"Density",type:"select",items:e.densities},null,8,["modelValue","items"])]),g("div",c7,[b(a,{modelValue:e.params.rounded,"onUpdate:modelValue":t[2]||(t[2]=c=>e.params.rounded=c),label:"Rounded",type:"toggle","label-position":"input"},null,8,["modelValue"])]),e.params.variant=="attached"?(P(),W("div",u7,[b(a,{modelValue:e.params.border,"onUpdate:modelValue":t[3]||(t[3]=c=>e.params.border=c),label:"Border",type:"toggle","label-position":"input"},null,8,["modelValue"])])):$e("",!0),e.params.variant=="attached"&&e.params.border?(P(),W("div",d7,[b(a,{modelValue:e.params.borderWidth,"onUpdate:modelValue":t[4]||(t[4]=c=>e.params.borderWidth=c),label:"Content border width",type:"select",items:e.borderWidths},null,8,["modelValue","items"])])):$e("",!0)]),t[10]||(t[10]=g("h2",null,"Regular tabs",-1)),b(l,{items:e.testItems,modelValue:e.selected1,"onUpdate:modelValue":t[5]||(t[5]=c=>e.selected1=c),variant:e.params.variant,density:e.params.density,rounded:e.params.rounded,"with-border":e.params.border,"active-offset":e.params.borderWidth,onSelectTab:e.selectTab},null,8,["items","modelValue","variant","density","rounded","with-border","active-offset","onSelectTab"]),g("div",{class:Xe([{[`demo-tabs-content-${e.params.variant}`]:!0,"with-border":e.params.border},"demo-tabs-content"]),style:Ht({"--border-width":e.params.borderWidth})}," Tab "+Fe(e.selected1+1)+" content ",7),t[11]||(t[11]=g("h2",null,"Tabs with submenu",-1)),b(l,{items:e.testItems5,submenu:"",modelValue:e.selected5,"onUpdate:modelValue":t[6]||(t[6]=c=>e.selected5=c),variant:e.params.variant,density:e.params.density,rounded:e.params.rounded,"with-border":e.params.border,"active-offset":e.params.borderWidth,onSelectTab:e.selectTab},null,8,["items","modelValue","variant","density","rounded","with-border","active-offset","onSelectTab"]),g("div",{class:Xe([{[`demo-tabs-content-${e.params.variant}`]:!0,"with-border":e.params.border},"demo-tabs-content"]),style:Ht({"--border-width":e.params.borderWidth})}," Tab "+Fe(e.selected5+1)+" content ",7),t[12]||(t[12]=g("h2",null,"Scrolling tabs",-1)),b(l,{items:e.testItems2,modelValue:e.selected2,"onUpdate:modelValue":t[7]||(t[7]=c=>e.selected2=c),scrolling:!0,variant:e.params.variant,density:e.params.density,rounded:e.params.rounded,"with-border":e.params.border,"active-offset":e.params.borderWidth,style:{"max-width":"400px"}},null,8,["items","modelValue","variant","density","rounded","with-border","active-offset"]),g("div",{class:Xe([{[`demo-tabs-content-${e.params.variant}`]:!0,"with-border":e.params.border},"demo-tabs-content"]),style:Ht({"--border-width":e.params.borderWidth})}," Tab "+Fe(e.selected2+1)+" content ",7),t[13]||(t[13]=g("h2",null,"Tabs with overflow button",-1)),b(l,{items:e.testItems3,modelValue:e.selected3,"onUpdate:modelValue":t[8]||(t[8]=c=>e.selected3=c),"overflow-button":"",variant:e.params.variant,density:e.params.density,rounded:e.params.rounded,"with-border":e.params.border,"active-offset":e.params.borderWidth,style:{"max-width":"400px"},onSelectTab:e.selectTab},null,8,["items","modelValue","variant","density","rounded","with-border","active-offset","onSelectTab"]),g("div",{class:Xe([{[`demo-tabs-content-${e.params.variant}`]:!0,"with-border":e.params.border},"demo-tabs-content"]),style:Ht({"--border-width":e.params.borderWidth})}," Tab "+Fe(e.selected3+1)+" content ",7)]),g("div",f7,[t[14]||(t[14]=g("h2",null,"OSX tabs",-1)),b(l,{items:e.testItems6,modelValue:e.selected6,"onUpdate:modelValue":t[9]||(t[9]=c=>e.selected6=c),variant:"osx"},null,8,["items","modelValue"])])])}const h7=ht(o7,[["render",p7],["__scopeId","data-v-9afebf71"]]),m7=["outlined","tonal","filled","elevated"],g7=be({setup(){const e=`
<of-pagination
  :model-value="1"
  variant="outlined"
  :total-pages="20"
  :min-per-page="5"
 custom-offset-popup
/>
`,n=C(20),o=C(5),r=C(1),s=C(1),i=function(u){console.log("Page selected"),console.log(u),s.value=WM(u.page,u.perPage)},a=function(u){console.log("Offset Params updated"),console.log(u),s.value=u.startRecord,r.value=qM(s.value,u.perPage)},l=["default","0","1","2","3"],c=pt({density:"default"});return{sampleCode:e,total:20,page:r,perPage:n,minPerPage:o,startRecord:s,densityOptions:l,params:c,variants:m7,selectPage:i,updateOffset:a}}}),v7={class:"container"},y7={class:"row"},b7={class:"demo-fields"};function w7(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-field"),l=K("of-pagination");return P(),W("div",v7,[t[2]||(t[2]=g("h1",null,"Pagination Controller",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),t[3]||(t[3]=g("br",null,null,-1)),g("div",y7,[b(a,{modelValue:e.params.density,"onUpdate:modelValue":t[0]||(t[0]=c=>e.params.density=c),label:"Density",type:"select",items:e.densityOptions},null,8,["modelValue","items"])]),g("div",b7,[(P(!0),W(Pe,null,ct(e.variants,c=>(P(),W("div",{class:"row form-row",key:c},[b(l,{modelValue:e.page,"onUpdate:modelValue":t[1]||(t[1]=u=>e.page=u),variant:c,density:e.params.density,"per-page":e.perPage,"min-per-page":e.minPerPage,"total-pages":e.total,"start-record":e.startRecord,onSelectPage:e.selectPage,onUpdateOffset:e.updateOffset,"custom-offset-popup":""},null,8,["modelValue","variant","density","per-page","min-per-page","total-pages","start-record","onSelectPage","onUpdateOffset"])]))),128))])])}const k7=ht(g7,[["render",w7]]),C7=[{value:"day",text:"Day"},{value:"week",text:"Week"},{value:"category",text:"Category"},{value:"ndays",text:"N Days"},{value:"month",text:"Month"},{value:"year",text:"Year"}];function S7(e){const t=e.name??"";let n=3735928559,o=1103547991;for(let s=0,i;s<t.length;s++)i=t.charCodeAt(s),n=Math.imul(n^i,2654435761),o=Math.imul(o^i,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),"hsl("+(4294967296*(2097151&o)+(n>>>0))%360+", 30%, 40%)"}const Do=wa({useSlots:!1,limitHours:!1,type:"year",layout:"columns",groupAllDayEvents:!1}),dw=["Project task","Event","Absence","Holiday"],x7=["Meeting","Discussion","Lunch"],A7=["state-danger","state-ignore","state-special","state-primary"];function cd(e){const t=Math.floor(Math.random()*e.length);return e[t]}let fw=C([]);function ms(e,t){let n=`${e}`;for(;n.length<t;n=`0${n}`);return n}function M7(e){return ms(e.getUTCFullYear(),4)+"-"+ms(e.getUTCMonth()+1,2)+"-"+ms(e.getUTCDate(),2)+" "+ms(e.getUTCHours(),2)+":"+ms(e.getUTCMinutes(),2)+":"+ms(e.getUTCSeconds(),2)}function pw(){let e=1;const t=new Date,n=[];for(let o=-31;o<31;o++){const r=2+Math.random()*3,s=ln(t,o);s.setHours(0),s.setMinutes(0);for(let i=0;i<r;i++){const a=$i(s,Math.floor(Math.random()*28)*15),l=30+15*Math.floor(Math.random()*24+(Math.random()>.95?96:0)),c={name:cd(x7)+" "+e++,start:M7(a),duration:l,class:cd(A7),allDay:Math.random()>.7,category:cd(dw)};n.push(c)}}fw.value=n}pw();const T7=be({setup(){const e=C(null),t=C(!1),n=C({});return Do.value,{events:C(fw),eventColor:S7,state:Do,values:Do.value,types:C7,regenerateEvents:()=>{t.value=!1,pw()},categories:dw,detailsVisible:t,detailsTarget:e,detailsEvent:n,eventClicked:(o,r)=>{e.value=o.target,n.value=r,t.value=!0},weekClicked:(o,r,s)=>{Do.value={...Do.value,type:"week",day:s}},dayClicked:(o,r)=>{Do.value={...Do.value,type:"day",day:r}},categoryClicked:(o,r)=>{Do.value={...Do.value,selectedCategory:r}},hidePopup:()=>{t.value=!1}}}}),E7={class:"container"},$7={class:"state-special",style:{width:"200px",height:"60px",background:"var(--color-bg-event)",color:"var(--color-event)",border:"solid 1px var(--color-border-event)","border-radius":"10px"}},O7={class:"of-group"},D7={class:"of-group-row of--pad"},R7={class:"header-options-fields"},N7={class:"of-group-row of--pad"},I7={style:{width:"100%"}},L7={key:0};function P7(e,t,n,o,r,s){const i=K("of-overlay"),a=K("of-select-field"),l=K("of-toggle-field"),c=K("of-button"),u=K("of-icon"),d=K("of-calendar");return P(),W("div",E7,[t[4]||(t[4]=g("h1",null,"Calendar",-1)),b(i,{active:e.detailsVisible,target:e.detailsTarget,capture:!1,shade:!1,focus:!1,onBlur:e.hidePopup},{default:j(()=>[g("div",$7,Fe(e.detailsEvent.name),1)]),_:1},8,["active","target","onBlur"]),g("div",O7,[g("div",D7,[b(a,{items:e.types,record:e.state,name:"type"},null,8,["items","record"]),b(a,{items:["columns","stack"],record:e.state,name:"layout"},null,8,["record"])]),g("div",R7,[b(l,{name:"useSlots",label:"Use slots",record:e.state},null,8,["record"]),b(l,{name:"hideOtherMonths",label:"Hide adjacent months",record:e.state},null,8,["record"]),b(l,{name:"customColors",label:"Custom colors",record:e.state},null,8,["record"]),b(l,{name:"limitHours",label:"Limit hours",record:e.state},null,8,["record"]),e.state.value.type=="day"||e.state.value.type=="week"?(P(),ot(l,{key:0,name:"groupAllDayEvents",label:"Group all day events",record:e.state},null,8,["record"])):$e("",!0)]),g("div",N7,[b(c,{rounded:"",icon:"refresh",onClick:e.regenerateEvents},{default:j(()=>[...t[0]||(t[0]=[ce("Regenerate events",-1)])]),_:1},8,["onClick"])])]),t[5]||(t[5]=g("br",null,null,-1)),b(d,{"fixed-row-height":"",selectable:"","onClick:event":e.eventClicked,"onClick:day":e.dayClicked,"onClick:more":e.dayClicked,"onClick:category":e.categoryClicked,"onClick:week":e.weekClicked,"onBlur:day":e.hidePopup,type:e.values.type,day:e.values.day,"num-days":"3","events-limit":"3",events:e.events,layout:e.values.layout,categories:e.categories,"event-color":e.values.customColors?e.eventColor:null,"hide-other-months":e.values.hideOtherMonths,"day-start":e.values.limitHours?8:0,"day-end":e.values.limitHours?18:24,"group-all-day-events":e.values.groupAllDayEvents,"group-postfix":"(s)"},Rc({_:2},[e.values.useSlots?{name:"header",fn:j(()=>[t[1]||(t[1]=g("h3",null,"Additional controls can go here",-1))]),key:"0"}:void 0,e.values.useSlots?{name:"footer",fn:j(()=>[t[2]||(t[2]=g("h3",null,"Additional information can go here",-1))]),key:"1"}:void 0,e.values.useSlots?{name:"all-day-label",fn:j(()=>[t[3]||(t[3]=g("span",{class:"all-day-label"},"all-day",-1))]),key:"2"}:void 0,e.values.useSlots?{name:"day-title",fn:j(f=>[ce(Fe(f.getDate()),1)]),key:"3"}:void 0,e.values.useSlots?{name:"more",fn:j(f=>[ce(Fe(f)+" more events ",1)]),key:"4"}:void 0,e.values.useSlots?{name:"week-number",fn:j(f=>[ce(" W"+Fe(f),1)]),key:"5"}:void 0,e.values.useSlots?{name:"category-title",fn:j(f=>[g("div",I7,[g("div",{style:Ht({display:"flex","align-items":"center","background-color":f===e.values.selectedCategory?"#eee":"inherit",width:"100%","justify-content":"center"})},[b(u,{name:"user"}),g("i",null,Fe(f),1)],4)])]),key:"6"}:void 0,e.values.useSlots?{name:"event-content",fn:j(({formattedRange:f,event:p,brk:h})=>[b(u,{name:"phone",size:"inherit"}),g("b",null,[g("i",null,Fe(p.name),1)]),h?(P(),W("br",L7)):$e("",!0),ce(" "+Fe(f),1)]),key:"7"}:void 0,e.values.useSlots?{name:"allday-event-content",fn:j(({event:f})=>[b(u,{name:"phone",size:"inherit"}),g("b",null,[g("i",null,Fe(f.name),1)])]),key:"8"}:void 0]),1032,["onClick:event","onClick:day","onClick:more","onClick:category","onClick:week","onBlur:day","type","day","events","layout","categories","event-color","hide-other-months","day-start","day-end","group-all-day-events"])])}const V7=ht(T7,[["render",P7]]),_7=be({setup(){const e=`
<of-dialog
  v-model="dialogActive"
/>
`,t=wa({one:"optionA",two:"text",three:!0,four:25,five:"2021-03-14 15:45",six:"2021-02-15",seven:"12:00:00",eight:"https://1crm.com/"}),n=C("62.14"),o=C(""),r=C(""),s=C(""),i=()=>{n.value=new Date().getTime().toString()},a=A(()=>JSON.stringify(t.value,null,2)),l=C("<h3><i>Oceanfront is the best UI lib!</i></h3>"),c=C(!0),u=w=>{console.log(w)},d=C(!1),f=C(!1),p=C(!1),h=C(!1),m=C(!1),v=C(!1),y=C(!1);return{change:i,formatValue:a,testRecord:t,textValue:n,content:l,editable:c,updated:u,dialogActive:d,secondDialogActive:f,thirdDialogActive:p,fourthDialogActive:h,fifthDialogActive:m,sixthDialogActive:v,nestedDialogActive:y,sampleCode:e,selectValue:o,selectValueSecondDialog:r,selectValueSixthDialog:s,toggleDialog:()=>{d.value=!d.value},toggleSecondDialog:()=>{f.value=!f.value},toggleThirdDialog:()=>{p.value=!p.value},toggleFourthDialog:()=>{h.value=!h.value},toggleFifthDialog:()=>{m.value=!m.value},toggleNestedDialog:()=>{y.value=!y.value},toggleSixthDialog:()=>{v.value=!v.value}}}}),B7={class:"container"},H7={class:"container"},z7={class:"container"},F7={class:"container"},j7={class:"container"},U7={class:"row"},K7={class:"container"},W7={class:"row content"},q7={class:"column"},G7={class:"demo-form of--elevated-1"},J7={class:"row form-row"},Y7={class:"column"},Z7={class:"row form-row"},X7={class:"column"},Q7={class:"row form-row"},eP={class:"column"},tP={class:"row form-row"},nP={class:"column"},oP={class:"row form-row"},rP={class:"column"},sP={class:"row form-row"},iP={class:"column"},aP={class:"row form-row"},lP={class:"column"},cP={class:"row form-row"},uP={class:"column"},dP={class:"column"},fP={class:"record-info"},pP={class:"row"},hP={class:"column sm-8"},mP={class:"row"},gP={class:"column sm-8"},vP={class:"demo-fields of--elevated-1",style:{"max-width":"fit-content"}},yP={class:"row form-row"},bP={class:"column filled",style:{"margin-right":"5px"}},wP={class:"of-block"},kP={class:"of-group of--elevated"},CP={class:"of-group-row of--pad"},SP={class:"of-block"},xP={class:"of-group of--elevated"},AP={class:"of-group-row of--pad"},MP={class:"of-group-row of--pad"},TP={class:"of-block"},EP={class:"of-group of--elevated"},$P={class:"of-group-row of--pad"},OP={class:"of-group-row of--pad"},DP={class:"of-group-row of--pad"},RP={class:"column filled",style:{"margin-right":"5px"}},NP={class:"of-block"},IP={class:"of-group of--elevated"},LP={class:"of-group-row of--pad"},PP={class:"of-block"},VP={class:"of-group of--elevated"},_P={class:"of-group-row of--pad"},BP={class:"of-group-row of--pad"},HP={class:"of-block"},zP={class:"of-group of--elevated"},FP={class:"of-group-row of--pad"},jP={class:"of-group-row of--pad"},UP={class:"of-group-row of--pad"},KP={class:"container"},WP={class:"row content"},qP={class:"column"},GP={class:"record-info"},JP={class:"row"},YP={class:"column sm-8"},ZP={class:"row"},XP={class:"column sm-8"},QP={class:"demo-fields of--elevated-1",style:{"max-width":"fit-content"}},eV={class:"row form-row"},tV={class:"column filled",style:{"margin-right":"5px"}},nV={class:"of-block"},oV={class:"of-group of--elevated"},rV={class:"of-group-row of--pad"},sV={class:"of-block"},iV={class:"of-group of--elevated"},aV={class:"of-group-row of--pad"},lV={class:"of-group-row of--pad"},cV={class:"of-block"},uV={class:"of-group of--elevated"},dV={class:"of-group-row of--pad"},fV={class:"of-group-row of--pad"},pV={class:"of-group-row of--pad"},hV={class:"column filled",style:{"margin-right":"5px"}},mV={class:"of-block"},gV={class:"of-group of--elevated"},vV={class:"of-group-row of--pad"},yV={class:"of-block"},bV={class:"of-group of--elevated"},wV={class:"of-group-row of--pad"},kV={class:"of-group-row of--pad"},CV={class:"of-block"},SV={class:"of-group of--elevated"},xV={class:"of-group-row of--pad"},AV={class:"of-group-row of--pad"},MV={class:"of-group-row of--pad"},TV={class:"container"};function EV(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-button"),l=K("of-select-field"),c=K("of-dialog"),u=K("of-field"),d=K("of-html-editor"),f=K("of-text-field"),p=K("of-toggle-field"),h=K("of-slider-field"),m=K("of-datetime-field"),v=K("of-date-field"),y=K("of-time-field"),w=K("of-toggle");return P(),W("div",B7,[t[77]||(t[77]=g("h1",null,"Popups and Dialogs",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),t[78]||(t[78]=g("hr",null,null,-1)),b(a,{onClick:e.toggleDialog},{default:j(()=>[...t[16]||(t[16]=[ce("Show dialog",-1)])]),_:1},8,["onClick"]),b(c,{modelValue:e.dialogActive,"onUpdate:modelValue":t[1]||(t[1]=k=>e.dialogActive=k)},{default:j(()=>[g("div",H7,[t[17]||(t[17]=g("h4",null,"Simple Dialog",-1)),b(l,{items:["one","two"],modelValue:e.selectValue,"onUpdate:modelValue":t[0]||(t[0]=k=>e.selectValue=k),label:"Test select"},null,8,["modelValue"])])]),_:1},8,["modelValue"]),t[79]||(t[79]=g("p",null,null,-1)),b(a,{onClick:e.toggleSecondDialog},{default:j(()=>[...t[18]||(t[18]=[ce(" Show dialog with header, footer and resize function ",-1)])]),_:1},8,["onClick"]),b(c,{modelValue:e.secondDialogActive,"onUpdate:modelValue":t[5]||(t[5]=k=>e.secondDialogActive=k),resize:""},{header:j(()=>[...t[19]||(t[19]=[g("div",{class:"of-dialog-fixed-content"},"Header",-1)])]),default:j(()=>[g("div",z7,[t[21]||(t[21]=g("h4",null,"Dialog with nested",-1)),b(l,{items:["one","two"],modelValue:e.selectValueSecondDialog,"onUpdate:modelValue":t[2]||(t[2]=k=>e.selectValueSecondDialog=k),label:"Test select"},null,8,["modelValue"]),g("p",null,[b(a,{onClick:e.toggleNestedDialog},{default:j(()=>[...t[20]||(t[20]=[ce(" Show nested dialog ",-1)])]),_:1},8,["onClick"])])]),b(c,{modelValue:e.nestedDialogActive,"onUpdate:modelValue":t[4]||(t[4]=k=>e.nestedDialogActive=k)},{default:j(()=>[g("div",F7,[t[22]||(t[22]=g("h4",null,"Nested Dialog",-1)),b(l,{items:["one","two"],label:"Test select",modelValue:e.selectValueSecondDialog,"onUpdate:modelValue":t[3]||(t[3]=k=>e.selectValueSecondDialog=k)},null,8,["modelValue"])])]),_:1},8,["modelValue"])]),footer:j(()=>[...t[23]||(t[23]=[g("div",{class:"of-dialog-fixed-content"},"Footer",-1)])]),_:1},8,["modelValue"]),t[80]||(t[80]=g("p",null,null,-1)),b(a,{onClick:e.toggleThirdDialog},{default:j(()=>[...t[24]||(t[24]=[ce(" Show dialog with html editor ",-1)])]),_:1},8,["onClick"]),b(c,{modelValue:e.thirdDialogActive,"onUpdate:modelValue":t[8]||(t[8]=k=>e.thirdDialogActive=k)},{default:j(()=>[g("div",j7,[t[25]||(t[25]=g("h1",null,"HTML Editor",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),t[26]||(t[26]=g("hr",null,null,-1)),g("div",U7,[b(u,{modelValue:e.editable,"onUpdate:modelValue":t[6]||(t[6]=k=>e.editable=k),label:"Editable",type:"toggle","label-position":"input"},null,8,["modelValue"])]),t[27]||(t[27]=g("br",null,null,-1)),b(d,{modelValue:e.content,"onUpdate:modelValue":t[7]||(t[7]=k=>e.content=k),onUpdated:e.updated,editable:e.editable,label:"Message"},null,8,["modelValue","onUpdated","editable"])])]),_:1},8,["modelValue"]),t[81]||(t[81]=g("p",null,null,-1)),b(a,{onClick:e.toggleFourthDialog},{default:j(()=>[...t[28]||(t[28]=[ce(" Show dialog with scrolling content ",-1)])]),_:1},8,["onClick"]),b(c,{modelValue:e.fourthDialogActive,"onUpdate:modelValue":t[11]||(t[11]=k=>e.fourthDialogActive=k)},{header:j(()=>[...t[29]||(t[29]=[g("div",{class:"of-dialog-fixed-content"},"Header",-1)])]),default:j(()=>[g("div",K7,[t[43]||(t[43]=g("h4",null,"Dialog with scrolling content",-1)),t[44]||(t[44]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),g("div",W7,[g("div",q7,[g("div",G7,[g("div",J7,[g("div",Y7,[b(l,{label:"Select",items:[{value:"optionA",text:"A"},{value:"optionB",text:"B"}],record:e.testRecord,name:"one"},null,8,["record"])])]),g("div",Z7,[g("div",X7,[b(f,{label:"Text",name:"two",record:e.testRecord},null,8,["record"])])]),g("div",Q7,[g("div",eP,[b(p,{name:"three",label:"Toggle","label-position":"input",record:e.testRecord},null,8,["record"])])]),g("div",tP,[g("div",nP,[b(h,{name:"four",label:"Slider",record:e.testRecord},null,8,["record"])])]),g("div",oP,[g("div",rP,[b(m,{name:"five",label:"Date and time picker",record:e.testRecord},null,8,["record"])])]),g("div",sP,[g("div",iP,[b(v,{name:"six",label:"Date picker",required:"",record:e.testRecord},null,8,["record"])])]),g("div",aP,[g("div",lP,[b(y,{name:"seven",label:"Time picker",record:e.testRecord},null,8,["record"])])]),g("div",cP,[g("div",uP,[b(a,{onClick:t[9]||(t[9]=k=>e.testRecord.reset()),disabled:e.testRecord.locked},{default:j(()=>[...t[30]||(t[30]=[ce(" Reset ",-1)])]),_:1},8,["disabled"])])])])]),g("div",dP,[g("div",fP,[t[32]||(t[32]=g("h4",null,"Record state",-1)),g("div",pP,[g("div",hP,[b(w,{label:"Locked",checked:e.testRecord.locked,"onUpdate:checked":t[10]||(t[10]=k=>e.testRecord.locked=k),switch:""},null,8,["checked"])])]),g("div",mP,[t[31]||(t[31]=g("div",{class:"column sm-4"},"Updated:",-1)),g("div",gP,Fe(e.testRecord.updated||!1),1)]),b(i,{lang:"json",value:e.formatValue},null,8,["value"])])])]),t[45]||(t[45]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[46]||(t[46]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[47]||(t[47]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[48]||(t[48]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[49]||(t[49]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[50]||(t[50]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),g("div",vP,[g("div",yP,[g("div",bP,[g("div",wP,[g("div",kP,[g("div",CP,[b(u,{id:"pw","input-type":"password",label:"Password"}),b(u,{id:"cpw","input-type":"password",label:"Confirm Password"})])])]),g("div",SP,[g("div",xP,[t[33]||(t[33]=g("div",{class:"of-group-label"},"Primary Address",-1)),g("div",AP,[b(u,{type:"text",label:"Street","model-value":"99 Street Ave.",id:"street",variant:"filled"})]),g("div",MP,[b(u,{type:"text",label:"City","model-value":"Vancouver",variant:"filled",id:"city5"}),b(u,{type:"text",label:"State","model-value":"BC",variant:"filled",id:"state"})])])]),g("div",TP,[g("div",EP,[t[37]||(t[37]=g("div",{class:"of-group-label"},"Phone Numbers",-1)),g("div",$P,[b(u,{type:"text",frame:"none","model-value":"999-888-7777",variant:"filled",density:"3",id:"ph14"}),t[34]||(t[34]=g("label",{class:"of-group-label",for:"ph14"},"work",-1))]),g("div",OP,[b(u,{type:"text",frame:"none","model-value":"999-888-7778",variant:"filled",density:"3",id:"ph2"}),t[35]||(t[35]=g("label",{class:"of-group-label",for:"ph2"},"mobile",-1))]),g("div",DP,[b(u,{type:"text",frame:"none","model-value":"999-888-7789",variant:"filled",density:"3",id:"ph31"}),t[36]||(t[36]=g("label",{class:"of-group-label",for:"ph31"},"home",-1))])])])]),g("div",RP,[g("div",NP,[g("div",IP,[g("div",LP,[b(u,{id:"pw2","input-type":"password",label:"Password"}),b(u,{id:"cpw2","input-type":"password",label:"Confirm Password"})])])]),g("div",PP,[g("div",VP,[t[38]||(t[38]=g("div",{class:"of-group-label"},"Primary Address",-1)),g("div",_P,[b(u,{type:"text",label:"Street","model-value":"99 Street Ave.",id:"street2",variant:"filled"})]),g("div",BP,[b(u,{type:"text",label:"City","model-value":"Vancouver",variant:"filled",id:"city2"}),b(u,{type:"text",label:"State","model-value":"BC",variant:"filled",id:"state2"})])])]),g("div",HP,[g("div",zP,[t[42]||(t[42]=g("div",{class:"of-group-label"},"Phone Numbers",-1)),g("div",FP,[b(u,{type:"text",frame:"none","model-value":"999-888-7777",variant:"filled",density:"3",id:"ph11"}),t[39]||(t[39]=g("label",{class:"of-group-label",for:"ph11"},"work",-1))]),g("div",jP,[b(u,{type:"text",frame:"none","model-value":"999-888-7778",variant:"filled",density:"3",id:"ph2"}),t[40]||(t[40]=g("label",{class:"of-group-label",for:"ph2"},"mobile",-1))]),g("div",UP,[b(u,{type:"text",frame:"none","model-value":"999-888-7789",variant:"filled",density:"3",id:"ph32"}),t[41]||(t[41]=g("label",{class:"of-group-label",for:"ph32"},"home",-1))])])])])])])])]),footer:j(()=>[...t[51]||(t[51]=[g("div",{class:"of-dialog-fixed-content"},"Footer",-1)])]),_:1},8,["modelValue"]),t[82]||(t[82]=g("p",null,null,-1)),b(a,{onClick:e.toggleFifthDialog},{default:j(()=>[...t[52]||(t[52]=[ce(" Show dialog with scrolling & resize ",-1)])]),_:1},8,["onClick"]),b(c,{modelValue:e.fifthDialogActive,"onUpdate:modelValue":t[13]||(t[13]=k=>e.fifthDialogActive=k),resize:""},{header:j(()=>[...t[53]||(t[53]=[g("div",{class:"of-dialog-fixed-content"},"Header",-1)])]),default:j(()=>[g("div",KP,[t[66]||(t[66]=g("h4",null,"Show dialog with resize possibility",-1)),t[67]||(t[67]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),g("div",WP,[g("div",qP,[g("div",GP,[t[55]||(t[55]=g("h4",null,"Record state",-1)),g("div",JP,[g("div",YP,[b(w,{label:"Locked",checked:e.testRecord.locked,"onUpdate:checked":t[12]||(t[12]=k=>e.testRecord.locked=k),switch:""},null,8,["checked"])])]),g("div",ZP,[t[54]||(t[54]=g("div",{class:"column sm-4"},"Updated:",-1)),g("div",XP,Fe(e.testRecord.updated||!1),1)]),b(i,{lang:"json",value:e.formatValue},null,8,["value"])])])]),t[68]||(t[68]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[69]||(t[69]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[70]||(t[70]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[71]||(t[71]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[72]||(t[72]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),t[73]||(t[73]=g("p",null,' "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." ',-1)),g("div",QP,[g("div",eV,[g("div",tV,[g("div",nV,[g("div",oV,[g("div",rV,[b(u,{id:"pw3","input-type":"password",label:"Password"}),b(u,{id:"cpw3","input-type":"password",label:"Confirm Password"})])])]),g("div",sV,[g("div",iV,[t[56]||(t[56]=g("div",{class:"of-group-label"},"Primary Address",-1)),g("div",aV,[b(u,{type:"text",label:"Street","model-value":"99 Street Ave.",id:"street3",variant:"filled"})]),g("div",lV,[b(u,{type:"text",label:"City","model-value":"Vancouver",variant:"filled",id:"city3"}),b(u,{type:"text",label:"State","model-value":"BC",variant:"filled",id:"state3"})])])]),g("div",cV,[g("div",uV,[t[60]||(t[60]=g("div",{class:"of-group-label"},"Phone Numbers",-1)),g("div",dV,[b(u,{type:"text",frame:"none","model-value":"999-888-7777",variant:"filled",density:"3",id:"ph12"}),t[57]||(t[57]=g("label",{class:"of-group-label",for:"ph12"},"work",-1))]),g("div",fV,[b(u,{type:"text",frame:"none","model-value":"999-888-7778",variant:"filled",density:"3",id:"ph22"}),t[58]||(t[58]=g("label",{class:"of-group-label",for:"ph22"},"mobile",-1))]),g("div",pV,[b(u,{type:"text",frame:"none","model-value":"999-888-7789",variant:"filled",density:"3",id:"ph33"}),t[59]||(t[59]=g("label",{class:"of-group-label",for:"ph33"},"home",-1))])])])]),g("div",hV,[g("div",mV,[g("div",gV,[g("div",vV,[b(u,{id:"pw4","input-type":"password",label:"Password"}),b(u,{id:"cpw4","input-type":"password",label:"Confirm Password"})])])]),g("div",yV,[g("div",bV,[t[61]||(t[61]=g("div",{class:"of-group-label"},"Primary Address",-1)),g("div",wV,[b(u,{type:"text",label:"Street","model-value":"99 Street Ave.",id:"street4",variant:"filled"})]),g("div",kV,[b(u,{type:"text",label:"City","model-value":"Vancouver",variant:"filled",id:"city4"}),b(u,{type:"text",label:"State","model-value":"BC",variant:"filled",id:"state4"})])])]),g("div",CV,[g("div",SV,[t[65]||(t[65]=g("div",{class:"of-group-label"},"Phone Numbers",-1)),g("div",xV,[b(u,{type:"text",frame:"none","model-value":"999-888-7777",variant:"filled",density:"3",id:"ph13"}),t[62]||(t[62]=g("label",{class:"of-group-label",for:"ph13"},"work",-1))]),g("div",AV,[b(u,{type:"text",frame:"none","model-value":"999-888-7778",variant:"filled",density:"3",id:"ph23"}),t[63]||(t[63]=g("label",{class:"of-group-label",for:"ph23"},"mobile",-1))]),g("div",MV,[b(u,{type:"text",frame:"none","model-value":"999-888-7789",variant:"filled",density:"3",id:"ph34"}),t[64]||(t[64]=g("label",{class:"of-group-label",for:"ph34"},"home",-1))])])])])])])])]),footer:j(()=>[...t[74]||(t[74]=[g("div",{class:"of-dialog-fixed-content"},"Footer",-1)])]),_:1},8,["modelValue"]),t[83]||(t[83]=g("p",null,null,-1)),b(a,{onClick:e.toggleSixthDialog},{default:j(()=>[...t[75]||(t[75]=[ce("Show dialog with close button",-1)])]),_:1},8,["onClick"]),b(c,{modelValue:e.sixthDialogActive,"onUpdate:modelValue":t[15]||(t[15]=k=>e.sixthDialogActive=k),"hide-on-blur":!1,"show-close-button":!0},{default:j(()=>[g("div",TV,[t[76]||(t[76]=g("h4",null,"Simple Dialog",-1)),b(l,{items:["one","two"],modelValue:e.selectValueSixthDialog,"onUpdate:modelValue":t[14]||(t[14]=k=>e.selectValueSixthDialog=k),label:"Test select"},null,8,["modelValue"])])]),_:1},8,["modelValue"])])}const $V=ht(_7,[["render",EV]]),OV=["success","final","info","draft","pending","deferred","special","error","alert","warning","danger","closed","dead","invert"],DV=`
<!-- State -->
<of-badge status="info">Info</of-badge>
<of-badge status="info" scale="sm">Info</of-badge>
<of-badge status="info" scale="lg">Info</of-badge>
<of-badge status="info"><of-icon name="print" />Info</of-badge>
<of-badge circular status="info">Info</of-badge>
<of-badge circular status="info"><of-icon name="print" /></of-badge>
<of-badge icon status="info"><of-icon name="print" /></of-badge>
<of-badge icon circular status="info"><of-icon name="print" /></of-badge>
`,RV=["default","0","1","2","3"],NV=be({setup(){const e=pt({density:"default"});return{statusList:OV,sampleCode:DV,densities:RV,params:e}}}),IV={class:"container"},LV={class:"demo-fields of--elevated-1"},PV={class:"row"},VV={class:"column spaced"};function _V(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-field"),l=K("of-badge"),c=K("of-icon");return P(),W("div",IV,[t[10]||(t[10]=g("h1",null,"Badges",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),g("div",LV,[g("div",PV,[g("div",VV,[b(a,{modelValue:e.params.density,"onUpdate:modelValue":t[0]||(t[0]=u=>e.params.density=u),label:"Density",type:"select",items:e.densities},null,8,["modelValue","items"])])]),t[4]||(t[4]=g("h2",null,"States",-1)),(P(!0),W(Pe,null,ct(e.statusList,u=>(P(),ot(l,{status:u,key:u,density:e.params.density},{default:j(()=>[ce(Fe(u),1)]),_:2},1032,["status","density"]))),128)),t[5]||(t[5]=g("h2",null,"Scale",-1)),b(l,{scale:"sm",status:"warning",density:e.params.density},{default:j(()=>[...t[1]||(t[1]=[ce("small",-1)])]),_:1},8,["density"]),b(l,{scale:"nm",status:"warning",density:e.params.density},{default:j(()=>[...t[2]||(t[2]=[ce("normal",-1)])]),_:1},8,["density"]),b(l,{scale:"lg",status:"warning",density:e.params.density},{default:j(()=>[...t[3]||(t[3]=[ce("large",-1)])]),_:1},8,["density"]),t[6]||(t[6]=g("h2",null,"Icons",-1)),(P(!0),W(Pe,null,ct(e.statusList,u=>(P(),ot(l,{status:u,key:u,density:e.params.density},{default:j(()=>[b(c,{name:"print"}),ce(Fe(u),1)]),_:2},1032,["status","density"]))),128)),t[7]||(t[7]=g("h2",null,"Circular",-1)),(P(!0),W(Pe,null,ct(e.statusList,u=>(P(),ot(l,{circular:"",status:u,key:u,density:e.params.density},{default:j(()=>[ce(Fe(u),1)]),_:2},1032,["status","density"]))),128)),t[8]||(t[8]=g("br",null,null,-1)),(P(!0),W(Pe,null,ct(e.statusList,u=>(P(),ot(l,{circular:"",status:u,key:u,density:e.params.density},{default:j(()=>[b(c,{name:"print"}),ce(Fe(u),1)]),_:2},1032,["status","density"]))),128)),t[9]||(t[9]=g("h2",null,"Icon only",-1)),b(l,{icon:"",scale:"sm",status:"warning",density:e.params.density},{default:j(()=>[b(c,{name:"print"})]),_:1},8,["density"]),b(l,{icon:"",scale:"nm",status:"warning",density:e.params.density},{default:j(()=>[b(c,{name:"print"})]),_:1},8,["density"]),b(l,{icon:"",scale:"lg",status:"warning",density:e.params.density},{default:j(()=>[b(c,{name:"print"})]),_:1},8,["density"]),b(l,{icon:"",circular:"",scale:"sm",status:"warning",density:e.params.density},{default:j(()=>[b(c,{name:"print"})]),_:1},8,["density"]),b(l,{icon:"",circular:"",scale:"nm",status:"warning",density:e.params.density},{default:j(()=>[b(c,{name:"print"})]),_:1},8,["density"]),b(l,{icon:"",circular:"",scale:"lg",status:"warning",density:e.params.density},{default:j(()=>[b(c,{name:"print"})]),_:1},8,["density"])])])}const BV=ht(NV,[["render",_V]]),HV=be({setup(){return{columns:C([{id:"todo",title:"To Do",limit:7,cards:[{id:"card-1",title:"Kanban Board: Create components hierarchy and create base component",project:{id:"project-1",name:"Project 1",icon:"mobile"},order:0,assignee:{id:"assignee-1",name:"Michael Whitehead",avatar:"https://1crm9-demo.1crmcloud.com/files/images/directory/1/MichaelWhitehead.png"},tags:["Bug","Feature"]},{id:"card-2",title:"Kanban Board: Create KanbanColumn component",project:{id:"project-2",name:"Project 2",icon:"email"},order:1,assignee:{id:"assignee-2",name:"admin"},tags:["Feature","1CRM","Oceanfront"]},{id:"card-33",title:"Test card 1",project:{id:"project-3",name:"Project 3",icon:"email"},order:2,assignee:{id:"assignee-3",name:"Charlie Brown"}},{id:"card-34",title:"Test card 2",project:{id:"project-4",name:"Project 3",icon:"email"},order:3,assignee:{id:"assignee-1",name:"Michael Whitehead",avatar:"https://1crm9-demo.1crmcloud.com/files/images/directory/1/MichaelWhitehead.png"}},{id:"card-35",title:"Test card 3",project:{id:"project-4",name:"Project 3",icon:"email"},order:4,assignee:{id:"assignee-4",name:"Alex Johnson"}}]},{id:"in-progress",title:"In Progress",limit:3,cards:[{id:"card-3",title:"Style Improvements",project:{id:"project-3",name:"Project 3",icon:"mobile"},order:0,assignee:{id:"assignee-3",name:"Charlie Brown"}}]},{id:"test",title:"Reviewe & Test",cards:[{id:"card-5",title:"Kanban Board: Implement Basic Drag-and-Drop",project:{id:"project-5",name:"Project 5",icon:"email"},order:0,assignee:{id:"assignee-5",name:"Alex Johnson"}}]},{id:"done",title:"Done",cards:[{id:"card-4",title:"Basic Component Setup",project:{id:"project-4",name:"Project 4",icon:"mobile"},order:0,assignee:{id:"assignee-4",name:"David Lee"}}]},{id:"empty",title:"Empty",cards:[]}]),sampleCode:`
<of-kanban-board
  v-model:columns="columns"
  :column-menu-items="columnMenuItems"
  :card-menu-items="cardMenuItems"
  :has-more-cards="columnHasMore"
  search-input-placeholder="Search by keyword..."
  @column-menu-item-click="handleColumnMenuItemClick"
  @card-moved="handleCardMoved"
  @add-card="handleAddCard"
  @card-click="handleCardClick"
  @project-click="onProjectClick"
  @assignee-click="onAssigneeClick"
  @card-title-click="onCardTitleClick"
  @card-menu-item-click="handleCardMenuItemClick"
  @load-more="handleLoadMore"
/>
`,columnMenuItems:[{text:"Option 1",value:"option-1",attrs:{"data-test":"my-btn"}},{text:"Option 2",value:h=>{console.log("Option 2 custom handler",h)}}],cardMenuItems:[{text:"Card Option 1",value:"option-1",attrs:{"data-test":"my-btn"}},{text:"Card Option 2",value:h=>{console.log("Option 2 custom handler",h)}}],handleColumnMenuItemClick:(h,m)=>{console.log("Column menu item clicked:",h,m)},handleCardMoved:h=>{console.log("Card moved:",h)},handleAddCard:h=>{console.log("Add card to column:",h)},handleCardClick:h=>{console.log("Card clicked:",h)},handleCardMenuItemClick:(h,m)=>{console.log("Card menu item clicked:",h,m)},handleFilterChange:h=>{console.log("Filter changed:",h)},handleCardTagClick:h=>{console.log("Card tag clicked:",h)},onProjectClick:h=>{console.log("Project clicked:",h)},onAssigneeClick:h=>{console.log("Assignee clicked:",h)},onCardTitleClick:h=>{console.log("Card title clicked:",h)}}}}),zV={class:"container"},FV=["onClick"],jV={class:"project-icon"},UV={class:"project-name"},KV=["onClick"];function WV(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-icon"),l=K("of-kanban-board");return P(),W("div",zV,[t[5]||(t[5]=g("h1",null,"Kanban Board",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),b(l,{columns:e.columns,"onUpdate:columns":t[0]||(t[0]=c=>e.columns=c),"column-menu-items":e.columnMenuItems,"card-menu-items":e.cardMenuItems,"search-input-placeholder":"Search by keyword...",onColumnMenuItemClick:e.handleColumnMenuItemClick,onCardMoved:e.handleCardMoved,onAddCard:e.handleAddCard,onCardClick:e.handleCardClick,onCardTagClick:e.handleCardTagClick,onProjectClick:e.onProjectClick,onAssigneeClick:e.onAssigneeClick,onCardTitleClick:e.onCardTitleClick,onCardMenuItemClick:e.handleCardMenuItemClick,onFilterChange:e.handleFilterChange},{"clear-filters":j(()=>[...t[1]||(t[1]=[ce("Clear Filters",-1)])]),"create-button":j(()=>[...t[2]||(t[2]=[ce("Create Issue",-1)])]),filters:j(()=>[...t[3]||(t[3]=[])]),"card-title":j(({card:c})=>[g("div",{class:"custom-title",onClick:u=>e.onCardTitleClick(c)},Fe(c.title),9,FV)]),project:j(({card:c})=>[g("div",jV,[b(a,{name:c.project?.icon??"mobile"},null,8,["name"])]),g("div",UV,[g("div",{class:"project-text",onClick:u=>e.onProjectClick(c.project)},Fe(c.project?.name),9,KV)])]),avatar:j(()=>[...t[4]||(t[4]=[])]),_:1},8,["columns","column-menu-items","card-menu-items","onColumnMenuItemClick","onCardMoved","onAddCard","onCardClick","onCardTagClick","onProjectClick","onAssigneeClick","onCardTitleClick","onCardMenuItemClick","onFilterChange"])])}const qV=ht(HV,[["render",WV],["__scopeId","data-v-866cb074"]]),GV=be({setup(){return{elevations:["1","2","3","4","5"],sampleCode:`
`}}}),JV={class:"container"};function YV(e,t,n,o,r,s){return P(),W("div",JV,[t[0]||(t[0]=g("h1",null,"Elevation",-1)),(P(!0),W(Pe,null,ct(e.elevations,i=>(P(),W("div",{class:Xe(["elevation-demo",`of--elevated-${i}`]),key:i},[g("span",null,"Elevation "+Fe(i),1)],2))),128))])}const ZV=ht(GV,[["render",YV]]),XV=be({setup(){const e=C("<h3><i>Oceanfront is the best UI lib!</i></h3>"),t=C("<b>One row lightweight menu</b>"),n=`
<of-html-editor v-model="content" />
<of-html-editor :record="record" name="description" />`,o=C(!0);return{sampleCode:n,content:e,content2:t,editable:o,updated:l=>{console.log("updated",l)},onImageUpload:async l=>({url:URL.createObjectURL(l)}),onImageUploadSuccess:()=>{},onImageUploadError:()=>{}}}}),QV={class:"container"},e9={class:"row"};function t9(e,t,n,o,r,s){const i=K("of-highlight"),a=K("of-field"),l=K("of-html-editor");return P(),W("div",QV,[t[3]||(t[3]=g("h1",null,"HTML Editor",-1)),b(i,{lang:"html",value:e.sampleCode},null,8,["value"]),t[4]||(t[4]=g("hr",null,null,-1)),g("div",e9,[b(a,{modelValue:e.editable,"onUpdate:modelValue":t[0]||(t[0]=c=>e.editable=c),label:"Editable",type:"toggle","label-position":"input"},null,8,["modelValue"])]),t[5]||(t[5]=g("br",null,null,-1)),b(l,{modelValue:e.content,"onUpdate:modelValue":t[1]||(t[1]=c=>e.content=c),onUpdated:e.updated,editable:e.editable,label:"Message","on-image-upload":e.onImageUpload,"on-image-upload-success":e.onImageUploadSuccess,"on-image-upload-error":e.onImageUploadError},null,8,["modelValue","onUpdated","editable","on-image-upload","on-image-upload-success","on-image-upload-error"]),t[6]||(t[6]=g("br",null,null,-1)),b(l,{modelValue:e.content2,"onUpdate:modelValue":t[2]||(t[2]=c=>e.content2=c),onUpdated:e.updated,editable:e.editable,label:"Lightweight HTML Editor","toolbar-items":["bold","italic","underline","heading-3","code","highlight","add-link","numbered-list","bulleted-list","blockquote","source-mode"],"one-row":""},null,8,["modelValue","onUpdated","editable"])])}const n9=ht(XV,[["render",t9]]);function lu(e,t,n){return Array.isArray(e)?e:typeof e!="number"?[e.r,e.g,e.b]:[e,t||0,n||0]}function cu(e,t,n){return Array.isArray(e)?e:typeof e!="number"?[e.h,e.s,e.l]:[e,t||0,n||0]}function o9(e,t,n){return Array.isArray(e)?e:typeof e!="number"?[e.l,e.a,e.b]:[e,t||0,n||0]}function r9(e,t,n){[e,t,n]=cu(e,t,n);let o,r,s;if(t==0)o=r=s=n;else{let i=function(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?c+(u-c)*6*d:d<.5?u:d<.6666666666666666?c+(u-c)*(.6666666666666666-d)*6:c};const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=i(l,a,e+1/3),r=i(l,a,e),s=i(l,a,e-1/3)}return[o*255,r*255,s*255]}function pi(e,t,n){const o=r9(cu(e,t,n));return{r:o[0],g:o[1],b:o[2]}}function ud(e){return .0031308>=e?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055}function dd(e){return .04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92}function s9(e,t,n){[e,t,n]=lu(e,t,n);const o=.4122214708*e+.5363325363*t+.0514459929*n,r=.2119034982*e+.6806995451*t+.1073969566*n,s=.0883024619*e+.2817188376*t+.6299787005*n,i=Math.cbrt(o),a=Math.cbrt(r),l=Math.cbrt(s);return[.2104542553*i+.793617785*a-.0040720468*l,1.9779984951*i-2.428592205*a+.4505937099*l,.0259040371*i+.7827717662*a-.808675766*l]}function hw(e,t,n){[e,t,n]=o9(e,t,n);const o=e+.3963377774*t+.2158037573*n,r=e-.1055613458*t-.0638541728*n,s=e-.0894841775*t-1.291485548*n,i=o*o*o,a=r*r*r,l=s*s*s;return[4.0767416621*i-3.3077115913*a+.2309699292*l,-1.2684380046*i+2.6097574011*a-.3413193965*l,-.0041960863*i-.7034186147*a+1.707614701*l]}function i9(e){const t=1.170873786407767;return .5*(t*e-.206+Math.sqrt((t*e-.206)*(t*e-.206)+4*.03*t*e))}function a9(e){return(e*e+.206*e)/(1.170873786407767*(e+.03))}function l9(e,t){let n,o,r,s,i,a,l,c;-1.88170328*e-.80936493*t>1?(n=1.19086277,o=1.76576728,r=.59662641,s=.75515197,i=.56771245,a=4.0767416621,l=-3.3077115913,c=.2309699292):1.81444104*e-1.19445276*t>1?(n=.73956515,o=-.45954404,r=.08285427,s=.1254107,i=.14503204,a=-1.2684380046,l=2.6097574011,c=-.3413193965):(n=1.35733652,o=-.00915799,r=-1.1513021,s=-.50559606,i=.00692167,a=-.0041960863,l=-.7034186147,c=1.707614701);let u=n+o*e+r*t+s*e*e+i*e*t;const d=.3963377774*e+.2158037573*t,f=-.1055613458*e-.0638541728*t,p=-.0894841775*e-1.291485548*t;{const h=1+u*d,m=1+u*f,v=1+u*p,y=h*h*h,w=m*m*m,k=v*v*v,S=3*d*h*h,M=3*f*m*m,L=3*p*v*v,N=6*d*d*h,V=6*f*f*m,_=6*p*p*v,G=a*y+l*w+c*k,te=a*S+l*M+c*L,Y=a*N+l*V+c*_;u=u-G*te/(te*te-.5*G*Y)}return u}function Pp(e,t){const n=l9(e,t),o=hw(1,n*e,n*t),r=Math.cbrt(1/Math.max(Math.max(o[0],o[1]),o[2])),s=r*n;return[r,s]}function c9(e,t,n,o,r,s){s||(s=Pp(e,t));let i;if((n-r)*s[1]-(s[0]-r)*o<=0)i=s[1]*r/(o*s[0]+s[1]*(r-n));else{i=s[1]*(r-1)/(o*(s[0]-1)+s[1]*(r-n));{const a=n-r,l=o,c=.3963377774*e+.2158037573*t,u=-.1055613458*e-.0638541728*t,d=-.0894841775*e-1.291485548*t,f=a+l*c,p=a+l*u,h=a+l*d;{const m=r*(1-i)+i*n,v=i*o,y=m+v*c,w=m+v*u,k=m+v*d,S=y*y*y,M=w*w*w,L=k*k*k,N=3*f*y*y,V=3*p*w*w,_=3*h*k*k,G=6*f*f*y,te=6*p*p*w,Y=6*h*h*k,q=4.0767416621*S-3.3077115913*M+.2309699292*L-1,$=4.0767416621*N-3.3077115913*V+.2309699292*_,F=4.0767416621*G-3.3077115913*te+.2309699292*Y,E=$/($*$-.5*q*F);let T=-q*E;const J=-1.2684380046*S+2.6097574011*M-.3413193965*L-1,le=-1.2684380046*N+2.6097574011*V-.3413193965*_,ye=-1.2684380046*G+2.6097574011*te-.3413193965*Y,Me=le/(le*le-.5*J*ye);let me=-J*Me;const X=-.0041960863*S-.7034186147*M+1.707614701*L-1,ae=-.0041960863*N-.7034186147*V+1.707614701*_,Ee=-.0041960863*G-.7034186147*te+1.707614701*Y,B=ae/(ae*ae-.5*X*Ee);let H=-X*B;T=E>=0?T:1e6,me=Me>=0?me:1e6,H=B>=0?H:1e6,i+=Math.min(T,Math.min(me,H))}}}return i}function u9(e,t,n){n||(n=Pp(e,t));const o=n[0],r=n[1];return[r/o,r/(1-o)]}function mw(e,t,n){const o=Pp(t,n),r=c9(t,n,e,1,e,o),s=u9(t,n,o),i=.11516993+1/(7.4477897+4.1590124*n+t*(-2.19557347+1.75198401*n+t*(-2.13704948-10.02301043*n+t*(-4.24894561+5.38770819*n+4.69891013*t)))),a=.11239642+1/(1.6132032-.68124379*n+t*(.40370612+.90148123*n+t*(-.27087943+.6122399*n+t*(.00299215-.45399568*n-.14661872*t)))),l=r/Math.min(e*s[0],(1-e)*s[1]);let c;{const d=e*i,f=(1-e)*a;c=.9*l*Math.sqrt(Math.sqrt(1/(1/(d*d*d*d)+1/(f*f*f*f))))}let u;{const d=e*.4,f=(1-e)*.8;u=Math.sqrt(1/(1/(d*d)+1/(f*f)))}return[u,c,r]}function d9(e,t,n){if([e,t,n]=cu(e,t,n),n==1)return[255,255,255];if(n==0)return[0,0,0];const o=Math.cos(2*Math.PI*e),r=Math.sin(2*Math.PI*e),s=a9(n),i=mw(s,o,r),a=i[0],l=i[1],c=i[2];let u,d,f,p;t<.8?(u=1.25*t,d=0,f=.8*a,p=1-f/l):(u=5*(t-.8),d=l,f=.2*l*l*1.25*1.25/a,p=1-f/(c-l));const h=d+u*f/(1-p*u),m=hw(s,h*o,h*r);return[255*ud(m[0]),255*ud(m[1]),255*ud(m[2])]}function f9(e,t,n){const o=d9(cu(e,t,n));return{r:o[0],g:o[1],b:o[2]}}function p9(e,t,n){[e,t,n]=lu(e,t,n);const o=s9(dd(e/255),dd(t/255),dd(n/255)),r=Math.sqrt(o[1]*o[1]+o[2]*o[2]),s=o[1]/r,i=o[2]/r,a=o[0],l=.5+.5*Math.atan2(-o[2],-o[1])/Math.PI,c=mw(a,s,i),u=c[0],d=c[1],f=c[2];let p;if(r<d){const m=.8*u,v=1-m/d;p=(r-0)/(m+v*(r-0))*.8}else{const m=d,v=.2*d*d*1.25*1.25/u,y=1-v/(f-d);p=.8+.2*((r-m)/(v+y*(r-m)))}const h=i9(a);return[l,p,h]}function h9(e,t,n){const[o,r,s]=p9(lu(e,t,n));return{h:o,s:r,l:s}}function m9(e){if(e.substr(0,1)=="#"&&(e=e.substr(1)),e.match(/^([0-9a-f]{3})$/i)){const t=parseInt(e.charAt(0),16)/15*255,n=parseInt(e.charAt(1),16)/15*255,o=parseInt(e.charAt(2),16)/15*255;return[t,n,o]}if(e.match(/^([0-9a-f]{6})$/i)){const t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16);return[t,n,o]}if(e.match(/^([0-9a-f]{1})$/i)){const t=parseInt(e.substr(0),16)/15*255;return[t,t,t]}if(e.match(/^([0-9a-f]{2})$/i)){const t=parseInt(e.substr(0,2),16);return[t,t,t]}return null}function g9(e){const t=m9(e);return t?{r:t[0],g:t[1],b:t[2]}:null}function As(e,t,n){[e,t,n]=lu(e,t,n);function o(r){const s=Math.round(r).toString(16);return s.length==1?"0"+s:s}return"#"+o(e)+o(t)+o(n)}const v9=()=>({primary:As(pi(189/360,.47,.5)),secondary:As(pi(189.06/360,.5248,.198)),tertiary:As(pi(227/360,.97,.5)),neutral:As(pi(80/360,.06,.44)),section:As(pi(211/360,.87,.53))}),y9={lightness:{neutral:.4},saturation:{section:{dark:.4}}},b9=Array.from({length:101}).map((e,t)=>t),tv=(e,t,n,o)=>{const r=e[n];if(!r)return 1;const s=r[t];return s?typeof s=="number"?s:s[o]??1:1},w9=(e,t)=>Object.keys(eo(e??{})).reduce((n,o)=>{const r=e?.[o]??"";return n[o]={},["light","dark"].forEach(s=>{const i=tv(t,o,"lightness",s),a=tv(t,o,"saturation",s);n[o][s]=b9.reduce((l,c)=>{const u=h9(g9(r)||{r:0,g:0,b:0});u.l*=i,u.s*=a,u.l=c/100;const d=As(f9(u));return{...l,[c]:d}},{})}),n},{}),k9=e=>{let t="";return t+=`--of-color-primary-light: ${e.primary.light[40]};
`,t+=`--of-color-primary-container-light: ${e.primary.light[90]};
`,t+=`--of-color-on-primary-light: ${e.primary.light[100]};
`,t+=`--of-color-on-primary-container-light: ${e.primary.light[10]};
`,t+=`--of-color-secondary-light: ${e.secondary.light[40]};
`,t+=`--of-color-secondary-container-light: ${e.secondary.light[90]};
`,t+=`--of-color-on-secondary-light: ${e.secondary.light[100]};
`,t+=`--of-color-on-secondary-container-light: ${e.secondary.light[10]};
`,t+=`--of-color-tertiary-light: ${e.tertiary.light[40]};
`,t+=`--of-color-tertiary-container-light: ${e.tertiary.light[90]};
`,t+=`--of-color-on-tertiary-light: ${e.tertiary.light[100]};
`,t+=`--of-color-on-tertiary-container-light: ${e.tertiary.light[10]};
`,t+=`--of-color-error-light: #ba1b1b;
`,t+=`--of-color-on-error-light: #ffffff;
`,t+=`--of-color-error-container-light: #ffdad4;
`,t+=`--of-color-on-error-container-light: #410001;
`,t+=`--of-color-background-light: ${e.neutral.light[98]};
`,t+=`--of-color-on-background-light: ${e.neutral.light[10]};
`,t+=`--of-color-outline-light: ${e.neutral.light[50]};
`,t+=`--of-color-shadow-light: ${e.neutral.light[0]};
`,t+=`--of-color-surface-light: ${e.neutral.light[95]};
`,t+=`--of-color-on-surface-light: ${e.neutral.light[10]};
`,t+=`--of-color-surface-variant-light: ${e.neutral.light[95]};
`,t+=`--of-color-on-surface-variant-light: ${e.neutral.light[30]};
`,t+=`--of-color-inverse-surface-light: ${e.neutral.light[20]};
`,t+=`--of-color-inverse-on-surface-light: ${e.neutral.light[95]};
`,t+=`--of-color-inverse-primary-light: ${e.primary.light[95]};
`,t+=`--of-color-inverse-secondary-light: ${e.secondary.light[95]};
`,t+=`--of-color-inverse-tertiary-light: ${e.tertiary.light[95]};
`,t+=`--of-color-section-border-light: ${e.section.light[72]};
`,t+=`--of-color-section-bg-light: ${e.section.light[98]};
`,t+=`--of-color-section-alt-bg-light: ${e.section.light[97]};
`,t+=`--of-color-section-header-light: ${e.section.light[95]};
`,t+=`--of-color-section-header2-light: ${e.section.light[93]};
`,t+=`--of-color-section-header3-light: ${e.section.light[91]};
`,t+=`--of-color-primary-dark: ${e.primary.dark[80]};
`,t+=`--of-color-primary-container-dark: ${e.primary.dark[30]};
`,t+=`--of-color-on-primary-dark: ${e.primary.dark[20]};
`,t+=`--of-color-on-primary-container-dark: ${e.primary.dark[90]};
`,t+=`--of-color-secondary-dark: ${e.secondary.dark[80]};
`,t+=`--of-color-on-secondary-dark: ${e.secondary.dark[30]};
`,t+=`--of-color-secondary-container-dark: ${e.secondary.dark[20]};
`,t+=`--of-color-on-secondary-container-dark: ${e.secondary.dark[90]};
`,t+=`--of-color-tertiary-dark: ${e.tertiary.dark[80]};
`,t+=`--of-color-on-tertiary-dark: ${e.tertiary.dark[30]};
`,t+=`--of-color-tertiary-container-dark: ${e.tertiary.dark[20]};
`,t+=`--of-color-on-tertiary-container-dark: ${e.tertiary.dark[90]};
`,t+=`--of-color-error-dark: #ffb4a9;
`,t+=`--of-color-on-error-dark: #680003;
`,t+=`--of-color-error-container-dark: #930006;
`,t+=`--of-color-on-error-container-dark: #ffdad4;
`,t+=`--of-color-background-dark: ${e.neutral.dark[25]};
`,t+=`--of-color-on-background-dark: ${e.neutral.dark[90]};
`,t+=`--of-color-outline-dark: ${e.neutral.dark[60]};
`,t+=`--of-color-shadow-dark: ${e.neutral.dark[0]};
`,t+=`--of-color-surface-dark: ${e.neutral.dark[30]};
`,t+=`--of-color-on-surface-dark: ${e.neutral.dark[90]};
`,t+=`--of-color-surface-variant-dark: ${e.neutral.dark[30]};
`,t+=`--of-color-on-surface-variant-dark: ${e.neutral.dark[80]};
`,t+=`--of-color-inverse-surface-dark: ${e.neutral.dark[90]};
`,t+=`--of-color-inverse-on-surface-dark: ${e.neutral.dark[20]};
`,t+=`--of-color-inverse-primary-dark: ${e.primary.dark[10]};
`,t+=`--of-color-inverse-secondary-dark: ${e.secondary.dark[10]};
`,t+=`--of-color-inverse-tertiary-dark: ${e.tertiary.dark[10]};
`,t+=`--of-color-section-border-dark: ${e.section.dark[60]};
`,t+=`--of-color-section-bg-dark: ${e.section.dark[26]};
`,t+=`--of-color-section-alt-bg-dark: ${e.section.dark[27]};
`,t+=`--of-color-section-header-dark: ${e.section.dark[30]};
`,t+=`--of-color-section-header2-dark: ${e.section.dark[32]};
`,t+=`--of-color-section-header3-dark: ${e.section.dark[34]};
`,t},C9=be({name:"ColorSchemeEditor",props:{colors:Object,limits:Object},emits:["colorUpdated","palletteUpdated"],setup(e,t){const n=A(()=>{const o=e.limits??{};return w9(e.colors,o)});return Ae(()=>n.value,o=>{t.emit("palletteUpdated",o)},{immediate:!0}),{pallettes:n,formatName:o=>o.substring(0,1).toUpperCase()+o.substring(1).replace(/-/g," "),updateColor:(o,r)=>{t.emit("colorUpdated",o,r)}}}}),S9=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},x9={class:"column",style:{"max-width":"10em"}},A9={class:"of-field-label"};function M9(e,t,n,o,r,s){const i=K("of-field");return P(!0),W(Pe,null,ct(e.colors,(a,l)=>(P(),W("div",{key:l,class:"row content"},[g("div",x9,[b(i,{"model-value":e.colors?.[l],type:"color","onUpdate:modelValue":c=>e.updateColor(l,c)},{label:j(()=>[g("label",A9,[Qe(e.$slots,"label",{colorName:l,color:a},()=>[ce(Fe(e.formatName(l)),1)])])]),_:2},1032,["model-value","onUpdate:modelValue"])])]))),128)}const T9=S9(C9,[["render",M9]]),nv=pt(v9()),E9=be({components:{OfColorSchemeEditor:T9},setup(){const e=C("");return{colors:nv,palletteUpdated:r=>{e.value=k9(r)},colorUpdated:(r,s)=>{nv[r]=s},styles:e,applyScheme:()=>{const r=document.head.querySelector("style#colorscheme-preview");r&&(r.innerText=`:root {${e.value.replaceAll(`
`,"")}}`)},limits:y9}},mounted(){if(!document.head.querySelector("style#colorscheme-preview")){const t=document.createElement("style");t.setAttribute("id","colorscheme-preview"),document.head.appendChild(t)}}}),$9={class:"container",style:{}},O9={class:"row content"},D9={class:"column spaced"},R9={class:"column spaced"},N9={class:"container"};function I9(e,t,n,o,r,s){const i=K("of-color-scheme-editor"),a=K("of-button"),l=K("of-highlight");return P(),W(Pe,null,[g("div",$9,[t[4]||(t[4]=g("h1",null,"Color scheme editor",-1)),g("div",O9,[g("div",D9,[t[0]||(t[0]=g("h2",null,"Source colors",-1)),b(i,{colors:e.colors,limits:e.limits,onColorUpdated:e.colorUpdated,onPalletteUpdated:e.palletteUpdated},null,8,["colors","limits","onColorUpdated","onPalletteUpdated"])]),g("div",R9,[t[3]||(t[3]=g("h2",null,"Application color palette",-1)),g("div",{class:"palette-grid of--elevated-2 styled",style:Ht(e.styles)},[...t[1]||(t[1]=[Sd('<div class="primary" data-v-7c1ef06c>Primary</div><div class="on-primary" data-v-7c1ef06c>On Primary</div><div class="primary-container" data-v-7c1ef06c>Primary Container</div><div class="on-primary-container" data-v-7c1ef06c>On Primary Container</div><div class="secondary" data-v-7c1ef06c>Secondary</div><div class="on-secondary" data-v-7c1ef06c>On Secondary</div><div class="secondary-container" data-v-7c1ef06c>Secondary Container</div><div class="on-secondary-container" data-v-7c1ef06c>On Secondary Container</div><div class="tertiary" data-v-7c1ef06c>Tertiary</div><div class="on-tertiary" data-v-7c1ef06c>On Tertiary</div><div class="tertiary-container" data-v-7c1ef06c>Tertiary Container</div><div class="on-tertiary-container" data-v-7c1ef06c>On Tertiary Container</div><div class="error" data-v-7c1ef06c>Error</div><div class="on-error" data-v-7c1ef06c>On Error</div><div class="error-container" data-v-7c1ef06c>Error Container</div><div class="on-error-container" data-v-7c1ef06c>On Error Container</div><div class="background" data-v-7c1ef06c>Background</div><div class="on-background" data-v-7c1ef06c>On Background</div><div class="surface" data-v-7c1ef06c>Surface</div><div class="on-surface" data-v-7c1ef06c>On Surface</div><div class="surface-variant" data-v-7c1ef06c>Surface Variant</div><div class="on-surface-variant" data-v-7c1ef06c>On Surface Variant</div><div class="inverse-surface" data-v-7c1ef06c>Inverse Surface</div><div class="inverse-on-surface" data-v-7c1ef06c>Inverse On Surface</div><div class="outline" data-v-7c1ef06c>Outline</div><div class="shadow" data-v-7c1ef06c>Shadow</div><div class="inverse-primary" data-v-7c1ef06c>Inverse Primary</div><div class="inverse-secondary" data-v-7c1ef06c>Inverse Secondary</div><div class="inverse-tertiary" data-v-7c1ef06c>Inverse Tertiary</div>',29)])],4),g("p",null,[b(a,{variant:"elevated",onClick:e.applyScheme},{default:j(()=>[...t[2]||(t[2]=[ce("Apply",-1)])]),_:1},8,["onClick"])])])])]),g("div",{class:"container styled",style:Ht(e.styles)},[...t[5]||(t[5]=[Sd('<h2 data-v-7c1ef06c>Section</h2><div class="sections" data-v-7c1ef06c><div class="header separated" data-v-7c1ef06c>Title</div><div class="header2 separated" data-v-7c1ef06c>Title 2</div><div class="header3 separated" data-v-7c1ef06c>Title 3</div><div class="bg separated" data-v-7c1ef06c>Background</div><div class="bg-alt" data-v-7c1ef06c>Alt background</div></div>',2)])],4),g("div",N9,[b(l,{lang:"css",value:e.styles},null,8,["value"])])],64)}const L9=ht(E9,[["render",I9],["__scopeId","data-v-7c1ef06c"]]),P9=MT("/ofdocs"),V9=XT({history:P9,routes:[{path:"/",name:"index",component:pN},{path:"/icons",component:cN},{path:"/field-states",component:FN},{path:"/records",component:xI},{path:"/custom-records",component:qI},{path:"/formatters",component:qR},{path:"/buttons",component:xN},{path:"/file-inputs",component:WN},{path:"/select-inputs",component:ZI},{path:"/slider-inputs",component:tL},{path:"/text-inputs",component:aL},{path:"/toggle-inputs",component:dL},{path:"/radio-inputs",component:mL},{path:"/datetime-inputs",component:IL},{path:"/color-picker-inputs",component:CL},{path:"/group-inputs",component:QL},{path:"/data-tables",component:LR},{path:"/tabs",component:h7},{path:"/pagination",component:k7},{path:"/calendar",component:V7},{path:"/popups",component:$V},{path:"/badges",component:BV},{path:"/kanban",component:qV},{path:"/color-scheme",component:L9},{path:"/elevation",component:ZV},{path:"/html-editor",component:n9}]}),_9=be({name:"Minutes",props:ko,setup(e,t){const n=xa(e,t),o=Xs(),r=A(()=>e.record||o.getCurrentRecord()),s=C(!1),i=C(),a=h=>{if(i.value)return i.value.focus(),h&&i.value.select(),!0},l=A(()=>{const h=parseInt(r.value?.value[e.name+"_hours"])||0,m=parseInt(r.value?.value[e.name+"_minutes"])||0;return h*60+m}),c={onChange:h=>{if(!r.value)return;const m=h.target;if(!m)return;const v=m.value;let y=parseInt(v);if(!isNaN(y)){const w=y<0?-1:1;y*=w,r.value.value[e.name+"_hours"]=(w*Math.floor(y/60)).toFixed(0),r.value.value[e.name+"_minutes"]=(w*(y%60)).toFixed(0)}},onFocus:()=>{s.value=!0},onBlur:()=>{s.value=!1}},u={interactiveContent:()=>D("input",{type:"number",readonly:!n.editable,class:["of-field-input"],value:l.value,...c,ref:i})},d=Yo({cursor:A(()=>n.editable?"text":"normal"),focused:s,focus:a});Zo(d);const f=A(()=>({...e,class:{"of-text-field":!0},onClick:()=>a(n.editable)}));return()=>D(Xo,f,{...u,...t.slots})}});uC(u3).use(GM,{config:()=>{EC(),R1("minutes",_9)}}).use(gR).use(V9).mount("#app");
